# V8Harvest  
The Harvest of V8 v8 regress.  
  

## **v8 issue:8607**  
   
**[Issue: Dcheck on jsfunfuzz](https://crbug.com/v8/8607)**  
**[Commit: [parser] Fix late-checked destructuring pattern followed by property](https://chromium.googlesource.com/v8/v8/+/81a11c1)**  
  
Date(Commit): Tue Dec 18 17:52:10 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/c/1382744](https://chromium-review.googlesource.com/c/1382744)  
Regress: [mjsunit/regress/regress-8607.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-8607.js)  
```javascript
assertThrows("[({ p: this }), [][0]] = x", SyntaxError);
assertThrows("[...a, [][0]] = []", SyntaxError);
assertThrows("[...o=1,[][0]] = []", SyntaxError);
assertThrows("({x(){},y:[][0]} = {})", SyntaxError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/81a11c1^!)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=81a11c1)  
[test/mjsunit/regress/regress-8607.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-8607.js?cl=81a11c1)  
  
---   

## **v8 issue:7773**  
   
**[Issue: Hard Crash: Check Failure in Runtime_InternalSetPrototype](https://crbug.com/v8/7773)**  
**[Commit: [runtime] Fix Runtime_InternalSetPrototype](https://chromium.googlesource.com/v8/v8/+/fb434f1)**  
  
Date(Commit): Fri Dec 14 12:06:04 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/c/1375912](https://chromium-review.googlesource.com/c/1375912)  
Regress: [mjsunit/regress/regress-7773.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7773.js)  
```javascript
(function testFunctionNames() {
  let descriptor = {
    value: '',
    writable: false,
    enumerable: false,
    configurable: true
  };
  
  assertEquals(
      descriptor, Object.getOwnPropertyDescriptor(function(){}, 'name'));
  let a = { fn: function(){} };
  assertSame('fn', a.fn.name);
  descriptor.value = 'fn';
  assertEquals(descriptor, Object.getOwnPropertyDescriptor(a.fn, 'name'));

  let b = { __proto__: function(){} };
  assertSame('', b.__proto__.name);
  descriptor.value = '';
  assertEquals(
      descriptor, Object.getOwnPropertyDescriptor(b.__proto__, 'name'));

  let c = { fn: function F(){} };
  assertSame('F', c.fn.name);
  descriptor.value = 'F';
  assertEquals(descriptor, Object.getOwnPropertyDescriptor(c.fn, 'name'));

  let d = { __proto__: function E(){} };
  assertSame('E', d.__proto__.name);
  descriptor.value = 'E';
  assertEquals(
      descriptor, Object.getOwnPropertyDescriptor(d.__proto__, 'name'));
})();

(function testClassNames() {
  let descriptor = {
    value: '',
    writable: false,
    enumerable: false,
    configurable: true
  };

  
  assertSame(undefined, Object.getOwnPropertyDescriptor(class {}, 'name'));
  descriptor.value = 'C';
  assertEquals(descriptor, Object.getOwnPropertyDescriptor(class C {}, 'name'));

  let a = { fn: class {} };
  assertSame('fn', a.fn.name);
  descriptor.value = 'fn';
  assertEquals(descriptor, Object.getOwnPropertyDescriptor(a.fn, 'name'));

  let b = { __proto__: class {} };
  assertSame('', b.__proto__.name);
  assertSame(
      undefined, Object.getOwnPropertyDescriptor(b.__proto__, 'name'));

  let c = { fn: class F {} };
  assertSame('F', c.fn.name);
  descriptor.value = 'F';
  assertEquals(descriptor, Object.getOwnPropertyDescriptor(c.fn, 'name'));

  let d = { __proto__: class F {} };
  assertSame('F', d.__proto__.name);
  descriptor.value = 'F';
  assertEquals(
      descriptor, Object.getOwnPropertyDescriptor(d.__proto__, 'name'));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fb434f1^!)  
[src/runtime/runtime-object.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-object.cc?cl=fb434f1)  
[test/mjsunit/es6/classes.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/classes.js?cl=fb434f1)  
[test/mjsunit/regress/regress-7773.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7773.js?cl=fb434f1)  
  
---   

## **v8 issue:8533**  
   
**[Issue: No Permission](https://crbug.com/v8/8533)**  
**[Commit: [wasm] Load thread-in-wasm flag from the isolate](https://chromium.googlesource.com/v8/v8/+/148ef60)**  
  
Date(Commit): Wed Dec 05 15:10:11 2018  
Type: None  
Code Review: [https://chromium-review.googlesource.com/c/1358518](https://chromium-review.googlesource.com/c/1358518)  
Regress: [mjsunit/regress/wasm/regress-8533.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-8533.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');






const sync_address = 12;
(function TestPostModule() {
  let builder = new WasmModuleBuilder();
  let sig_index = builder.addType(kSig_v_v);
  let import_id = builder.addImport('m', 'func', sig_index);
  builder.addFunction('wait', kSig_v_v)
      .addBody([
        
        
        kExprCallFunction, import_id,  
        kExprLoop, kWasmStmt,          
        kExprI32Const, sync_address,   
        kExprI32LoadMem, 0, 0,         
        kExprI32Eqz,
        kExprBrIf, 0,                  
        kExprEnd,
      ])
      .exportFunc();

  builder.addFunction('signal', kSig_v_v)
      .addBody([
        kExprI32Const, sync_address,  
        kExprI32Const, 1,             
        kExprI32StoreMem, 0, 0,       
        ])
      .exportFunc();
  builder.addImportedMemory("m", "imported_mem", 0, 1, "shared");

  let module = builder.toModule();
  let memory = new WebAssembly.Memory({initial: 1, maximum: 1, shared: true});

  let workerScript = `
    onmessage = function(msg) {
      try {
        let worker_instance = new WebAssembly.Instance(msg.module,
            {m: {imported_mem: msg.memory,
                 func: _ => 5}});
        postMessage("start running");
        worker_instance.exports.wait();
        postMessage("finished");
      } catch(e) {
        postMessage('ERROR: ' + e);
      }
    }
  `;

  let worker = new Worker(workerScript, {type: 'string'});
  worker.postMessage({module: module, memory: memory});

  let main_instance = new WebAssembly.Instance(
      module, {m: {imported_mem: memory, func: _ => 7}});

  let counter = 0;
  function CheckThreadNotInWasm() {
    
    
    assertFalse(%IsThreadInWasm());
    counter++;
    if (counter < 100) {
      setTimeout(CheckThreadNotInWasm, 0);
    } else {
      main_instance.exports.signal(sync_address);
      assertEquals('finished', worker.getMessage());
      worker.terminate();
    }
  }

  assertFalse(%IsThreadInWasm());
  assertEquals('start running', worker.getMessage());
  CheckThreadNotInWasm();
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/148ef60^!)  
[src/compiler/wasm-compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/wasm-compiler.cc?cl=148ef60)  
[src/external-reference.cc](https://cs.chromium.org/chromium/src/v8/src/external-reference.cc?cl=148ef60)  
[src/external-reference.h](https://cs.chromium.org/chromium/src/v8/src/external-reference.h?cl=148ef60)  
[src/isolate.h](https://cs.chromium.org/chromium/src/v8/src/isolate.h?cl=148ef60)  
[src/runtime/runtime-test.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-test.cc?cl=148ef60)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=148ef60)  
[test/mjsunit/regress/wasm/regress-8533.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-8533.js?cl=148ef60)  
[test/unittests/wasm/trap-handler-x64-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/wasm/trap-handler-x64-unittest.cc?cl=148ef60)  
  
---   

## **v8 issue:8505**  
   
**[Issue: Intrinsified Math.pow is slightly incorrect in WASM and asm.js](https://crbug.com/v8/8505)**  
**[Commit: [wasm] Intrinsify math imports](https://chromium.googlesource.com/v8/v8/+/99484e2)**  
  
Date(Commit): Mon Nov 26 15:17:51 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/c/1349279](https://chromium-review.googlesource.com/c/1349279)  
Regress: [mjsunit/regress/wasm/regress-8505.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-8505.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

function verbose(args) {
  
}




let numFailures = 0;

function reportFailure(name, vals, m, w) {
  print("  error: " + name + "(" + vals + ") == " + w + ", expected " + m);
  numFailures++;
}

let global_imports = {Math: Math};

let inputs = [
  1 / 0,
  -1 / 0,
  0 / 0,
  -2.70497e+38,
  -1.4698e+37,
  -1.22813e+35,
  -1.34584e+34,
  -1.0079e+32,
  -6.49364e+26,
  -3.06077e+25,
  -1.46821e+25,
  -1.17658e+23,
  -1.9617e+22,
  -2.7357e+20,
  -9223372036854775808.0,  
  -1.48708e+13,
  -1.89633e+12,
  -4.66622e+11,
  -2.22581e+11,
  -1.45381e+10,
  -2147483904.0,  
  -2147483648.0,  
  -2147483520.0,  
  -1.3956e+09,
  -1.32951e+09,
  -1.30721e+09,
  -1.19756e+09,
  -9.26822e+08,
  -5.09256e+07,
  -964300.0,
  -192446.0,
  -28455.0,
  -27194.0,
  -20575.0,
  -17069.0,
  -9167.0,
  -960.178,
  -113.0,
  -62.0,
  -15.0,
  -7.0,
  -1.0,
  -0.0256635,
  -4.60374e-07,
  -3.63759e-10,
  -4.30175e-14,
  -5.27385e-15,
  -1.5707963267948966,
  -1.48084e-15,
  -2.220446049250313e-16,
  -1.05755e-19,
  -3.2995e-21,
  -1.67354e-23,
  -1.11885e-23,
  -1.78506e-30,
  -1.43718e-34,
  -1.27126e-38,
  -0.0,
  3e-88,
  -2e66,
  0.0,
  2e66,
  1.17549e-38,
  1.56657e-37,
  4.08512e-29,
  6.25073e-22,
  4.1723e-13,
  1.44343e-09,
  1.5707963267948966,
  5.27004e-08,
  9.48298e-08,
  5.57888e-07,
  4.89988e-05,
  0.244326,
  1.0,
  12.4895,
  19.0,
  47.0,
  106.0,
  538.324,
  564.536,
  819.124,
  7048.0,
  12611.0,
  19878.0,
  20309.0,
  797056.0,
  1.77219e+09,
  2147483648.0,  
  4294967296.0,  
  1.51116e+11,
  4.18193e+13,
  3.59167e+16,
  9223372036854775808.0,   
  18446744073709551616.0,  
  3.38211e+19,
  2.67488e+20,
  1.78831e+21,
  9.20914e+21,
  8.35654e+23,
  1.4495e+24,
  5.94015e+25,
  4.43608e+30,
  2.44502e+33,
  1.38178e+37,
  1.71306e+37,
  3.31899e+38,
  3.40282e+38,
];

function assertBinop(name, math_func, wasm_func) {
  let inputs2 = [ 1, 0.5, -1, -0.5,  0, -0, 1/0, -1/0, 0/0 ];
  for (val of inputs) {
    verbose("  ", val);
    for (val2 of inputs2) {
      verbose("    ", val2);
      let m = math_func(val, val2);
      let w = wasm_func(val, val2);
      if (!deepEquals(m, w)) reportFailure(name, [val, val2], m, w);
      m = math_func(val2, val);
      w = wasm_func(val2, val);
      if (!deepEquals(m, w)) reportFailure(name, [val2, val], m, w);
    }
  }
}

let stdlib = this;
function Module_exp(stdlib) {
  "use asm";

  var Stdlib = stdlib.Math.exp;

  function NAME(a, b) {
    a = +a;
    b = +b;
    return +Stdlib(a, b);
  }

  return {exp: exp};
}

function wasmBinop(name, sig) {
  var builder = new WasmModuleBuilder();

  var sig_index = builder.addType(sig);
  builder.addImport('Math', name, sig_index);
  builder.addFunction('main', sig_index)
      .addBody([
        kExprGetLocal, 0,  
        kExprGetLocal, 1,  
        kExprCallFunction, 0
      ])  
      .exportAs('main');

  return builder.instantiate(global_imports).exports.main;
}

function asmBinop(name) {
  let instance = Module_exp(stdlib);
  assertTrue(%IsAsmWasmCode(Module_exp));

  let asm_func = instance[name];
  if (typeof asm_func != "function") throw "asm[" + full_name + "] not found";
  return asm_func;
}

(function TestF64() {
  let name = 'exp';
  let math_func = Math[name];

  let wasm_func = wasmBinop(name, kSig_d_dd);
  assertBinop("(f64)" + name, math_func, wasm_func);

  let asm_func = asmBinop(name);
  assertBinop("(f64)" + name, math_func, asm_func);
})();

assertEquals(0, numFailures);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/99484e2^!)  
[src/compiler/pipeline.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/pipeline.cc?cl=99484e2)  
[src/compiler/wasm-compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/wasm-compiler.cc?cl=99484e2)  
[src/compiler/wasm-compiler.h](https://cs.chromium.org/chromium/src/v8/src/compiler/wasm-compiler.h?cl=99484e2)  
[src/flag-definitions.h](https://cs.chromium.org/chromium/src/v8/src/flag-definitions.h?cl=99484e2)  
[src/wasm/module-compiler.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/module-compiler.cc?cl=99484e2)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=99484e2)  
[test/mjsunit/regress/wasm/regress-8505.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-8505.js?cl=99484e2)  
[test/mjsunit/wasm/asm-wasm-math-intrinsic.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/wasm/asm-wasm-math-intrinsic.js?cl=99484e2)  
[test/mjsunit/wasm/wasm-constants.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/wasm/wasm-constants.js?cl=99484e2)  
[test/mjsunit/wasm/wasm-math-intrinsic.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/wasm/wasm-math-intrinsic.js?cl=99484e2)  
  
---   

## **v8 issue:8445**  
   
**[Issue: Spec violation: RegExp.constructor not respected](https://crbug.com/v8/8445)**  
**[Commit: [regexp] Introduce species constructor protector for regexps.](https://chromium.googlesource.com/v8/v8/+/3ca32e9)**  
  
Date(Commit): Fri Nov 16 10:07:03 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/c/1335696](https://chromium-review.googlesource.com/c/1335696)  
Regress: [mjsunit/regress-v8-8445-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress-v8-8445-2.js), [mjsunit/regress-v8-8445.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress-v8-8445.js)  
```javascript
class MyRegExp {
  exec() { return null; }
}

var r = /c/;

assertEquals(["ab", ""], "abc".split(r));
assertEquals([["c"]], [..."c".matchAll(r)]);

r.constructor =  { [Symbol.species] : MyRegExp };

assertEquals(["abc"], "abc".split(r));
assertEquals([], [..."c".matchAll(r)]);

assertEquals(["ab", ""], "abc".split(/c/));
assertEquals([["c"]], [..."c".matchAll(/c/)]);

RegExp.prototype.constructor =  { [Symbol.species] : MyRegExp };

assertEquals(["abc"], "abc".split(/c/));
assertEquals([], [..."c".matchAll(/c/)]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3ca32e9^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=3ca32e9)  
[src/builtins/builtins-regexp-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-regexp-gen.cc?cl=3ca32e9)  
[src/code-stub-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.cc?cl=3ca32e9)  
[src/code-stub-assembler.h](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.h?cl=3ca32e9)  
[src/contexts.h](https://cs.chromium.org/chromium/src/v8/src/contexts.h?cl=3ca32e9)  
[src/heap/setup-heap-internal.cc](https://cs.chromium.org/chromium/src/v8/src/heap/setup-heap-internal.cc?cl=3ca32e9)  
[src/isolate-inl.h](https://cs.chromium.org/chromium/src/v8/src/isolate-inl.h?cl=3ca32e9)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=3ca32e9)  
[src/isolate.h](https://cs.chromium.org/chromium/src/v8/src/isolate.h?cl=3ca32e9)  
[src/lookup.cc](https://cs.chromium.org/chromium/src/v8/src/lookup.cc?cl=3ca32e9)  
[src/roots.h](https://cs.chromium.org/chromium/src/v8/src/roots.h?cl=3ca32e9)  
[test/mjsunit/regress-v8-8445-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress-v8-8445-2.js?cl=3ca32e9)  
[test/mjsunit/regress-v8-8445.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress-v8-8445.js?cl=3ca32e9)  
[tools/v8heapconst.py](https://cs.chromium.org/chromium/src/v8/tools/v8heapconst.py?cl=3ca32e9)  
  
---   

## **v8 issue:8449**  
   
**[Issue: Array iteration should read through holes](https://crbug.com/v8/8449)**  
**[Commit: Fix ArrayIteratorPrototypeNext for holes.](https://chromium.googlesource.com/v8/v8/+/a377c9a)**  
  
Date(Commit): Tue Nov 13 10:09:31 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/c/1332232](https://chromium-review.googlesource.com/c/1332232)  
Regress: [mjsunit/regress/regress-8449.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-8449.js)  
```javascript
{
  const x = [, 1];
  x.__proto__ = [42];
  const y = [...x];
  assertEquals([42, 1], y);
  assertTrue(y.hasOwnProperty(0));
}

{
  const x = [, 1];
  x.__proto__ = [42];
  assertEquals(42, x[Symbol.iterator]().next().value);
}

{
  const array_prototype = [].__proto__;
  array_prototype[0] = 42;
  const x = [, 1];
  assertEquals(42, x[Symbol.iterator]().next().value);
  delete array_prototype[0];
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a377c9a^!)  
[src/builtins/builtins-array-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-array-gen.cc?cl=a377c9a)  
[test/mjsunit/regress/regress-8449.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-8449.js?cl=a377c9a)  
  
---   

## **v8 issue:8384**  
   
**[Issue: TryMatchLoadWord64AndShiftRight causes invalid load/store reordering](https://crbug.com/v8/8384)**  
**[Commit: [instruction-selector-x64] Add missing CanCover check](https://chromium.googlesource.com/v8/v8/+/4dff27e)**  
  
Date(Commit): Wed Oct 31 08:08:40 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/c/1307419](https://chromium-review.googlesource.com/c/1307419)  
Regress: [mjsunit/regress/regress-8384.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-8384.js)  
```javascript
function assert(cond) { if (!cond) throw "Assert"; }

function Constructor() {
  this.padding1 = null;
  this.padding2 = null;
  this.padding3 = null;
  this.padding4 = null;
  this.padding5 = null;
  this.padding6 = null;
  this.padding7 = null;
  this.padding8 = null;
  this.padding9 = null;
  this.padding10 = null;
  this.padding11 = null;
  this.padding12 = null;
  this.padding13 = null;
  this.padding14 = null;
  this.padding15 = null;
  this.padding16 = null;
  this.padding17 = null;
  this.padding18 = null;
  this.padding19 = null;
  this.padding20 = null;
  this.padding21 = null;
  this.padding22 = null;
  this.padding23 = null;
  this.padding24 = null;
  this.padding25 = null;
  this.padding26 = null;
  this.padding27 = null;
  this.padding28 = null;
  this.padding29 = null;
  this.array = null;
  this.accumulator = 0;
}

function f(k) {
  var c = k.accumulator | 0;
  k.accumulator = k.array[(k.accumulator + 1 | 0)] | 0;
  k.array[c + 1 | 0] = (-1);
  var head = k.accumulator;
  assert((head + c) & 1);
  while (head >= 0) {
    head = k.array[head + 1 | 0];
  }
  return;
}

const tmp = new Constructor();
tmp.array = new Int32Array(5);
for (var i = 1; i < 5; i++)
  tmp.array[i] = i | 0;
tmp.accumulator = 0;

f(tmp);
f(tmp);
%OptimizeFunctionOnNextCall(f);
f(tmp);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4dff27e^!)  
[src/compiler/instruction-selector.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/instruction-selector.cc?cl=4dff27e)  
[src/compiler/instruction-selector.h](https://cs.chromium.org/chromium/src/v8/src/compiler/instruction-selector.h?cl=4dff27e)  
[src/compiler/x64/instruction-selector-x64.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/x64/instruction-selector-x64.cc?cl=4dff27e)  
[test/mjsunit/regress/regress-8384.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-8384.js?cl=4dff27e)  
  
---   

## **v8 issue:8380**  
   
**[Issue: Assertion failure during one-line array swap](https://crbug.com/v8/8380)**  
**[Commit: Fix typing of binary operators on BigInt.](https://chromium.googlesource.com/v8/v8/+/c5c6b8b)**  
  
Date(Commit): Tue Oct 30 13:33:55 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/c/1307418](https://chromium-review.googlesource.com/c/1307418)  
Regress: [mjsunit/compiler/regress-8380.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-8380.js)  
```javascript
function reduceLHS() {
  for (var i = 0; i < 2 ;i++) {
    let [q, r] = [1n, 1n];
    r = r - 1n;
    q += 1n;
    q = r;
  }
}

reduceLHS();
%OptimizeFunctionOnNextCall(reduceLHS);
reduceLHS();


function reduceRHS() {
  for (var i = 0; i < 2 ;i++) {
    let [q, r] = [1n, 1n];
    r = 1n - r;
    q += 1n;
    q = r;
  }
}

reduceRHS();
%OptimizeFunctionOnNextCall(reduceRHS);
reduceRHS();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c5c6b8b^!)  
[src/compiler/typer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/typer.cc?cl=c5c6b8b)  
[test/mjsunit/compiler/regress-8380.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-8380.js?cl=c5c6b8b)  
  
---   

## **v8 issue:8377**  
   
**[Issue: Invalid asm.js: Expected ;](https://crbug.com/v8/8377)**  
**[Commit: [asm.js] Fix fall-back case in MultiplicativeExpression.](https://chromium.googlesource.com/v8/v8/+/9195ca9)**  
  
Date(Commit): Mon Oct 29 12:59:01 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/c/1304317](https://chromium-review.googlesource.com/c/1304317)  
Regress: [mjsunit/regress/regress-8377.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-8377.js)  
```javascript
function Module(global, env, buffer) {
  "use asm";
  function test1() {
    var x = 0;
    x = -1 / 1 | 0;
    return x | 0;
  }
  function test2() {
    var x = 0;
    x = (-1 / 1) | 0;
    return x | 0;
  }
  return { test1: test1, test2: test2 };
};
let module = Module(this);
assertEquals(-1, module.test1());
assertEquals(-1, module.test2());
assertTrue(%IsAsmWasmCode(Module));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9195ca9^!)  
[src/asmjs/asm-parser.cc](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-parser.cc?cl=9195ca9)  
[test/mjsunit/regress/regress-8377.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-8377.js?cl=9195ca9)  
  
---   

## **v8 issue:8357**  
   
**[Issue: MaybeCallFunctionAtSymbol spec violation](https://crbug.com/v8/8357)**  
**[Commit: [string] Remove invalid optimization in MaybeCallFunctionAtSymbol](https://chromium.googlesource.com/v8/v8/+/6f08b64)**  
  
Date(Commit): Fri Oct 26 14:39:57 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/c/1301498](https://chromium-review.googlesource.com/c/1301498)  
Regress: [mjsunit/regress/regress-v8-8357.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-8357.js)  
```javascript
const s = "Umbridge has been reading your mail, Harry."

{
  let monkey_called = false;
  s.__proto__.__proto__[Symbol.replace] =
    () => { monkey_called = true; };
  s.replace(s);
  assertTrue(monkey_called);
}

{
  let monkey_called = false;
  s.__proto__.__proto__[Symbol.search] =
    () => { monkey_called = true; };
  s.search(s);
  assertTrue(monkey_called);
}

{
  let monkey_called = false;
  s.__proto__.__proto__[Symbol.match] =
    () => { monkey_called = true; };
  s.match(s);
  assertTrue(monkey_called);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6f08b64^!)  
[src/builtins/builtins-string-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-string-gen.cc?cl=6f08b64)  
[test/mjsunit/regress/regress-v8-8357.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-8357.js?cl=6f08b64)  
  
---   

## **v8 issue:8241**  
   
**[Issue: Destructuring in the arguments of CallExpression is incorrect](https://crbug.com/v8/8241)**  
**[Commit: [parser] Validate destructuring assignment pattern in correct classifier](https://chromium.googlesource.com/v8/v8/+/cd21f71)**  
  
Date(Commit): Tue Oct 23 09:26:19 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/c/1296229](https://chromium-review.googlesource.com/c/1296229)  
Regress: [mjsunit/regress/regress-8241.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-8241.js)  
```javascript
function f(x) { }
f(x=>x, [x,y] = [1,2]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cd21f71^!)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=cd21f71)  
[test/mjsunit/regress/regress-8241.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-8241.js?cl=cd21f71)  
  
---   

## **v8 issue:8265**  
   
**[Issue: Math.random distribution is skewed towards zero when --random_seed is used](https://crbug.com/v8/8265)**  
**[Commit: Warm up RNG when --random_seed is used](https://chromium.googlesource.com/v8/v8/+/88c5da0)**  
  
Date(Commit): Fri Oct 05 15:34:58 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/c/1263816](https://chromium-review.googlesource.com/c/1263816)  
Regress: [mjsunit/regress/regress-8265.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-8265.js)  
```javascript
for (let i = 0; i < 54; ++i) Math.random();
let sum = 0;
for (let i = 0; i < 10; ++i)
  sum += Math.floor(Math.random() * 50);

assertNotEquals(0, sum);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/88c5da0^!)  
[src/base/utils/random-number-generator.h](https://cs.chromium.org/chromium/src/v8/src/base/utils/random-number-generator.h?cl=88c5da0)  
[src/math-random.cc](https://cs.chromium.org/chromium/src/v8/src/math-random.cc?cl=88c5da0)  
[test/mjsunit/regress/regress-8265.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-8265.js?cl=88c5da0)  
  
---   

## **v8 issue:8133**  
   
**[Issue: Current IterableToList implementation can lead to spec violations](https://crbug.com/v8/8133)**  
**[Commit: [typedarray] Properly convert hole to undefined in TypedArray.from](https://chromium.googlesource.com/v8/v8/+/ece86ad)**  
  
Date(Commit): Mon Sep 10 09:31:55 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1213204](https://chromium-review.googlesource.com/1213204)  
Regress: [mjsunit/regress/regress-8133-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-8133-1.js), [mjsunit/regress/regress-8133-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-8133-2.js)  
```javascript
const arr = [1, , 3];

function mapper(x) {
  Array.prototype[1] = 2;
  return x + 1;
}





assertArrayEquals([2, 0, 4], Uint16Array.from(arr, mapper));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ece86ad^!)  
[src/builtins/builtins-typed-array-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-typed-array-gen.cc?cl=ece86ad)  
[test/mjsunit/regress/regress-8133-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-8133-1.js?cl=ece86ad)  
[test/mjsunit/regress/regress-8133-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-8133-2.js?cl=ece86ad)  
  
---   

## **v8 issue:8094**  
   
**[Issue: [wasm] Exception object instantiation is observable](https://crbug.com/v8/8094)**  
**[Commit: [wasm] Make exception creation non-observable by JS.](https://chromium.googlesource.com/v8/v8/+/e8d79f0)**  
  
Date(Commit): Tue Sep 04 10:37:27 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1203951](https://chromium-review.googlesource.com/1203951)  
Regress: [mjsunit/regress/wasm/regress-8094.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-8094.js)  
```javascript
load("test/mjsunit/wasm/wasm-constants.js");
load("test/mjsunit/wasm/wasm-module-builder.js");


var builder = new WasmModuleBuilder();
builder.addException(kSig_v_v);
builder.addFunction("propel", kSig_v_v)
       .addBody([kExprThrow, 0])
       .exportFunc();
var instance = builder.instantiate();


var exception;
try {
  instance.exports.propel();
} catch (e) {
  exception = e;
}




assertInstanceof(exception, WebAssembly.RuntimeError);
assertArrayEquals(["stack", "message"], Object.getOwnPropertyNames(exception));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e8d79f0^!)  
[src/heap-symbols.h](https://cs.chromium.org/chromium/src/v8/src/heap-symbols.h?cl=e8d79f0)  
[src/runtime/runtime-test.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-test.cc?cl=e8d79f0)  
[src/runtime/runtime-wasm.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-wasm.cc?cl=e8d79f0)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=e8d79f0)  
[src/wasm/wasm-module.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/wasm-module.cc?cl=e8d79f0)  
[src/wasm/wasm-module.h](https://cs.chromium.org/chromium/src/v8/src/wasm/wasm-module.h?cl=e8d79f0)  
[test/mjsunit/regress/wasm/regress-8094.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-8094.js?cl=e8d79f0)  
[test/mjsunit/wasm/exceptions.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/wasm/exceptions.js?cl=e8d79f0)  
[test/mjsunit/wasm/wasm-constants.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/wasm/wasm-constants.js?cl=e8d79f0)  
[tools/v8heapconst.py](https://cs.chromium.org/chromium/src/v8/tools/v8heapconst.py?cl=e8d79f0)  
  
---   

## **v8 issue:8095**  
   
**[Issue: [wasm] Stack unwinding crashes during exception handler lookup](https://crbug.com/v8/8095)**  
**[Commit: [wasm] Fix crash during exception stack unwinding.](https://chromium.googlesource.com/v8/v8/+/dd40b33)**  
  
Date(Commit): Tue Aug 28 13:02:44 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1193445](https://chromium-review.googlesource.com/1193445)  
Regress: [mjsunit/regress/wasm/regress-8095.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-8095.js)  
```javascript
load("test/mjsunit/wasm/wasm-constants.js");
load("test/mjsunit/wasm/wasm-module-builder.js");


var error = new Error("my error");
error.__proto__ = new Proxy(new Error(), {
  has(target, property, receiver) {
    assertUnreachable();
  }
});


var builder = new WasmModuleBuilder();
builder.addImport('mod', 'fun', kSig_v_v);
builder.addFunction("funnel", kSig_v_v)
       .addBody([kExprCallFunction, 0])
       .exportFunc();
var instance = builder.instantiate({ mod: {fun: function() { throw error }}});
assertThrows(instance.exports.funnel, Error);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/dd40b33^!)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=dd40b33)  
[src/isolate.h](https://cs.chromium.org/chromium/src/v8/src/isolate.h?cl=dd40b33)  
[test/mjsunit/regress/wasm/regress-8095.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-8095.js?cl=dd40b33)  
  
---   

## **v8 issue:8070**  
   
**[Issue: for of loop still slower than a traditional for loop](https://crbug.com/v8/8070)**  
**[Commit: [es2015] Use [[ArrayIteratorNextIndex]] to indicate exhaustion.](https://chromium.googlesource.com/v8/v8/+/6031f17)**  
  
Date(Commit): Tue Aug 21 11:26:00 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1181902](https://chromium-review.googlesource.com/1181902)  
Regress: [mjsunit/regress/regress-v8-8070.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-8070.js)  
```javascript
function bar(iterator) {
  for (const entry of iterator) {}
}

%NeverOptimizeFunction(bar);

function foo(a) {
  const iterator = a.values();
  bar(iterator);
  return iterator.next().done;
}

const a = [1, 2, 3];
assertTrue(foo(a));
assertTrue(foo(a));
%OptimizeFunctionOnNextCall(foo);
assertTrue(foo(a));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6031f17^!)  
[src/builtins/builtins-array-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-array-gen.cc?cl=6031f17)  
[src/code-stub-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.cc?cl=6031f17)  
[src/code-stub-assembler.h](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.h?cl=6031f17)  
[src/compiler/access-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/access-builder.cc?cl=6031f17)  
[src/compiler/js-call-reducer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-call-reducer.cc?cl=6031f17)  
[src/objects-debug.cc](https://cs.chromium.org/chromium/src/v8/src/objects-debug.cc?cl=6031f17)  
[src/objects/js-array.h](https://cs.chromium.org/chromium/src/v8/src/objects/js-array.h?cl=6031f17)  
[test/mjsunit/regress/regress-v8-8070.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-8070.js?cl=6031f17)  
  
---   

## **v8 issue:8059**  
   
**[Issue: Serialization of WebAssembly.Module assertion failure](https://crbug.com/v8/8059)**  
**[Commit: [wasm] Fix {IsWebAssemblyCompiledModule} predicate.](https://chromium.googlesource.com/v8/v8/+/62b894b)**  
  
Date(Commit): Mon Aug 20 09:17:08 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1180886](https://chromium-review.googlesource.com/1180886)  
Regress: [mjsunit/regress/wasm/regress-8059.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-8059.js)  
```javascript
load("test/mjsunit/wasm/wasm-constants.js");
load("test/mjsunit/wasm/wasm-module-builder.js");

(function TestPostModule() {
  let builder = new WasmModuleBuilder();
  builder.addFunction("add", kSig_i_ii)
    .addBody([kExprGetLocal, 0, kExprGetLocal, 1, kExprI32Add])
    .exportFunc();

  let module = builder.toModule();

  let workerScript = `
    onmessage = function(module) {
      try {
        let instance = new WebAssembly.Instance(module);
        let result = instance.exports.add(40, 2);
        postMessage(result);
      } catch(e) {
        postMessage('ERROR: ' + e);
      }
    }
  `;

  let realm = Realm.create();
  Realm.shared = { m:module, s:workerScript };

  let realmScript = `
    let worker = new Worker(Realm.shared.s, {type: 'string'});
    worker.postMessage(Realm.shared.m);
    let message = worker.getMessage();
    worker.terminate();
    message;
  `;
  let message = Realm.eval(realm, realmScript);
  assertEquals(42, message);
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/62b894b^!)  
[src/api.cc](https://cs.chromium.org/chromium/src/v8/src/api.cc?cl=62b894b)  
[test/mjsunit/regress/wasm/regress-8059.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-8059.js?cl=62b894b)  
  
---   

## **v8 issue:8033**  
   
**[Issue: Use of Label in a false IfStatement](https://crbug.com/v8/8033)**  
**[Commit: [parsing] Fix detection of invalid continue targets.](https://chromium.googlesource.com/v8/v8/+/260af11)**  
  
Date(Commit): Tue Aug 14 08:30:47 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1172292](https://chromium-review.googlesource.com/1172292)  
Regress: [mjsunit/regress/regress-8033.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-8033.js)  
```javascript
assertThrows("foo: if (true) do { continue foo } while (false)", SyntaxError);
assertThrows("foo: if (true) while (false) { continue foo }", SyntaxError);
assertThrows("foo: if (true) for (; false; ) { continue foo }", SyntaxError);
assertThrows("foo: if (true) for (let x of []) { continue foo }", SyntaxError);
assertThrows("foo: if (true) for (let x in []) { continue foo }", SyntaxError);

assertThrows("foo: if (true) { do { continue foo } while (false) }", SyntaxError);
assertThrows("foo: if (true) { while (false) { continue foo } }", SyntaxError);
assertThrows("foo: if (true) { for (; false; ) { continue foo } }", SyntaxError);
assertThrows("foo: if (true) { for (let x of []) { continue foo } }", SyntaxError);
assertThrows("foo: if (true) { for (let x in []) { continue foo } }", SyntaxError);

assertThrows("foo: goo: if (true) do { continue foo } while (false)", SyntaxError);
assertThrows("foo: goo: if (true) while (false) { continue foo }", SyntaxError);
assertThrows("foo: goo: if (true) for (; false; ) { continue foo }", SyntaxError);
assertThrows("foo: goo: if (true) for (let x of []) { continue foo }", SyntaxError);
assertThrows("foo: goo: if (true) for (let x in []) { continue foo }", SyntaxError);

assertThrows("foo: goo: if (true) { do { continue foo } while (false) }", SyntaxError);
assertThrows("foo: goo: if (true) { while (false) { continue foo } }", SyntaxError);
assertThrows("foo: goo: if (true) { for (; false; ) { continue foo } }", SyntaxError);
assertThrows("foo: goo: if (true) { for (let x of []) { continue foo } }", SyntaxError);
assertThrows("foo: goo: if (true) { for (let x in []) { continue foo } }", SyntaxError);

assertDoesNotThrow("if (true) foo: goo: do { continue foo } while (false)");
assertDoesNotThrow("if (true) foo: goo: while (false) { continue foo }");
assertDoesNotThrow("if (true) foo: goo: for (; false; ) { continue foo }");
assertDoesNotThrow("if (true) foo: goo: for (let x of []) { continue foo }");
assertDoesNotThrow("if (true) foo: goo: for (let x in []) { continue foo }");

assertThrows("if (true) foo: goo: { do { continue foo } while (false) }", SyntaxError);
assertThrows("if (true) foo: goo: { while (false) { continue foo } }", SyntaxError);
assertThrows("if (true) foo: goo: { for (; false; ) { continue foo } }", SyntaxError);
assertThrows("if (true) foo: goo: { for (let x of []) { continue foo } }", SyntaxError);
assertThrows("if (true) foo: goo: { for (let x in []) { continue foo } }", SyntaxError);

assertDoesNotThrow("if (true) { foo: goo: do { continue foo } while (false) }");
assertDoesNotThrow("if (true) { foo: goo: while (false) { continue foo } }");
assertDoesNotThrow("if (true) { foo: goo: for (; false; ) { continue foo } }");
assertDoesNotThrow("if (true) { foo: goo: for (let x of []) { continue foo } }");
assertDoesNotThrow("if (true) { foo: goo: for (let x in []) { continue foo } }");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/260af11^!)  
[src/ast/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast/ast.h?cl=260af11)  
[src/ast/prettyprinter.cc](https://cs.chromium.org/chromium/src/v8/src/ast/prettyprinter.cc?cl=260af11)  
[src/ast/prettyprinter.h](https://cs.chromium.org/chromium/src/v8/src/ast/prettyprinter.h?cl=260af11)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=260af11)  
[src/parsing/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.cc?cl=260af11)  
[src/parsing/parser.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.h?cl=260af11)  
[src/parsing/pattern-rewriter.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/pattern-rewriter.cc?cl=260af11)  
[src/parsing/preparser.h](https://cs.chromium.org/chromium/src/v8/src/parsing/preparser.h?cl=260af11)  
[test/mjsunit/regress/regress-8033.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-8033.js?cl=260af11)  
  
---   

## **v8 issue:7914**  
   
**[Issue: [Liftoff][arm64] i32.popcnt produces wrong result](https://crbug.com/v8/7914)**  
**[Commit: [wasm] Add regression test for issue 7914](https://chromium.googlesource.com/v8/v8/+/ca4a8f9)**  
  
Date(Commit): Tue Jul 03 17:03:37 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1124687](https://chromium-review.googlesource.com/1124687)  
Regress: [mjsunit/regress/wasm/regress-7914.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7914.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

const builder = new WasmModuleBuilder();
builder.addMemory(16, 32, false);
builder.addFunction('main', kSig_i_v)
    .addBody([
      ...wasmI32Const(10000),  
      kExprMemoryGrow, 0,      
      kExprI32Popcnt,          
    ])
    .exportFunc();
const instance = builder.instantiate();
assertEquals(32, instance.exports.main());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ca4a8f9^!)  
[test/mjsunit/regress/wasm/regress-7914.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7914.js?cl=ca4a8f9)  
  
---   

## **v8 issue:7893**  
   
**[Issue: Asm.js numeric literal parsing bug](https://crbug.com/v8/7893)**  
**[Commit: [asmjs] Fix parsing hex numeric literals ending with 'e'.](https://chromium.googlesource.com/v8/v8/+/d683fd7)**  
  
Date(Commit): Mon Jul 02 11:52:18 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1116551](https://chromium-review.googlesource.com/1116551)  
Regress: [mjsunit/regress/regress-7893.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7893.js)  
```javascript
function Module(stdlib, imports, buffer) {
  "use asm";
  function f() {
    var bar = 0;
    return 0x1e+bar|0;
  }
  return f;
}
var f = Module(this);
assertTrue(%IsWasmCode(f));
assertTrue(%IsAsmWasmCode(Module));
assertEquals(0x1e, f());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d683fd7^!)  
[AUTHORS](https://cs.chromium.org/chromium/src/v8/AUTHORS?cl=d683fd7)  
[src/asmjs/asm-scanner.cc](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-scanner.cc?cl=d683fd7)  
[test/mjsunit/regress/regress-7893.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7893.js?cl=d683fd7)  
  
---   

## **v8 issue:7907**  
   
**[Issue: Array.p.sort crashing on read-only elements](https://crbug.com/v8/7907)**  
**[Commit: [array] Fix read-only property in NumberDictionary fast-path](https://chromium.googlesource.com/v8/v8/+/327668d)**  
  
Date(Commit): Fri Jun 29 10:40:35 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1119910](https://chromium-review.googlesource.com/1119910)  
Regress: [mjsunit/regress/regress-crbug-7907.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-crbug-7907.js)  
```javascript
let arr = new Array(10);
Object.defineProperty(arr, 0, {value: 10, writable: false});
Object.defineProperty(arr, 9, {value: 1, writable: false});

assertThrows(() => arr.sort(), TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/327668d^!)  
[src/builtins/array-sort.tq](https://cs.chromium.org/chromium/src/v8/src/builtins/array-sort.tq?cl=327668d)  
[test/mjsunit/regress/regress-crbug-7907.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-crbug-7907.js?cl=327668d)  
  
---   

## **v8 issue:7791**  
   
**[Issue: Declaring a data property with the same name as a previously-declared accessor property creates broken property](https://crbug.com/v8/7791)**  
**[Commit: Fix bug in object literals with redeclarations.](https://chromium.googlesource.com/v8/v8/+/21eb202)**  
  
Date(Commit): Mon May 28 13:00:07 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1075054](https://chromium-review.googlesource.com/1075054)  
Regress: [mjsunit/regress/regress-7791.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7791.js)  
```javascript
"use strict";




{
  const o = {
    get foo() { return 666 },
    foo: 42,
  };
  assertEquals(42, Object.getOwnPropertyDescriptor(o, 'foo').value);
}

{
  const o = {
    set foo(_) { },
    foo: 42,
  };
  assertEquals(42, Object.getOwnPropertyDescriptor(o, 'foo').value);
}

{
  const o = {
    get foo() { return 666 },
    set foo(_) { },
    foo: 42,
  };
  assertEquals(42, Object.getOwnPropertyDescriptor(o, 'foo').value);
}

{
  const o = {
    get foo() { return 666 },
    set ['foo'.slice()](_) { },
    foo: 42,
  };
  assertEquals(42, Object.getOwnPropertyDescriptor(o, 'foo').value);
}

{
  const o = {
    get ['foo'.slice()]() { return 666 },
    set ['foo'.slice()](_) { },
    foo: 42,
  };
  assertEquals(42, Object.getOwnPropertyDescriptor(o, 'foo').value);
}




{
  const o = {
    foo: 666,
    get foo() { return 42 },
  };
  assertEquals(42, Object.getOwnPropertyDescriptor(o, 'foo').get());
}

{
  const o = {
    foo: 666,
    set foo(_) { },
  };
  assertEquals(undefined, Object.getOwnPropertyDescriptor(o, 'foo').get);
  assertEquals(undefined, Object.getOwnPropertyDescriptor(o, 'foo').value);
}

{
  const o = {
    foo: 666,
    get foo() { return 42 },
    set foo(_) { },
  };
  assertEquals(42, Object.getOwnPropertyDescriptor(o, 'foo').get());
}

{
  const o = {
    foo: 666,
    get ['foo'.slice()]() { return 42 },
    set foo(_) { },
  };
  assertEquals(42, Object.getOwnPropertyDescriptor(o, 'foo').get());
}

{
  const o = {
    foo: 666,
    get ['foo'.slice()]() { return 42 },
    set ['foo'](_) { },
  };
  assertEquals(42, Object.getOwnPropertyDescriptor(o, 'foo').get());
}




{
  const o = {
    get foo() { return 42 },
    foo: 666,
    set foo(_) { },
  };
  assertEquals(undefined, Object.getOwnPropertyDescriptor(o, 'foo').get);
  assertEquals(undefined, Object.getOwnPropertyDescriptor(o, 'foo').set());
}

{
  const o = {
    set foo(_) { },
    foo: 666,
    get foo() { return 42 },
  };
  assertEquals(42, Object.getOwnPropertyDescriptor(o, 'foo').get());
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/21eb202^!)  
[src/ast/ast.cc](https://cs.chromium.org/chromium/src/v8/src/ast/ast.cc?cl=21eb202)  
[test/mjsunit/regress/regress-7791.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7791.js?cl=21eb202)  
  
---   

## **v8 issue:7785**  
   
**[Issue: Wasm serialization/deserialization breaks {null} references](https://crbug.com/v8/7785)**  
**[Commit: [wasm] Avoid embedding {null} values in WasmCode.](https://chromium.googlesource.com/v8/v8/+/fabb514)**  
  
Date(Commit): Fri May 25 08:33:06 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1070981](https://chromium-review.googlesource.com/1070981)  
Regress: [mjsunit/regress/wasm/regress-7785.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7785.js)  
```javascript
load("test/mjsunit/wasm/wasm-constants.js");
load("test/mjsunit/wasm/wasm-module-builder.js");

(function testAnyRefNull() {
  const builder = new WasmModuleBuilder();
  builder.addFunction('main', kSig_r_v)
      .addBody([kExprRefNull])
      .exportFunc();

  var wire_bytes = builder.toBuffer();
  var module = new WebAssembly.Module(wire_bytes);
  var buffer = %SerializeWasmModule(module);
  module = %DeserializeWasmModule(buffer, wire_bytes);
  var instance = new WebAssembly.Instance(module);

  assertEquals(null, instance.exports.main());
})();

(function testAnyRefIsNull() {
  const builder = new WasmModuleBuilder();
  builder.addFunction('main', kSig_i_r)
      .addBody([kExprGetLocal, 0, kExprRefIsNull])
      .exportFunc();

  var wire_bytes = builder.toBuffer();
  var module = new WebAssembly.Module(wire_bytes);
  var buffer = %SerializeWasmModule(module);
  module = %DeserializeWasmModule(buffer, wire_bytes);
  var instance = new WebAssembly.Instance(module);

  assertEquals(0, instance.exports.main({'hello' : 'world'}));
  assertEquals(0, instance.exports.main(1234));
  assertEquals(0, instance.exports.main(0));
  assertEquals(0, instance.exports.main(123.4));
  assertEquals(0, instance.exports.main(undefined));
  assertEquals(1, instance.exports.main(null));
  assertEquals(0, instance.exports.main(print));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fabb514^!)  
[src/compiler/wasm-compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/wasm-compiler.cc?cl=fabb514)  
[src/compiler/wasm-compiler.h](https://cs.chromium.org/chromium/src/v8/src/compiler/wasm-compiler.h?cl=fabb514)  
[src/wasm/wasm-code-manager.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/wasm-code-manager.cc?cl=fabb514)  
[src/wasm/wasm-objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/wasm/wasm-objects-inl.h?cl=fabb514)  
[src/wasm/wasm-objects.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/wasm-objects.cc?cl=fabb514)  
[src/wasm/wasm-objects.h](https://cs.chromium.org/chromium/src/v8/src/wasm/wasm-objects.h?cl=fabb514)  
[test/cctest/wasm/wasm-run-utils.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/wasm/wasm-run-utils.cc?cl=fabb514)  
[test/mjsunit/regress/wasm/regress-7785.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7785.js?cl=fabb514)  
  
---   

## **v8 issue:7740**  
   
**[Issue: hitting int3 in optimized code](https://crbug.com/v8/7740)**  
**[Commit: [compiler] Fix bug in representation changer.](https://chromium.googlesource.com/v8/v8/+/fc36cac)**  
  
Date(Commit): Mon May 14 10:16:22 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1054670](https://chromium-review.googlesource.com/1054670)  
Regress: [mjsunit/regress/regress-7740.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7740.js)  
```javascript
var x = 0;
x = 42;

function foo(a, b) {
  let y = a < a;
  if (b) x = y;
}

foo(1, false);
foo(1, false);
%OptimizeFunctionOnNextCall(foo);
foo(1, true);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fc36cac^!)  
[src/compiler/representation-change.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/representation-change.cc?cl=fc36cac)  
[src/compiler/representation-change.h](https://cs.chromium.org/chromium/src/v8/src/compiler/representation-change.h?cl=fc36cac)  
[test/mjsunit/regress/regress-7740.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7740.js?cl=fc36cac)  
  
---   

## **v8 issue:7725**  
   
**[Issue: Object.assign seems to freeze when assigning to a proxy with a set trap](https://crbug.com/v8/7725)**  
**[Commit: [builtins] Properly handle non-simple target in Object.assign.](https://chromium.googlesource.com/v8/v8/+/09d4ba0)**  
  
Date(Commit): Wed May 09 13:44:00 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1051653](https://chromium-review.googlesource.com/1051653)  
Regress: [mjsunit/regress/regress-v8-7725.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-7725.js)  
```javascript
var proxy = new Proxy({}, {});

Object.assign(proxy, { b: "boom", a: "ah", o: "ouch" });
assertEquals(["b", "a", "o"], Object.getOwnPropertyNames(proxy));
assertEquals("boom", proxy.b);
assertEquals("ah", proxy.a);
assertEquals("ouch", proxy.o);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/09d4ba0^!)  
[src/builtins/builtins-object-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-object-gen.cc?cl=09d4ba0)  
[src/code-stub-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.cc?cl=09d4ba0)  
[src/code-stub-assembler.h](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.h?cl=09d4ba0)  
[src/ic/keyed-store-generic.cc](https://cs.chromium.org/chromium/src/v8/src/ic/keyed-store-generic.cc?cl=09d4ba0)  
[src/ic/keyed-store-generic.h](https://cs.chromium.org/chromium/src/v8/src/ic/keyed-store-generic.h?cl=09d4ba0)  
[test/mjsunit/regress/regress-v8-7725.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-7725.js?cl=09d4ba0)  
  
---   

## **v8 issue:7716**  
   
**[Issue: Stack overflow: Reflect.set using proxy chained object](https://crbug.com/v8/7716)**  
**[Commit: [proxies] Add missing stack overflow check.](https://chromium.googlesource.com/v8/v8/+/e91cd3c)**  
  
Date(Commit): Mon May 07 18:50:09 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1047612](https://chromium-review.googlesource.com/1047612)  
Regress: [mjsunit/regress/regress-7716.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7716.js)  
```javascript
let proxy = new Proxy(function(){}, {});
for (let i = 0; i < 100000; i++) {
  proxy = new Proxy(proxy, {});
}




try { Reflect.apply(proxy, {}, []) } catch(_) {}
try { Reflect.construct(proxy, []) } catch(_) {}
try { Reflect.defineProperty(proxy, "x", {}) } catch(_) {}
try { Reflect.deleteProperty(proxy, "x") } catch(_) {}
try { Reflect.get(proxy, "x") } catch(_) {}
try { Reflect.getOwnPropertyDescriptor(proxy, "x") } catch(_) {}
try { Reflect.getPrototypeOf(proxy) } catch(_) {}
try { Reflect.has(proxy, "x") } catch(_) {}
try { Reflect.isExtensible(proxy) } catch(_) {}
try { Reflect.ownKeys(proxy) } catch(_) {}
try { Reflect.preventExtensions(proxy) } catch(_) {}
try { Reflect.setPrototypeOf(proxy, {}) } catch(_) {}
try { Reflect.set(proxy, "x", {}) } catch(_) {}




function run(trap, ...args) {
  let handler = {};
  const proxy = new Proxy(function(){}, handler);
  handler[trap] = (target, ...args) => Reflect[trap](proxy, ...args);
  return Reflect[trap](proxy, ...args);
}

assertThrows(() => run("apply", {}, []), RangeError);
assertThrows(() => run("construct", []), RangeError);
assertThrows(() => run("defineProperty", "x", {}), RangeError);
assertThrows(() => run("deleteProperty", "x"), RangeError);
assertThrows(() => run("get", "x"), RangeError);
assertThrows(() => run("getOwnPropertyDescriptor", "x"), RangeError);
assertThrows(() => run("has", "x"), RangeError);
assertThrows(() => run("isExtensible"), RangeError);
assertThrows(() => run("ownKeys"), RangeError);
assertThrows(() => run("preventExtensions"), RangeError);
assertThrows(() => run("setPrototypeOf", {}), RangeError);
assertThrows(() => run("set", "x", {}), RangeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e91cd3c^!)  
[src/builtins/builtins-proxy-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-proxy-gen.cc?cl=e91cd3c)  
[test/mjsunit/regress/regress-7716.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7716.js?cl=e91cd3c)  
[test/mjsunit/regress/regress-crbug-779344.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-crbug-779344.js?cl=e91cd3c)  
  
---   

## **v8 issue:7706**  
   
**[Issue: Accessing symbol on primitive wrapper subclass changes its apparent toStringTag](https://crbug.com/v8/7706)**  
**[Commit: [objects] fix forced slow path in MigrateSlowToFast](https://chromium.googlesource.com/v8/v8/+/a7e6b0e)**  
  
Date(Commit): Sun Apr 29 11:59:57 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1034210](https://chromium-review.googlesource.com/1034210)  
Regress: [mjsunit/es6/regress/regress-7706.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-7706.js)  
```javascript
function toString(o) {
  %ToFastProperties(o.__proto__);
  return Object.prototype.toString.call(o);
}

class TestNumber extends Number {}
TestNumber.prototype[Symbol.toStringTag] = "TestNumber";
assertEquals("[object TestNumber]", toString(new TestNumber), "Try #1");
assertEquals("[object TestNumber]", toString(new TestNumber), "Try #2");

class TestBoolean extends Boolean {}
TestBoolean.prototype[Symbol.toStringTag] = "TestBoolean";
assertEquals("[object TestBoolean]", toString(new TestBoolean), "Try #1");
assertEquals("[object TestBoolean]", toString(new TestBoolean), "Try #2");

class TestString extends String {}
TestString.prototype[Symbol.toStringTag] = "TestString";
assertEquals("[object TestString]", toString(new TestString), "Try #1");
assertEquals("[object TestString]", toString(new TestString), "Try #2");

class base {}
class TestBigInt extends base {}
TestBigInt.prototype[Symbol.toStringTag] = 'TestBigInt';
var b = new TestBigInt();
b.__proto__.__proto__ = BigInt.prototype;
assertEquals("[object TestBigInt]", toString(b), "Try #1");
assertEquals("[object TestBigInt]", toString(b), "Try #2");

class TestSymbol extends base {}
TestSymbol.prototype[Symbol.toStringTag] = 'TestSymbol';
var sym = new TestSymbol();
sym.__proto__.__proto__ = Symbol.prototype;
assertEquals("[object TestSymbol]", toString(sym), "Try #1");
assertEquals("[object TestSymbol]", toString(sym), "Try #2");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a7e6b0e^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=a7e6b0e)  
[src/objects/map.h](https://cs.chromium.org/chromium/src/v8/src/objects/map.h?cl=a7e6b0e)  
[test/mjsunit/es6/regress/regress-7706.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-7706.js?cl=a7e6b0e)  
  
---   

## **v8 issue:7682**  
   
**[Issue: Array.prototype.sort with an Array-like object which has accessor properties does not work.](https://crbug.com/v8/7682)**  
**[Commit: Add regression test for crbug.com/v8/7682](https://chromium.googlesource.com/v8/v8/+/7b4286b)**  
  
Date(Commit): Mon Apr 23 10:58:15 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1023394](https://chromium-review.googlesource.com/1023394)  
Regress: [mjsunit/regress/regress-v8-7682.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-7682.js)  
```javascript
const impl = Symbol();
class MyArrayLike {
  constructor() {
    this[impl] = [2, 1];
    Object.freeze(this);
  }
  get 0() { return this[impl][0]; }
  set 0(value) { this[impl][0] = value; }
  get 1() { return this[impl][1]; }
  set 1(value) { this[impl][1] = value; }
  get length() { return 2; }
}

const xs = new MyArrayLike();
Array.prototype.sort.call(xs);





assertEquals(2, xs[0]);
assertEquals(1, xs[1]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7b4286b^!)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=7b4286b)  
[test/mjsunit/regress/regress-v8-7682.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-7682.js?cl=7b4286b)  
  
---   

## **v8 issue:7677**  
   
**[Issue: Array.prototype.fill has an extra check which prevents to use for Array-like objects](https://crbug.com/v8/7677)**  
**[Commit: Remove incorrect receiver checks from some array methods.](https://chromium.googlesource.com/v8/v8/+/021e9b0)**  
  
Date(Commit): Mon Apr 23 08:57:35 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1021870](https://chromium-review.googlesource.com/1021870)  
Regress: [mjsunit/regress/regress-7677.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7677.js)  
```javascript
"use strict";


function arraylike(freeze) {
  let x;
  const obj = {length: 42};
  Object.defineProperty(obj, 5, {get() {return x}, set(y) {x = y}});
  return freeze ? Object.freeze(obj) : Object.seal(obj);
}


{
  const sealed = arraylike(false);
  Array.prototype.fill.call(sealed, "foo", 5, 6);
  assertEquals("foo", sealed[5]);
  assertThrows(() => Array.prototype.fill.call(sealed, "foo"), TypeError);
}{
  const frozen = arraylike(true);
  Array.prototype.fill.call(frozen, "foo", 5, 6);
  assertEquals("foo", frozen[5]);
  assertThrows(() => Array.prototype.fill.call(frozen, "foo"), TypeError);
}


{
  const sealed = Object.seal({length: 0});
  assertEquals(undefined, Array.prototype.shift.call(sealed));
}{
  const sealed = Object.seal({length: 42});
  assertEquals(undefined, Array.prototype.shift.call(sealed));
}{
  let x;
  let obj = {length: 42, [1]: "foo"};
  Object.defineProperty(obj, 0, {get() {return x}, set(y) {x = y}});
  const sealed = Object.seal(obj);
  assertThrows(() => Array.prototype.shift.call(sealed), TypeError);
  assertEquals("foo", sealed[0]);
}{
  const frozen = Object.freeze({length: 0});
  assertThrows(() => Array.prototype.shift.call(frozen), TypeError);
}


{
  const sealed = arraylike(false);
  assertEquals([undefined], Array.prototype.splice.call(sealed, 5, 1, "foo"));
  assertEquals("foo", sealed[5]);
  assertThrows(() => Array.prototype.splice.call(sealed, 5, 0, "bar"),
      TypeError);
  assertEquals("foo", sealed[5]);
}{
  const frozen = arraylike(true);
  assertThrows(() => Array.prototype.splice.call(frozen, 5, 1, "foo"),
      TypeError);
  assertEquals("foo", frozen[5]);
  assertThrows(() => Array.prototype.splice.call(frozen, 5, 0, "bar"),
      TypeError);
  assertEquals("foo", frozen[5]);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/021e9b0^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=021e9b0)  
[src/contexts.h](https://cs.chromium.org/chromium/src/v8/src/contexts.h?cl=021e9b0)  
[src/js/array.js](https://cs.chromium.org/chromium/src/v8/src/js/array.js?cl=021e9b0)  
[src/messages.h](https://cs.chromium.org/chromium/src/v8/src/messages.h?cl=021e9b0)  
[test/cctest/interpreter/bytecode_expectations/AsyncGenerators.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/AsyncGenerators.golden?cl=021e9b0)  
[test/cctest/interpreter/bytecode_expectations/ForAwaitOf.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/ForAwaitOf.golden?cl=021e9b0)  
[test/cctest/interpreter/bytecode_expectations/ForOf.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/ForOf.golden?cl=021e9b0)  
[test/cctest/interpreter/bytecode_expectations/ForOfLoop.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/ForOfLoop.golden?cl=021e9b0)  
[test/cctest/interpreter/bytecode_expectations/Generators.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/Generators.golden?cl=021e9b0)  
[test/cctest/interpreter/bytecode_expectations/StandardForLoop.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/StandardForLoop.golden?cl=021e9b0)  
[test/mjsunit/messages.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/messages.js?cl=021e9b0)  
[test/mjsunit/regress/regress-7677.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7677.js?cl=021e9b0)  
[test/unittests/interpreter/bytecode-array-builder-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/interpreter/bytecode-array-builder-unittest.cc?cl=021e9b0)  
  
---   

## **v8 issue:7652**  
   
**[Issue: Several array methods fail to check for new array length exceeding 2^53-1](https://crbug.com/v8/7652)**  
**[Commit: Check new length in array splice and unshift.](https://chromium.googlesource.com/v8/v8/+/00a3bfa)**  
  
Date(Commit): Mon Apr 16 16:26:33 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1013563](https://chromium-review.googlesource.com/1013563)  
Regress: [mjsunit/regress/regress-7652.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7652.js)  
```javascript
const splice = Array.prototype.splice;
const unshift = Array.prototype.unshift;

{
  let a = {length: 2**53 - 1};
  assertThrows(() => unshift.call(a, 42), TypeError);
  assertEquals(unshift.call(a), 2**53 - 1);
}

{
  let a = {length: 2**53 - 1};
  assertThrows(() => splice.call(a, 0, 0, 42), TypeError);
  assertEquals(splice.call(a, 0, 1, 42).length, 1);
  assertEquals(a[0], 42);
}

{
  let a = {length: 2**53 - 1, [Symbol.isConcatSpreadable]: true};
  assertThrows(() => [42].concat(a), TypeError);
  assertThrows(() => [, ].concat(a), TypeError);
  assertThrows(() => [].concat(42, a), TypeError);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/00a3bfa^!)  
[src/js/array.js](https://cs.chromium.org/chromium/src/v8/src/js/array.js?cl=00a3bfa)  
[test/mjsunit/regress/regress-7652.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7652.js?cl=00a3bfa)  
  
---   

## **v8 issue:7642**  
   
**[Issue: spread super call doesn't trigger InitializeInstanceFields](https://crbug.com/v8/7642)**  
**[Commit: [interpreter] Move desugaring of spread super call to bytecode generator](https://chromium.googlesource.com/v8/v8/+/42049b4)**  
  
Date(Commit): Fri Apr 13 18:25:31 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/1009907](https://chromium-review.googlesource.com/1009907)  
Regress: [mjsunit/regress/regress-7642.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7642.js)  
```javascript
const a = [2];
const b = [4];

let log;

class C {
  constructor(...args) {
    log = args;
  }
}

class D extends C {
  field = 42;
  constructor() { super(1) };
}
assertEquals(42, (new D).field);
assertEquals([1], log);

class E extends C {
  field = 42;
  constructor() { super(...a) };
}
assertEquals(42, (new E).field);
assertEquals([2], log);

class F extends C {
  field = 42;
  constructor() { super(1, ...a) };
}
assertEquals(42, (new F).field);
assertEquals([1, 2], log);

class G extends C {
  field = 42;
  constructor() { super(1, ...a, 3) };
}
assertEquals(42, (new G).field);
assertEquals([1, 2, 3], log);

class H extends C {
  field = 42;
  constructor() { super(1, ...a, 3, ...b) };
}
assertEquals(42, (new H).field);
assertEquals([1, 2, 3, 4], log);

class I extends C {
  field = 42;
  constructor() { super(1, ...a, 3, ...b, 5) };
}
assertEquals(42, (new I).field);
assertEquals([1, 2, 3, 4, 5], log);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/42049b4^!)  
[src/interpreter/bytecode-generator.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/bytecode-generator.cc?cl=42049b4)  
[src/parsing/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.cc?cl=42049b4)  
[test/cctest/interpreter/bytecode_expectations/SuperCallAndSpread.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/SuperCallAndSpread.golden?cl=42049b4)  
[test/mjsunit/regress/regress-7642.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7642.js?cl=42049b4)  
  
---   

## **v8 issue:7582**  
   
**[Issue: [Liftoff] Float comparisons might spill conditionally](https://crbug.com/v8/7582)**  
**[Commit: [Liftoff] Fix conditional spilling](https://chromium.googlesource.com/v8/v8/+/2589ea0)**  
  
Date(Commit): Thu Mar 22 18:45:17 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/973961](https://chromium-review.googlesource.com/973961)  
Regress: [mjsunit/regress/wasm/regress-7582.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7582.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

const builder = new WasmModuleBuilder();
builder.addGlobal(kWasmI32, 1);
sig0 = makeSig([kWasmI32, kWasmI32, kWasmI32], [kWasmI32]);
builder.addFunction(undefined, sig0)
  .addBody([
kExprF32Const, 0x01, 0x00, 0x00, 0x00,
kExprF32Const, 0x00, 0x00, 0x00, 0x00,
kExprF32Eq,  
kExprF32Const, 0xc9, 0xc9, 0x69, 0xc9,
kExprF32Const, 0xc9, 0xc9, 0xc9, 0x00,
kExprF32Eq,  
kExprIf, kWasmF32,
  kExprF32Const, 0x00, 0x00, 0x00, 0x00,
kExprElse,   
  kExprF32Const, 0x00, 0x00, 0x00, 0x00,
  kExprEnd,   
kExprF32Const, 0xc9, 0x00, 0x00, 0x00,
kExprF32Const, 0xc9, 0xc9, 0xc9, 0x00,
kExprF32Const, 0xc9, 0xc9, 0xa0, 0x00, 
kExprF32Eq,  
kExprIf, kWasmF32,
  kExprF32Const, 0x00, 0x00, 0x00, 0x00,
kExprElse,
  kExprF32Const, 0x00, 0x00, 0x00, 0x00,
  kExprEnd,  
kExprF32Eq,  
kExprIf, kWasmF32,
  kExprF32Const, 0x00, 0x00, 0x00, 0x00,
kExprElse,
  kExprF32Const, 0x00, 0x00, 0x00, 0x00,
  kExprEnd,   
kExprF32Const, 0xc9, 0xc9, 0xff, 0xff,  
kExprF32Eq,  
kExprDrop,
kExprDrop, 
kExprI32Const, 1, 
kExprI32GeU,  
          ]);
builder.addExport('main', 0);
const instance = builder.instantiate();
assertEquals(0, instance.exports.main(1, 2, 3));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2589ea0^!)  
[src/wasm/baseline/ia32/liftoff-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/ia32/liftoff-assembler-ia32.h?cl=2589ea0)  
[test/mjsunit/regress/wasm/regress-7582.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7582.js?cl=2589ea0)  
  
---   

## **v8 issue:7579**  
   
**[Issue: [Liftoff] Stack slot overwrite on ia32](https://crbug.com/v8/7579)**  
**[Commit: [Liftoff] Fix stack slot overwrite](https://chromium.googlesource.com/v8/v8/+/8bb41e8)**  
  
Date(Commit): Wed Mar 21 15:38:39 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/973301](https://chromium-review.googlesource.com/973301)  
Regress: [mjsunit/regress/wasm/regress-7579.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7579.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

const builder = new WasmModuleBuilder();

sig0 = makeSig([], [kWasmI32]);
builder.addFunction(undefined, sig0)
  .addBody([
    kExprI64Const, 0xc8, 0xda, 0x9c, 0xbc, 0xf8, 0xf0, 0xe1, 0xc3, 0x87, 0x7f,
    kExprLoop, kWasmF64,
      ...wasmF64Const(0),
      ...wasmF64Const(0),
      ...wasmF64Const(0),
      ...wasmF64Const(0),
      ...wasmF64Const(0),
      ...wasmF64Const(0),
      ...wasmF64Const(0),
      ...wasmF64Const(0),
      ...wasmF64Const(0),
      ...wasmF64Const(0),
      ...wasmF64Const(0),
      ...wasmF64Const(0),
      kExprCallFunction, 0x01,
      ...wasmF64Const(0),
      kExprEnd,
    ...wasmF64Const(0),
    ...wasmF64Const(0),
    ...wasmF64Const(0),
    ...wasmF64Const(0),
    ...wasmF64Const(0),
    ...wasmF64Const(0),
    ...wasmF64Const(0),
    ...wasmF64Const(0),
    ...wasmF64Const(0),
    ...wasmF64Const(0),
    ...wasmF64Const(0),
    kExprCallFunction, 0x01,
    kExprI64Const, 0xb9, 0xf2, 0xe4, 0x01,
    kExprI64LtS]);

sig1 = makeSig(new Array(12).fill(kWasmF64), []);
builder.addFunction(undefined, sig1).addBody([]);
builder.addExport('main', 0);
const instance = builder.instantiate();
assertEquals(1, instance.exports.main());

const builder2 = new WasmModuleBuilder();
sig0 = makeSig([], [kWasmI32]);
builder2.addFunction(undefined, sig0).addLocals({i64_count: 1}).addBody([
  kExprLoop, kWasmI32,     
  kExprGetLocal, 0,        
  kExprF32SConvertI64,     
  kExprI32ReinterpretF32,  
  kExprEnd                 
]);
builder2.addExport('main', 0);
const instance2 = builder2.instantiate();
assertEquals(0, instance2.exports.main());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8bb41e8^!)  
[src/wasm/baseline/ia32/liftoff-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/ia32/liftoff-assembler-ia32.h?cl=8bb41e8)  
[src/wasm/baseline/liftoff-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/liftoff-assembler.cc?cl=8bb41e8)  
[src/wasm/baseline/liftoff-assembler.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/liftoff-assembler.h?cl=8bb41e8)  
[test/mjsunit/regress/wasm/regress-7579.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7579.js?cl=8bb41e8)  
  
---   

## **v8 issue:7254**  
   
**[Issue: Deopt loop in a store that transitions elements kind](https://crbug.com/v8/7254)**  
**[Commit: [compiler] Don't infer receiver maps for stores.](https://chromium.googlesource.com/v8/v8/+/c94dcb2)**  
  
Date(Commit): Fri Mar 16 13:10:24 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/966065](https://chromium-review.googlesource.com/966065)  
Regress: [mjsunit/regress/regress-7254.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7254.js)  
```javascript
function foo(a) {
  a[0];
  a[1] = "";
}

foo([0,0].map(x => x));
foo([0,0].map(x => x));
%OptimizeFunctionOnNextCall(foo);
foo([0,0].map(x => x));
assertOptimized(foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c94dcb2^!)  
[src/compiler/js-native-context-specialization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.cc?cl=c94dcb2)  
[src/compiler/js-native-context-specialization.h](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.h?cl=c94dcb2)  
[test/mjsunit/regress/regress-7254.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7254.js?cl=c94dcb2)  
  
---   

## **v8 issue:7565**  
   
**[Issue: [Liftoff] Miscompilation on x64](https://crbug.com/v8/7565)**  
**[Commit: [Liftoff][x64] Fix and optimize spilling i64 constants](https://chromium.googlesource.com/v8/v8/+/27e3625)**  
  
Date(Commit): Fri Mar 16 11:05:11 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/965062](https://chromium-review.googlesource.com/965062)  
Regress: [mjsunit/regress/wasm/regress-7565.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7565.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

const builder = new WasmModuleBuilder();
sig0 = makeSig([], [kWasmI32]);
builder.addFunction(undefined, sig0).addLocals({i64_count: 1}).addBody([
  kExprLoop, kWasmI32,                    
  kExprF32Const, 0x00, 0x00, 0x00, 0x00,  
  kExprGetLocal, 0x00,                    
  kExprF32SConvertI64,                    
  kExprF32Ge,                             
  kExprEnd,                               
]);
builder.addExport('main', 0);
const module = builder.instantiate();
assertEquals(1, module.exports.main());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/27e3625^!)  
[src/wasm/baseline/x64/liftoff-assembler-x64.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/x64/liftoff-assembler-x64.h?cl=27e3625)  
[test/mjsunit/regress/wasm/regress-7565.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7565.js?cl=27e3625)  
  
---   

## **v8 issue:7510**  
   
**[Issue: Array iteration defeated by polymorphism in TurboFan](https://crbug.com/v8/7510)**  
**[Commit: [es2015] Refactor the JSArrayIterator.](https://chromium.googlesource.com/v8/v8/+/06ee127)**  
  
Date(Commit): Mon Mar 05 11:57:28 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/946098](https://chromium-review.googlesource.com/946098)  
Regress: [mjsunit/regress/regress-7510.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7510.js)  
```javascript
function foo(a) {
  for (const x of a) {
    a[100] = 1;
  }
}

foo([1]);
foo([1]);
%OptimizeFunctionOnNextCall(foo);
foo([1]);
%OptimizeFunctionOnNextCall(foo);
foo([1]);
assertOptimized(foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/06ee127^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=06ee127)  
[src/builtins/builtins-array-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-array-gen.cc?cl=06ee127)  
[src/builtins/builtins-typedarray-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-typedarray-gen.cc?cl=06ee127)  
[src/code-stub-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.cc?cl=06ee127)  
[src/code-stub-assembler.h](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.h?cl=06ee127)  
[src/compiler/access-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/access-builder.cc?cl=06ee127)  
[src/compiler/access-builder.h](https://cs.chromium.org/chromium/src/v8/src/compiler/access-builder.h?cl=06ee127)  
[src/compiler/js-call-reducer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-call-reducer.cc?cl=06ee127)  
[src/compiler/js-call-reducer.h](https://cs.chromium.org/chromium/src/v8/src/compiler/js-call-reducer.h?cl=06ee127)  
[src/compiler/js-create-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-create-lowering.cc?cl=06ee127)  
[src/compiler/js-create-lowering.h](https://cs.chromium.org/chromium/src/v8/src/compiler/js-create-lowering.h?cl=06ee127)  
[src/compiler/js-generic-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-generic-lowering.cc?cl=06ee127)  
[src/compiler/js-operator.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-operator.cc?cl=06ee127)  
[src/compiler/js-operator.h](https://cs.chromium.org/chromium/src/v8/src/compiler/js-operator.h?cl=06ee127)  
[src/compiler/opcodes.h](https://cs.chromium.org/chromium/src/v8/src/compiler/opcodes.h?cl=06ee127)  
[src/compiler/type-cache.h](https://cs.chromium.org/chromium/src/v8/src/compiler/type-cache.h?cl=06ee127)  
[src/compiler/typer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/typer.cc?cl=06ee127)  
[src/compiler/types.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/types.cc?cl=06ee127)  
[src/compiler/verifier.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/verifier.cc?cl=06ee127)  
[src/contexts.h](https://cs.chromium.org/chromium/src/v8/src/contexts.h?cl=06ee127)  
[src/heap/heap.h](https://cs.chromium.org/chromium/src/v8/src/heap/heap.h?cl=06ee127)  
[src/heap/setup-heap-internal.cc](https://cs.chromium.org/chromium/src/v8/src/heap/setup-heap-internal.cc?cl=06ee127)  
[src/isolate-inl.h](https://cs.chromium.org/chromium/src/v8/src/isolate-inl.h?cl=06ee127)  
[src/isolate.h](https://cs.chromium.org/chromium/src/v8/src/isolate.h?cl=06ee127)  
[src/objects-body-descriptors-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-body-descriptors-inl.h?cl=06ee127)  
[src/objects-debug.cc](https://cs.chromium.org/chromium/src/v8/src/objects-debug.cc?cl=06ee127)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=06ee127)  
[src/objects-printer.cc](https://cs.chromium.org/chromium/src/v8/src/objects-printer.cc?cl=06ee127)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=06ee127)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=06ee127)  
[src/objects/js-array-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects/js-array-inl.h?cl=06ee127)  
[src/objects/js-array.h](https://cs.chromium.org/chromium/src/v8/src/objects/js-array.h?cl=06ee127)  
[test/mjsunit/regress/regress-7510.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7510.js?cl=06ee127)  
[tools/v8heapconst.py](https://cs.chromium.org/chromium/src/v8/tools/v8heapconst.py?cl=06ee127)  
  
---   

## **v8 issue:7508**  
   
**[Issue: [Liftoff] Debug check failed: is_gp() || is_fp() on ia32](https://crbug.com/v8/7508)**  
**[Commit: [Liftoff] Fix get_use_count for register pairs](https://chromium.googlesource.com/v8/v8/+/08a9e3e)**  
  
Date(Commit): Thu Mar 01 13:06:17 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/942821](https://chromium-review.googlesource.com/942821)  
Regress: [mjsunit/regress/wasm/regress-7508.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7508.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

const builder = new WasmModuleBuilder();
builder.addFunction(undefined, kSig_v_v).addLocals({i64_count: 1}).addBody([
  kExprI64Const, 0xeb,     0xd7, 0xaf, 0xdf,
  0xbe,          0xfd,     0xfa, 0xf5, 0x6b,  
  kExprI32Const, 0,                           
  kExprIf,       kWasmI32,                    
  kExprI32Const, 0,                           
  kExprElse,                                  
  kExprI32Const, 0,                           
  kExprEnd,                                   
  kExprBrIf,     0,                           
  kExprSetLocal, 0,                           
]);
builder.instantiate();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/08a9e3e^!)  
[src/wasm/baseline/liftoff-assembler.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/liftoff-assembler.h?cl=08a9e3e)  
[test/mjsunit/regress/wasm/regress-7508.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7508.js?cl=08a9e3e)  
  
---   

## **v8 issue:7499**  
   
**[Issue: [Liftoff] Debug check failed: offset_imm <= max_offset on ia32](https://crbug.com/v8/7499)**  
**[Commit: [Liftoff][ia32] Handle overflow in memory offset](https://chromium.googlesource.com/v8/v8/+/a0e66bc)**  
  
Date(Commit): Tue Feb 27 15:06:24 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/939389](https://chromium-review.googlesource.com/939389)  
Regress: [mjsunit/regress/wasm/regress-7499.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7499.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

const builder = new WasmModuleBuilder();
builder.addMemory(16, 32);
builder.addFunction(undefined, kSig_v_v).addBody([
  kExprI32Const, 0,  
  kExprI64LoadMem, 0, 0xff, 0xff, 0xff, 0xff,
  0x0f,       
  kExprDrop,  
]);
builder.addExport('main', 0);
const module = builder.instantiate();
assertThrows(
    () => module.exports.main(), WebAssembly.RuntimeError, /out of bounds/);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a0e66bc^!)  
[src/wasm/baseline/ia32/liftoff-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/ia32/liftoff-assembler-ia32.h?cl=a0e66bc)  
[test/mjsunit/regress/wasm/regress-7499.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7499.js?cl=a0e66bc)  
  
---   

## **v8 issue:7364**  
   
**[Issue: No Permission](https://crbug.com/v8/7364)**  
**[Commit: [wasm] Reexported wasm functions should be identical to imports](https://chromium.googlesource.com/v8/v8/+/384ac3c)**  
  
Date(Commit): Mon Feb 12 14:27:18 2018  
Type: None  
Code Review: [https://chromium-review.googlesource.com/901626](https://chromium-review.googlesource.com/901626)  
Regress: [mjsunit/regress/wasm/regress-7364.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7364.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

const exportingModuleBinary = (() => {
  const builder = new WasmModuleBuilder();
  builder.addFunction('f', kSig_i_v).addBody([kExprI32Const, 42]).exportFunc();
  return builder.toBuffer();
})();

const exportingModule = new WebAssembly.Module(exportingModuleBinary);
const exportingInstance = new WebAssembly.Instance(exportingModule);

const reExportingModuleBinary = (() => {
  const builder = new WasmModuleBuilder();
  const gIndex = builder.addImport('a', 'g', kSig_i_v);
  builder.addExport('y', gIndex);
  return builder.toBuffer();
})();

const module = new WebAssembly.Module(reExportingModuleBinary);
const imports = {
  a: {g: exportingInstance.exports.f},
};
const instance = new WebAssembly.Instance(module, imports);


assertEquals(instance.exports.y, exportingInstance.exports.f);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/384ac3c^!)  
[src/wasm/module-compiler.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/module-compiler.cc?cl=384ac3c)  
[test/mjsunit/regress/wasm/regress-7364.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7364.js?cl=384ac3c)  
[test/mjsunit/wasm/jsapi-harness.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/wasm/jsapi-harness.js?cl=384ac3c)  
  
---   

## **v8 issue:7422**  
   
**[Issue: [Liftoff] Unity-Liftoff broken on ia32](https://crbug.com/v8/7422)**  
**[Commit: [Liftoff] Fix caller frame slots generated from stack values](https://chromium.googlesource.com/v8/v8/+/3c47499)**  
  
Date(Commit): Thu Feb 08 13:47:20 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/908554](https://chromium-review.googlesource.com/908554)  
Regress: [mjsunit/regress/wasm/regress-7422.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7422.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

var builder = new WasmModuleBuilder();
sig = makeSig([kWasmI32, kWasmI32, kWasmI32, kWasmI32, kWasmI32], [kWasmI32]);
builder.addFunction(undefined, sig).addBody([kExprGetLocal, 4]);
builder.addMemory(16, 32);
builder.addFunction('main', sig)
    .addBody([
      kExprI32Const, 0, kExprSetLocal, 0,
      
      kExprI32Const, 0, kExprI32Const, 0, kExprI32Const, 0, kExprI32Const, 0,
      kExprGetLocal, 4, kExprI32Const, 1, kExprI32Add,
      
      
      kExprGetLocal, 0, kExprI32Const, 1, kExprI32Add, kExprGetLocal, 1,
      kExprGetLocal, 1, kExprI32Add, kExprI32Add, kExprDrop,
      
      kExprCallFunction, 0
    ])
    .exportFunc();
var instance = builder.instantiate();
assertEquals(11, instance.exports.main(2, 4, 6, 8, 10));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3c47499^!)  
[src/wasm/baseline/ia32/liftoff-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/ia32/liftoff-assembler-ia32.h?cl=3c47499)  
[src/wasm/baseline/liftoff-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/liftoff-assembler.cc?cl=3c47499)  
[test/mjsunit/regress/wasm/regress-7422.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7422.js?cl=3c47499)  
  
---   

## **v8 issue:6703**  
   
**[Issue: Character mapping across Latin1 and non-Latin1 not properly handled in TextNode](https://crbug.com/v8/6703)**  
**[Commit: [regexp] fix Latin1 ignore-case bug.](https://chromium.googlesource.com/v8/v8/+/8e9eba3)**  
  
Date(Commit): Mon Feb 05 09:00:20 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/897523](https://chromium-review.googlesource.com/897523)  
Regress: [mjsunit/regress/regress-6703.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6703.js)  
```javascript
assertTrue(/(\u039C)/i.test("\xB5"));
assertTrue(/(\u039C)+/i.test("\xB5"));
assertTrue(/(\u039C)/ui.test("\xB5"));
assertTrue(/(\u039C)+/ui.test("\xB5"));

assertTrue(/(\u03BC)/i.test("\xB5"));
assertTrue(/(\u03BC)+/i.test("\xB5"));
assertTrue(/(\u03BC)/ui.test("\xB5"));
assertTrue(/(\u03BC)+/ui.test("\xB5"));

assertTrue(/(\u03BC)/i.test("\u039C"));
assertTrue(/(\u03BC)+/i.test("\u039C"));
assertTrue(/(\u03BC)/ui.test("\u039C"));
assertTrue(/(\u03BC)+/ui.test("\u039C"));

assertTrue(/(\u0178)/i.test("\xFF"));
assertTrue(/(\u0178)+/i.test("\xFF"));
assertTrue(/(\u0178)/ui.test("\xFF"));
assertTrue(/(\u0178)+/ui.test("\xFF"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8e9eba3^!)  
[src/regexp/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/regexp/jsregexp.cc?cl=8e9eba3)  
[src/unicode-decoder.h](https://cs.chromium.org/chromium/src/v8/src/unicode-decoder.h?cl=8e9eba3)  
[test/mjsunit/regress/regress-6703.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6703.js?cl=8e9eba3)  
  
---   

## **v8 issue:5691**  
   
**[Issue: Promise subclass resolved too early](https://crbug.com/v8/5691)**  
**[Commit: [promise] Remove incorrect fast path](https://chromium.googlesource.com/v8/v8/+/0f6eafe)**  
  
Date(Commit): Wed Jan 31 19:19:56 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/895416](https://chromium-review.googlesource.com/895416)  
Regress: [mjsunit/regress/regress-5691.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5691.js)  
```javascript
var log = "";
var result;
Promise.resolve()
  .then(() => log += "|turn1")
  .then(() => log += "|turn2")
  .then(() => log += "|turn3")
  .then(() => log += "|turn4")
  .then(() => result = "|start|turn1|fast-resolve|turn2|turn3|slow-resolve|turn4\n"+log)
  .catch(e => print("ERROR", e));

Promise.resolve(Promise.resolve()).then(() => log += "|fast-resolve");
(class extends Promise {}).resolve(Promise.resolve()).then(() => log += "|slow-resolve");

log += "|start";
%PerformMicrotaskCheckpoint();
assertEquals("|start|turn1|fast-resolve|turn2|turn3|slow-resolve|turn4\n\
|start|turn1|fast-resolve|turn2|turn3|slow-resolve|turn4", result);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0f6eafe^!)  
[src/builtins/builtins-promise-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-promise-gen.cc?cl=0f6eafe)  
[test/mjsunit/regress/regress-5691.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5691.js?cl=0f6eafe)  
[test/mjsunit/regress/regress-800651.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-800651.js?cl=0f6eafe)  
  
---   

## **v8 issue:7369**  
   
**[Issue: parseInt(-0.9) returns 0 instead of -0](https://crbug.com/v8/7369)**  
**[Commit: Fix parseInt fast-path to return -0 when needed](https://chromium.googlesource.com/v8/v8/+/b6e6843)**  
  
Date(Commit): Fri Jan 26 18:17:03 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/887428](https://chromium-review.googlesource.com/887428)  
Regress: [mjsunit/regress/regress-7369.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7369.js)  
```javascript
assertEquals(-Infinity, 1/parseInt(-0.9));
assertEquals(-Infinity, 1/parseInt("-0.9"));
assertEquals(-Infinity, 1/parseInt(-0.09));
assertEquals(-Infinity, 1/parseInt(-0.009));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b6e6843^!)  
[src/builtins/builtins-number-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-number-gen.cc?cl=b6e6843)  
[test/mjsunit/regress/regress-7369.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7369.js?cl=b6e6843)  
  
---   

## **v8 issue:7366**  
   
**[Issue: [Liftoff] Stack transfers reuse stack slots](https://crbug.com/v8/7366)**  
**[Commit: [Liftoff] Fix register spilling on stack transfer](https://chromium.googlesource.com/v8/v8/+/ad98ba7)**  
  
Date(Commit): Wed Jan 24 19:42:48 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/883802](https://chromium-review.googlesource.com/883802)  
Regress: [mjsunit/regress/wasm/regress-7366.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7366.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

const builder = new WasmModuleBuilder();
builder.addFunction(undefined, kSig_i_iii).addBody([
  
  kExprGetLocal, 0, kExprGetLocal, 1, kExprGetLocal, 2, kExprI32Add, kExprI32Add
]);
const sig = builder.addType(kSig_i_iii);
builder.addFunction(undefined, kSig_i_iii)
    .addBody([
      ...wasmI32Const(1),         
      kExprSetLocal, 0,           
      ...wasmI32Const(4),         
      kExprSetLocal, 1,           
      ...wasmI32Const(16),        
      kExprSetLocal, 2,           
      kExprLoop, kWasmStmt,       
      kExprEnd,                   
      kExprGetLocal, 0,           
      kExprGetLocal, 1,           
      kExprGetLocal, 2,           
      kExprI32Const, 0,           
      kExprCallIndirect, sig, 0,  
    ])
    .exportAs('main');
builder.appendToTable([0]);
const instance = builder.instantiate();
assertEquals(21, instance.exports.main());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ad98ba7^!)  
[src/wasm/baseline/liftoff-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/liftoff-assembler.cc?cl=ad98ba7)  
[test/mjsunit/regress/wasm/regress-7366.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7366.js?cl=ad98ba7)  
  
---   

## **v8 issue:7353**  
   
**[Issue: [Liftoff] 32 bit values contain garbage in the upper bits after loading from stack](https://crbug.com/v8/7353)**  
**[Commit: [Liftoff] Fill registers as the right type](https://chromium.googlesource.com/v8/v8/+/ecb3afc)**  
  
Date(Commit): Tue Jan 23 11:45:15 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/880682](https://chromium-review.googlesource.com/880682)  
Regress: [mjsunit/regress/wasm/regress-7353.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7353.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

const builder = new WasmModuleBuilder();
builder.addMemory(16, 32);
builder.addFunction('grow', kSig_i_i).addBody([
  kExprGetLocal, 0,
  kExprMemoryGrow, 0,
]).exportFunc();
builder.addFunction('main', kSig_i_i).addBody([
  ...wasmI32Const(0x41),
  kExprSetLocal, 0,
  
  kExprLoop, kWasmStmt,
  kExprEnd,
  
  kExprGetLocal, 0,
  kExprI32LoadMem, 0, 0,
]).exportFunc();
const instance = builder.instantiate();

instance.exports.grow(1);
instance.exports.main();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ecb3afc^!)  
[src/wasm/baseline/arm/liftoff-assembler-arm.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/arm/liftoff-assembler-arm.h?cl=ecb3afc)  
[src/wasm/baseline/arm64/liftoff-assembler-arm64.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/arm64/liftoff-assembler-arm64.h?cl=ecb3afc)  
[src/wasm/baseline/ia32/liftoff-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/ia32/liftoff-assembler-ia32.h?cl=ecb3afc)  
[src/wasm/baseline/liftoff-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/liftoff-assembler.cc?cl=ecb3afc)  
[src/wasm/baseline/liftoff-assembler.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/liftoff-assembler.h?cl=ecb3afc)  
[src/wasm/baseline/liftoff-compiler.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/liftoff-compiler.cc?cl=ecb3afc)  
[src/wasm/baseline/mips/liftoff-assembler-mips.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/mips/liftoff-assembler-mips.h?cl=ecb3afc)  
[src/wasm/baseline/mips64/liftoff-assembler-mips64.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/mips64/liftoff-assembler-mips64.h?cl=ecb3afc)  
[src/wasm/baseline/ppc/liftoff-assembler-ppc.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/ppc/liftoff-assembler-ppc.h?cl=ecb3afc)  
[src/wasm/baseline/s390/liftoff-assembler-s390.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/s390/liftoff-assembler-s390.h?cl=ecb3afc)  
[src/wasm/baseline/x64/liftoff-assembler-x64.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/x64/liftoff-assembler-x64.h?cl=ecb3afc)  
[test/mjsunit/regress/wasm/regress-7353.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7353.js?cl=ecb3afc)  
  
---   

## **v8 issue:7245**  
   
**[Issue: "name" property of Proxy revocation functions set incorrectly](https://crbug.com/v8/7245)**  
**[Commit: [builtins] Port Proxy.revocable() to CSA](https://chromium.googlesource.com/v8/v8/+/ddfbbc5)**  
  
Date(Commit): Sun Jan 07 10:20:13 2018  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/844065](https://chromium-review.googlesource.com/844065)  
Regress: [mjsunit/regress/regress-v8-7245.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-7245.js)  
```javascript
const { revoke } = Proxy.revocable({}, {});
assertEquals("", revoke.name);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ddfbbc5^!)  
[AUTHORS](https://cs.chromium.org/chromium/src/v8/AUTHORS?cl=ddfbbc5)  
[BUILD.gn](https://cs.chromium.org/chromium/src/v8/BUILD.gn?cl=ddfbbc5)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=ddfbbc5)  
[src/builtins/builtins-definitions.h](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-definitions.h?cl=ddfbbc5)  
[src/builtins/builtins-promise-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-promise-gen.cc?cl=ddfbbc5)  
[src/builtins/builtins-promise-gen.h](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-promise-gen.h?cl=ddfbbc5)  
[src/builtins/builtins-proxy-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-proxy-gen.cc?cl=ddfbbc5)  
[src/builtins/builtins-proxy-gen.h](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-proxy-gen.h?cl=ddfbbc5)  
[src/code-stub-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.cc?cl=ddfbbc5)  
[src/code-stub-assembler.h](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.h?cl=ddfbbc5)  
[src/contexts.h](https://cs.chromium.org/chromium/src/v8/src/contexts.h?cl=ddfbbc5)  
[src/heap-symbols.h](https://cs.chromium.org/chromium/src/v8/src/heap-symbols.h?cl=ddfbbc5)  
[src/js/proxy.js](https://cs.chromium.org/chromium/src/v8/src/js/proxy.js?cl=ddfbbc5)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=ddfbbc5)  
[src/runtime/runtime-proxy.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-proxy.cc?cl=ddfbbc5)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=ddfbbc5)  
[src/v8.gyp](https://cs.chromium.org/chromium/src/v8/src/v8.gyp?cl=ddfbbc5)  
[test/mjsunit/regress/regress-v8-7245.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-7245.js?cl=ddfbbc5)  
  
---   

## **v8 issue:7135**  
   
**[Issue: Ignition records incorrect feedback for unary ops](https://crbug.com/v8/7135)**  
**[Commit: [interpreter] Fix feedback collection for negation.](https://chromium.googlesource.com/v8/v8/+/64030c6)**  
  
Date(Commit): Tue Nov 28 13:46:23 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/793039](https://chromium-review.googlesource.com/793039)  
Regress: [mjsunit/regress/regress-7135.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7135.js)  
```javascript
function foo() { return -"0" }
foo();
%OptimizeFunctionOnNextCall(foo);
foo();
assertOptimized(foo);

function bar() { return -"1" }
bar();
%OptimizeFunctionOnNextCall(bar);
bar();
assertOptimized(bar);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/64030c6^!)  
[src/interpreter/interpreter-generator.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/interpreter-generator.cc?cl=64030c6)  
[test/mjsunit/regress/regress-7135.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7135.js?cl=64030c6)  
  
---   

## **v8 issue:7115**  
   
**[Issue: accessing length of a instance of a class extending typed array is not optimized](https://crbug.com/v8/7115)**  
**[Commit: [runtime] Properly deal with prototype setup mode during class literal instantiation.](https://chromium.googlesource.com/v8/v8/+/888acb2)**  
  
Date(Commit): Tue Nov 28 09:11:59 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/790992](https://chromium-review.googlesource.com/790992)  
Regress: [mjsunit/regress/regress-7115.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7115.js)  
```javascript
function TestBuiltinSubclassing(Builtin) {
  assertTrue(%HasFastProperties(Builtin));
  assertTrue(%HasFastProperties(Builtin.prototype));
  assertTrue(%HasFastProperties(Builtin.prototype.__proto__));

  class SubClass extends Builtin {}

  assertTrue(%HasFastProperties(Builtin));
  assertTrue(%HasFastProperties(Builtin.prototype));
  assertTrue(%HasFastProperties(Builtin.prototype.__proto__));
}

let TypedArray = Uint8Array.__proto__;

TestBuiltinSubclassing(RegExp);
TestBuiltinSubclassing(Promise);
TestBuiltinSubclassing(Array);
TestBuiltinSubclassing(TypedArray);
TestBuiltinSubclassing(Uint8Array);
TestBuiltinSubclassing(Int8Array);
TestBuiltinSubclassing(Uint16Array);
TestBuiltinSubclassing(Int16Array);
TestBuiltinSubclassing(Uint32Array);
TestBuiltinSubclassing(Int32Array);
TestBuiltinSubclassing(Float32Array);
TestBuiltinSubclassing(Float64Array);
TestBuiltinSubclassing(Uint8ClampedArray);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/888acb2^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=888acb2)  
[src/js/typedarray.js](https://cs.chromium.org/chromium/src/v8/src/js/typedarray.js?cl=888acb2)  
[src/objects-printer.cc](https://cs.chromium.org/chromium/src/v8/src/objects-printer.cc?cl=888acb2)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=888acb2)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=888acb2)  
[src/objects/map.h](https://cs.chromium.org/chromium/src/v8/src/objects/map.h?cl=888acb2)  
[src/runtime/runtime-classes.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-classes.cc?cl=888acb2)  
[src/runtime/runtime-function.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-function.cc?cl=888acb2)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=888acb2)  
[test/mjsunit/migrations.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/migrations.js?cl=888acb2)  
[test/mjsunit/regress/regress-5902.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5902.js?cl=888acb2)  
[test/mjsunit/regress/regress-7115.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7115.js?cl=888acb2)  
  
---   

## **v8 issue:7121**  
   
**[Issue: DCHECK failure in Turbofan typer](https://crbug.com/v8/7121)**  
**[Commit: [compiler] Make typer deal with conversions that return empty type.](https://chromium.googlesource.com/v8/v8/+/74184d5)**  
  
Date(Commit): Thu Nov 23 11:37:09 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/785130](https://chromium-review.googlesource.com/785130)  
Regress: [mjsunit/compiler/regress-7121.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-7121.js)  
```javascript
function foo() { %_ToLength(42n) }
assertThrows(foo, TypeError);
%OptimizeFunctionOnNextCall(foo);
assertThrows(foo, TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/74184d5^!)  
[src/compiler/operation-typer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/operation-typer.cc?cl=74184d5)  
[src/compiler/typer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/typer.cc?cl=74184d5)  
[test/mjsunit/compiler/regress-7121.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-7121.js?cl=74184d5)  
  
---   

## **v8 issue:7049**  
   
**[Issue: mjsunit/wasm/interpreter-mixed crashing in arm64 GC stress](https://crbug.com/v8/7049)**  
**[Commit: [wasm] Mark C_WASM_ENTRY as no tagged_params](https://chromium.googlesource.com/v8/v8/+/3c483de)**  
  
Date(Commit): Wed Nov 08 12:55:17 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/758245](https://chromium-review.googlesource.com/758245)  
Regress: [mjsunit/regress/wasm/regress-7049.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7049.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');




let builder1 = new WasmModuleBuilder();

function call_gc() {
  print('Triggering GC.');
  gc();
  print('Survived GC.');
}
let func1_sig = makeSig(new Array(8).fill(kWasmI32), [kWasmI32]);
let imp = builder1.addImport('q', 'gc', kSig_v_v);
let func1 = builder1.addFunction('func1', func1_sig)
                .addBody([
                  kExprGetLocal, 0,  
                  kExprCallFunction, imp
                ])
                .exportFunc();
let instance1 = builder1.instantiate({q: {gc: call_gc}});

let builder2 = new WasmModuleBuilder();

let func1_imp = builder2.addImport('q', 'func1', func1_sig);
let func2 = builder2.addFunction('func2', kSig_i_i)
                .addBody([
                  kExprGetLocal, 0,  
                  kExprGetLocal, 0,  
                  kExprGetLocal, 0,  
                  kExprGetLocal, 0,  
                  kExprGetLocal, 0,  
                  kExprGetLocal, 0,  
                  kExprGetLocal, 0,  
                  kExprGetLocal, 0,  
                  kExprCallFunction, func1_imp
                ])
                .exportFunc();

let instance2 = builder2.instantiate({q: {func1: instance1.exports.func1}});

%RedirectToWasmInterpreter(
        instance2, parseInt(instance2.exports.func2.name));



instance2.exports.func2(1);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3c483de^!)  
[src/factory.cc](https://cs.chromium.org/chromium/src/v8/src/factory.cc?cl=3c483de)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=3c483de)  
[test/mjsunit/regress/wasm/regress-7049.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7049.js?cl=3c483de)  
  
---   

## **v8 issue:7035**  
   
**[Issue: [Liftoff] Bug in state join on break](https://crbug.com/v8/7035)**  
**[Commit: [Liftoff] Fix register reuse in merge init](https://chromium.googlesource.com/v8/v8/+/c7ad565)**  
  
Date(Commit): Mon Nov 06 17:35:07 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/754816](https://chromium-review.googlesource.com/754816)  
Regress: [mjsunit/regress/wasm/regress-7035.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7035.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

var builder = new WasmModuleBuilder();
builder.addFunction('test', kSig_i_iii)
    .addBodyWithEnd([
      kExprI32Const, 0x00,  
      kExprI32Const, 0x00,  
      kExprI32Add,          
      kExprI32Const, 0x00,  
      kExprI32Const, 0x00,  
      kExprI32Add,          
      kExprI32Add,          
      kExprI32Const, 0x01,  
      kExprI32Const, 0x00,  
      kExprI32Add,          
      kExprBlock,    0x7f,  
      kExprI32Const, 0x00,  
      kExprBr,       0x00,  
      kExprEnd,             
      kExprI32Add,          
      kExprI32Add,          
      kExprEnd
    ])
    .exportFunc();
var module = builder.instantiate();
assertEquals(1, module.exports.test());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c7ad565^!)  
[src/wasm/baseline/liftoff-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/liftoff-assembler.cc?cl=c7ad565)  
[src/wasm/baseline/liftoff-assembler.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/liftoff-assembler.h?cl=c7ad565)  
[test/mjsunit/regress/wasm/regress-7035.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7035.js?cl=c7ad565)  
  
---   

## **v8 issue:7033**  
   
**[Issue: [Liftoff] Register override on i32 binop](https://crbug.com/v8/7033)**  
**[Commit: [Liftoff] Fix binop code generation bug](https://chromium.googlesource.com/v8/v8/+/407cfc0)**  
  
Date(Commit): Mon Nov 06 11:45:44 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/753462](https://chromium-review.googlesource.com/753462)  
Regress: [mjsunit/regress/wasm/regress-7033.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-7033.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

var builder = new WasmModuleBuilder();
builder.addFunction('test', kSig_i_iii)
    .addBodyWithEnd([
      kExprI32Const, 0x07,  
      kExprI32Const, 0x00,  
      kExprI32Const, 0x00,  
      kExprI32And,          
      kExprI32And,          
      kExprEnd,             
    ])
    .exportFunc();
var module = builder.instantiate();
assertEquals(0, module.exports.test());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/407cfc0^!)  
[src/wasm/baseline/ia32/liftoff-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/ia32/liftoff-assembler-ia32.h?cl=407cfc0)  
[src/wasm/baseline/liftoff-compiler.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/liftoff-compiler.cc?cl=407cfc0)  
[src/wasm/baseline/x64/liftoff-assembler-x64.h](https://cs.chromium.org/chromium/src/v8/src/wasm/baseline/x64/liftoff-assembler-x64.h?cl=407cfc0)  
[test/mjsunit/regress/wasm/regress-7033.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-7033.js?cl=407cfc0)  
  
---   

## **v8 issue:7026**  
   
**[Issue: Lots of %KeyedGetProperty calls because of SeqString/ConsString keys in the babylon test](https://crbug.com/v8/7026)**  
**[Commit: [ic] Internalize strings on the fly in KeyedLoadICGeneric.](https://chromium.googlesource.com/v8/v8/+/96b1fdb)**  
  
Date(Commit): Thu Nov 02 20:57:10 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/751464](https://chromium-review.googlesource.com/751464)  
Regress: [mjsunit/regress/regress-7026.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7026.js)  
```javascript
function foo(o, k) { return o[k]; }

const a = "a";
foo([1], 0);
foo({a:1}, a);

const p = new Proxy({}, {
  get(target, name) {
    return name;
  }
});

assertEquals(a + "b", foo(p, a + "b"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/96b1fdb^!)  
[src/flag-definitions.h](https://cs.chromium.org/chromium/src/v8/src/flag-definitions.h?cl=96b1fdb)  
[src/ic/accessor-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/ic/accessor-assembler.cc?cl=96b1fdb)  
[test/mjsunit/regress/regress-7026.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7026.js?cl=96b1fdb)  
  
---   

## **v8 issue:7014**  
   
**[Issue: MEGAMORPHIC KeyedLoadIC's fall back to %KeyedGetProperty to load string characters](https://crbug.com/v8/7014)**  
**[Commit: [ic] Add OOB support to KeyedLoadIC.](https://chromium.googlesource.com/v8/v8/+/6dc35ab)**  
  
Date(Commit): Tue Oct 31 11:25:53 2017  
Type: Bug  
Code Review: [https://github.com/babel/babel/pull/6589](https://github.com/babel/babel/pull/6589)  
Regress: [mjsunit/regress/regress-7014-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7014-1.js), [mjsunit/regress/regress-7014-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-7014-2.js)  
```javascript
function foo(s) {
  return s[5];
}

assertEquals("f", foo("abcdef"));
assertEquals(undefined, foo("a"));
%OptimizeFunctionOnNextCall(foo);
assertEquals("f", foo("abcdef"));
assertEquals(undefined, foo("a"));
assertOptimized(foo);


String.prototype[5] = "5";

assertEquals("f", foo("abcdef"));
assertEquals("5", foo("a"));
%OptimizeFunctionOnNextCall(foo);
assertEquals("f", foo("abcdef"));
assertEquals("5", foo("a"));
assertOptimized(foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6dc35ab^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=6dc35ab)  
[src/compiler/js-native-context-specialization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.cc?cl=6dc35ab)  
[src/compiler/js-native-context-specialization.h](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.h?cl=6dc35ab)  
[src/contexts.h](https://cs.chromium.org/chromium/src/v8/src/contexts.h?cl=6dc35ab)  
[src/elements.cc](https://cs.chromium.org/chromium/src/v8/src/elements.cc?cl=6dc35ab)  
[src/feedback-vector.cc](https://cs.chromium.org/chromium/src/v8/src/feedback-vector.cc?cl=6dc35ab)  
[src/feedback-vector.h](https://cs.chromium.org/chromium/src/v8/src/feedback-vector.h?cl=6dc35ab)  
[src/ic/accessor-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/ic/accessor-assembler.cc?cl=6dc35ab)  
[src/ic/handler-configuration-inl.h](https://cs.chromium.org/chromium/src/v8/src/ic/handler-configuration-inl.h?cl=6dc35ab)  
[src/ic/handler-configuration.h](https://cs.chromium.org/chromium/src/v8/src/ic/handler-configuration.h?cl=6dc35ab)  
[src/ic/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic/ic.cc?cl=6dc35ab)  
[src/ic/ic.h](https://cs.chromium.org/chromium/src/v8/src/ic/ic.h?cl=6dc35ab)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=6dc35ab)  
[src/isolate.h](https://cs.chromium.org/chromium/src/v8/src/isolate.h?cl=6dc35ab)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=6dc35ab)  
[test/mjsunit/compiler/deopt-string-outofbounds.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/deopt-string-outofbounds.js?cl=6dc35ab)  
[test/mjsunit/regress/regress-7014-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7014-1.js?cl=6dc35ab)  
[test/mjsunit/regress/regress-7014-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-7014-2.js?cl=6dc35ab)  
  
---   

## **v8 issue:6970**  
   
**[Issue: Destucturing assignment not rewritten in arrow parameters](https://crbug.com/v8/6970)**  
**[Commit: [parser] Fix rewinding logic for destructuring in arrow params](https://chromium.googlesource.com/v8/v8/+/132152f6)**  
  
Date(Commit): Tue Oct 24 14:54:52 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/733950](https://chromium-review.googlesource.com/733950)  
Regress: [mjsunit/regress/regress-6970.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6970.js)  
```javascript
assertEquals(42, (({a = {b} = {b: 42}}) => a.b)({}));
assertEquals(42, b);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/132152f6^!)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=132152f6)  
[test/mjsunit/regress/regress-6970.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6970.js?cl=132152f6)  
  
---   

## **v8 issue:6991**  
   
**[Issue: Terrible deopt loop around property access in prettier benchmark](https://crbug.com/v8/6991)**  
**[Commit: [turbofan] Properly handle smis in monomorphic loads/stores.](https://chromium.googlesource.com/v8/v8/+/a9da0ce)**  
  
Date(Commit): Tue Oct 24 09:19:47 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/735342](https://chromium-review.googlesource.com/735342)  
Regress: [mjsunit/regress/regress-6991.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6991.js)  
```javascript
function foo(o) { return o.x; }

assertEquals(undefined, foo({}));
assertEquals(undefined, foo(1));
assertEquals(undefined, foo({}));
assertEquals(undefined, foo(1));
%OptimizeFunctionOnNextCall(foo);
assertEquals(undefined, foo({}));
assertOptimized(foo);
assertEquals(undefined, foo(1));
assertOptimized(foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a9da0ce^!)  
[src/compiler/js-native-context-specialization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.cc?cl=a9da0ce)  
[test/mjsunit/regress/regress-6991.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6991.js?cl=a9da0ce)  
  
---   

## **v8 issue:6989**  
   
**[Issue: Deopt loop due to IC not leaving UNINITIALIZED state for undefined/null receivers.](https://crbug.com/v8/6989)**  
**[Commit: [ic] Fix undefined/null receivers not leaving UNINITIALIZED state.](https://chromium.googlesource.com/v8/v8/+/5e72557)**  
  
Date(Commit): Tue Oct 24 06:40:56 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/735319](https://chromium-review.googlesource.com/735319)  
Regress: [mjsunit/regress/regress-6989.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6989.js)  
```javascript
(function() {
  function foo(o) { o["x"] = 1; }

  assertThrows(() => foo(undefined));
  assertThrows(() => foo(undefined));
  %OptimizeFunctionOnNextCall(foo);
  assertThrows(() => foo(undefined));
  assertOptimized(foo);
})();

(function() {
  function foo(o) { o["x"] = 1; }

  assertThrows(() => foo(null));
  assertThrows(() => foo(null));
  %OptimizeFunctionOnNextCall(foo);
  assertThrows(() => foo(null));
  assertOptimized(foo);
})();

(function() {
  function foo(o) { return o["x"]; }

  assertThrows(() => foo(undefined));
  assertThrows(() => foo(undefined));
  %OptimizeFunctionOnNextCall(foo);
  assertThrows(() => foo(undefined));
  assertOptimized(foo);
})();

(function() {
  function foo(o) { return o["x"]; }

  assertThrows(() => foo(null));
  assertThrows(() => foo(null));
  %OptimizeFunctionOnNextCall(foo);
  assertThrows(() => foo(null));
  assertOptimized(foo);
})();

(function() {
  function foo(o) { o.x = 1; }

  assertThrows(() => foo(undefined));
  assertThrows(() => foo(undefined));
  %OptimizeFunctionOnNextCall(foo);
  assertThrows(() => foo(undefined));
  assertOptimized(foo);
})();

(function() {
  function foo(o) { o.x = 1; }

  assertThrows(() => foo(null));
  assertThrows(() => foo(null));
  %OptimizeFunctionOnNextCall(foo);
  assertThrows(() => foo(null));
  assertOptimized(foo);
})();

(function() {
  function foo(o) { return o.x; }

  assertThrows(() => foo(undefined));
  assertThrows(() => foo(undefined));
  %OptimizeFunctionOnNextCall(foo);
  assertThrows(() => foo(undefined));
  assertOptimized(foo);
})();

(function() {
  function foo(o) { return o.x; }

  assertThrows(() => foo(null));
  assertThrows(() => foo(null));
  %OptimizeFunctionOnNextCall(foo);
  assertThrows(() => foo(null));
  assertOptimized(foo);
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5e72557^!)  
[src/ic/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic/ic.cc?cl=5e72557)  
[test/mjsunit/regress/regress-6989.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6989.js?cl=5e72557)  
  
---   

## **v8 issue:6948**  
   
**[Issue: Investigate potential deoptimization loop with KeyedLoadIC feedback in the jshint test](https://crbug.com/v8/6948)**  
**[Commit: [ic] Ensure that we make progress on KeyedLoadIC polymorphic name.](https://chromium.googlesource.com/v8/v8/+/d5c19aa)**  
  
Date(Commit): Fri Oct 20 12:16:10 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/730224](https://chromium-review.googlesource.com/730224)  
Regress: [mjsunit/regress/regress-6948.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6948.js)  
```javascript
var o = {};

function foo(s) { return o[s]; }

var s = 'c' + 'c';
foo(s);
foo(s);
%OptimizeFunctionOnNextCall(foo);
assertEquals(undefined, foo(s));
assertOptimized(foo);
assertEquals(undefined, foo('c' + 'c'));
assertOptimized(foo);
assertEquals(undefined, foo('ccddeeffgg'.slice(0, 2)));
assertOptimized(foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d5c19aa^!)  
[src/builtins/builtins-definitions.h](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-definitions.h?cl=d5c19aa)  
[src/builtins/builtins-ic-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-ic-gen.cc?cl=d5c19aa)  
[src/compiler/c-linkage.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/c-linkage.cc?cl=d5c19aa)  
[src/compiler/effect-control-linearizer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/effect-control-linearizer.cc?cl=d5c19aa)  
[src/compiler/effect-control-linearizer.h](https://cs.chromium.org/chromium/src/v8/src/compiler/effect-control-linearizer.h?cl=d5c19aa)  
[src/compiler/js-native-context-specialization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.cc?cl=d5c19aa)  
[src/compiler/js-native-context-specialization.h](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.h?cl=d5c19aa)  
[src/compiler/opcodes.h](https://cs.chromium.org/chromium/src/v8/src/compiler/opcodes.h?cl=d5c19aa)  
[src/compiler/simplified-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-lowering.cc?cl=d5c19aa)  
[src/compiler/simplified-operator.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator.cc?cl=d5c19aa)  
[src/compiler/simplified-operator.h](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator.h?cl=d5c19aa)  
[src/compiler/typed-optimization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/typed-optimization.cc?cl=d5c19aa)  
[src/compiler/typed-optimization.h](https://cs.chromium.org/chromium/src/v8/src/compiler/typed-optimization.h?cl=d5c19aa)  
[src/compiler/typer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/typer.cc?cl=d5c19aa)  
[src/compiler/verifier.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/verifier.cc?cl=d5c19aa)  
[src/deoptimize-reason.h](https://cs.chromium.org/chromium/src/v8/src/deoptimize-reason.h?cl=d5c19aa)  
[src/ic/accessor-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/ic/accessor-assembler.cc?cl=d5c19aa)  
[src/ic/accessor-assembler.h](https://cs.chromium.org/chromium/src/v8/src/ic/accessor-assembler.h?cl=d5c19aa)  
[test/mjsunit/regress/regress-6948.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6948.js?cl=d5c19aa)  
  
---   

## **v8 issue:6931**  
   
**[Issue: [wasm] Missing out-of-bounds trap on "wrapping" offset](https://crbug.com/v8/6931)**  
**[Commit: [wasm] add a test for accidental sign extension](https://chromium.googlesource.com/v8/v8/+/ef2036a)**  
  
Date(Commit): Thu Oct 19 04:09:21 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/727022](https://chromium-review.googlesource.com/727022)  
Regress: [mjsunit/regress/wasm/regress-6931.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-6931.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');









(function() {
  let builder = new WasmModuleBuilder();
  builder.addMemory(1, 1, false);
  builder.addFunction('test', kSig_v_v)
      .addBody([
        kExprI32Const, 0x7c, 
        kExprI32Const, 0,
        kExprI32StoreMem, 0, 8, 
      ])
      .exportFunc();
  let module = builder.instantiate();

  assertTraps(kTrapMemOutOfBounds, module.exports.test);
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ef2036a^!)  
[test/mjsunit/regress/wasm/regress-6931.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-6931.js?cl=ef2036a)  
  
---   

## **v8 issue:6940**  
   
**[Issue: Bug on matching diacritic characters.](https://crbug.com/v8/6940)**  
**[Commit: [regexp] Fix a bug causing early aborts from AddCaseEquivalents](https://chromium.googlesource.com/v8/v8/+/8016f30)**  
  
Date(Commit): Wed Oct 18 12:18:59 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/725430](https://chromium-review.googlesource.com/725430)  
Regress: [mjsunit/regress/regress-v8-6940.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-6940.js)  
```javascript
assertTrue(/[ŸŶ]/i.test('ÿ'));
assertTrue(/[ŸY]/i.test('ÿ'));

assertTrue(/[YÝŸŶỲ]/i.test('ÿ'));
assertTrue(/[YÝŸŶỲ]/iu.test('ÿ'));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8016f30^!)  
[src/regexp/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/regexp/jsregexp.cc?cl=8016f30)  
[test/mjsunit/regress/regress-v8-6940.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-6940.js?cl=8016f30)  
  
---   

## **v8 issue:6906**  
   
**[Issue: Deopt crash: test/mjsunit/regress/regress-330046](https://crbug.com/v8/6906)**  
**[Commit: [disassembler] Handle the case of optimized code object with unlinked deopt data.](https://chromium.googlesource.com/v8/v8/+/54f7cd6)**  
  
Date(Commit): Wed Oct 18 10:46:01 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/725343](https://chromium-review.googlesource.com/725343)  
Regress: [mjsunit/regress/regress-v8-6906.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-6906.js)  
```javascript
function f() {}

f();
f();
%OptimizeFunctionOnNextCall(f);
f();
%DeoptimizeFunction(f);

%DisassembleFunction(f);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/54f7cd6^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=54f7cd6)  
[test/mjsunit/regress/regress-v8-6906.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-6906.js?cl=54f7cd6)  
  
---   

## **v8 issue:6941**  
   
**[Issue: CodeStubAssembler::Equal can forget type feedback](https://crbug.com/v8/6941)**  
**[Commit: Fix type feedback recording in CodeStubAssembler::Equal.](https://chromium.googlesource.com/v8/v8/+/7a7639e)**  
  
Date(Commit): Mon Oct 16 14:41:20 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/721020](https://chromium-review.googlesource.com/721020)  
Regress: [mjsunit/regress/regress-6941.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6941.js)  
```javascript
function foo(x) {
  return Symbol.iterator == x;
}

function main() {
  foo(Symbol());
  foo({valueOf() { return Symbol.toPrimitive}});
}

%NeverOptimizeFunction(main);
main();
%OptimizeFunctionOnNextCall(foo);
main();
assertOptimized(foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7a7639e^!)  
[src/code-stub-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.cc?cl=7a7639e)  
[test/mjsunit/regress/regress-6941.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6941.js?cl=7a7639e)  
  
---   

## **v8 issue:6907**  
   
**[Issue: Deoptimizer misses to materialize values in builtin continuation registers ...](https://crbug.com/v8/6907)**  
**[Commit: [deoptimizer] Fix materialization of builtin stub registers.](https://chromium.googlesource.com/v8/v8/+/0a7fcd0)**  
  
Date(Commit): Tue Oct 10 07:50:09 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/707245](https://chromium-review.googlesource.com/707245)  
Regress: [mjsunit/regress/regress-6907.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6907.js)  
```javascript
(function TestDematerializedContextInBuiltin() {
  var f = function() {
    var b = [1,2,3];
    var callback = function(v,i,o) {
      %_DeoptimizeNow();
    };
    try { throw 0 } catch(e) {
      return b.forEach(callback);
    }
  }
  f();
  f();
  %OptimizeFunctionOnNextCall(f);
  f();
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0a7fcd0^!)  
[src/deoptimizer.cc](https://cs.chromium.org/chromium/src/v8/src/deoptimizer.cc?cl=0a7fcd0)  
[test/mjsunit/regress/regress-6907.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6907.js?cl=0a7fcd0)  
  
---   

## **v8 issue:6838**  
   
**[Issue: asm.js spec bugs: Math.min/max, -0, Math,abs](https://crbug.com/v8/6838)**  
**[Commit: [asm.js] Fix Math.min/max signatures to take signed.](https://chromium.googlesource.com/v8/v8/+/63f9ee1)**  
  
Date(Commit): Mon Sep 25 12:58:57 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/681357](https://chromium-review.googlesource.com/681357)  
Regress: [mjsunit/regress/regress-6838-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6838-1.js), [mjsunit/regress/regress-6838-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6838-2.js), [mjsunit/regress/regress-6838-3.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6838-3.js)  
```javascript
(function TestMathMaxOnLargeInt() {
  function Module(stdlib) {
    "use asm";
    var max = stdlib.Math.max;
    function f() {
      return max(42,0xffffffff);
    }
    return f;
  }
  var f = Module(this);
  assertEquals(0xffffffff, f());
  assertFalse(%IsAsmWasmCode(Module));
})();

(function TestMathMinOnLargeInt() {
  function Module(stdlib) {
    "use asm";
    var min = stdlib.Math.min;
    function f() {
      return min(42,0xffffffff);
    }
    return f;
  }
  var f = Module(this);
  assertEquals(42, f());
  assertFalse(%IsAsmWasmCode(Module));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/63f9ee1^!)  
[src/asmjs/asm-parser.cc](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-parser.cc?cl=63f9ee1)  
[test/mjsunit/asm/math-max.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/asm/math-max.js?cl=63f9ee1)  
[test/mjsunit/asm/math-min.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/asm/math-min.js?cl=63f9ee1)  
[test/mjsunit/regress/regress-6838-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6838-1.js?cl=63f9ee1)  
  
---   

## **v8 issue:2435**  
   
**[Issue: String.fromcharCode.apply(undefined, uint8Array) is super-slow](https://crbug.com/v8/2435)**  
**[Commit: [builtins] Add fast-path for JSTypedArray to CreateListFromArrayLike.](https://chromium.googlesource.com/v8/v8/+/f31bae0)**  
  
Date(Commit): Mon Sep 11 06:21:58 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/657405](https://chromium-review.googlesource.com/657405)  
Regress: [mjsunit/regress/regress-2435.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2435.js)  
```javascript
function arrayLikeToString(a) {
  return String.fromCharCode.apply(this, a);
}

const klasses = [
    Int8Array,
    Uint8Array,
    Uint8ClampedArray,
    Int16Array,
    Uint16Array,
    Int32Array,
    Uint32Array,
    Float32Array,
    Float64Array
];
const string = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';

for (const klass of klasses) {
  const array = klass.from(string, s => s.charCodeAt(0));
  assertEquals(string, arrayLikeToString(array));
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f31bae0^!)  
[src/elements.cc](https://cs.chromium.org/chromium/src/v8/src/elements.cc?cl=f31bae0)  
[src/elements.h](https://cs.chromium.org/chromium/src/v8/src/elements.h?cl=f31bae0)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=f31bae0)  
[test/mjsunit/regress/regress-2435.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2435.js?cl=f31bae0)  
  
---   

## **v8 issue:6708**  
   
**[Issue: Array.prototype.concat doesn't set new length](https://crbug.com/v8/6708)**  
**[Commit: [builtins] Array.prototype.concat should set length on return value](https://chromium.googlesource.com/v8/v8/+/fafc3d5)**  
  
Date(Commit): Mon Aug 28 18:02:48 2017  
Type: Bug  
Code Review: [https://tc39.github.io/ecma262/#sec-array.prototype.concat,](https://tc39.github.io/ecma262/#sec-array.prototype.concat,)  
Regress: [mjsunit/regress/regress-6708.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6708.js)  
```javascript
var a = [0, 1];
a.constructor = {
  [Symbol.species]: function(len) {
    var arr = Array(20);
    return arr;
  }
};
assertEquals([0, 1], Array.prototype.concat.call(a));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fafc3d5^!)  
[src/builtins/builtins-array.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-array.cc?cl=fafc3d5)  
[test/mjsunit/es6/array-species.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/array-species.js?cl=fafc3d5)  
[test/mjsunit/regress/regress-6707.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6707.js?cl=fafc3d5)  
[test/mjsunit/regress/regress-6708.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6708.js?cl=fafc3d5)  
  
---   

## **v8 issue:6707**  
   
**[Issue: Array.prototype.concat should throw TypeError when length property is non-writable](https://crbug.com/v8/6707)**  
**[Commit: [builtins] Array.prototype.concat should set length on return value](https://chromium.googlesource.com/v8/v8/+/fafc3d5)**  
  
Date(Commit): Mon Aug 28 18:02:48 2017  
Type: Bug  
Code Review: [https://tc39.github.io/ecma262/#sec-array.prototype.concat,](https://tc39.github.io/ecma262/#sec-array.prototype.concat,)  
Regress: [mjsunit/regress/regress-6707.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6707.js)  
```javascript
var a = [0, 1];
a.constructor = {
  [Symbol.species]: function(len) {
    var arr = {length: 0};
    Object.defineProperty(arr, "length", {writable: false});
    return arr;
  }
}
assertThrows(() => { Array.prototype.concat.call(a) }, TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fafc3d5^!)  
[src/builtins/builtins-array.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-array.cc?cl=fafc3d5)  
[test/mjsunit/es6/array-species.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/array-species.js?cl=fafc3d5)  
[test/mjsunit/regress/regress-6707.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6707.js?cl=fafc3d5)  
[test/mjsunit/regress/regress-6708.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6708.js?cl=fafc3d5)  
  
---   

## **v8 issue:6733**  
   
**[Issue: completion value of deleting let-variable seems inconsistent](https://crbug.com/v8/6733)**  
**[Commit: [ignition] Fix return value of delete on global lexical variables](https://chromium.googlesource.com/v8/v8/+/ac0a2df)**  
  
Date(Commit): Wed Aug 23 16:17:48 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/627636](https://chromium-review.googlesource.com/627636)  
Regress: [mjsunit/regress/regress-6733.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6733.js)  
```javascript
let x;
Realm.eval(Realm.current(), "let y");
assertFalse(delete x);
assertFalse(delete y);
assertFalse(eval("delete x"));
assertFalse(eval("delete y"));

(function() {
  let z;
  assertFalse(delete x);
  assertFalse(delete y);
  assertFalse(delete z);
  assertFalse(eval("delete x"));
  assertFalse(eval("delete y"));
  assertFalse(eval("delete z"));
})();

assertFalse(eval("let z; delete z"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ac0a2df^!)  
[src/interpreter/bytecode-generator.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/bytecode-generator.cc?cl=ac0a2df)  
[test/cctest/interpreter/bytecode_expectations/GlobalDelete.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/GlobalDelete.golden?cl=ac0a2df)  
[test/mjsunit/regress/regress-6733.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6733.js?cl=ac0a2df)  
  
---   

## **v8 issue:6631**  
   
**[Issue: RepresentationChangerError: node #150:HeapConstant of kRepTaggedPointer (Boolean) cannot be changed to kRepWord32](https://crbug.com/v8/6631)**  
**[Commit: [turbofan] Work around lowering uninhabited ReferenceEqual.](https://chromium.googlesource.com/v8/v8/+/cf65162)**  
  
Date(Commit): Wed Aug 23 10:45:26 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/627916](https://chromium-review.googlesource.com/627916)  
Regress: [mjsunit/compiler/regress-v8-6631.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-v8-6631.js)  
```javascript
function h(x) {
  return (x|0) && (1>>x == {})
}

function g() {
  return h(1)
};

function f() {
  return g(h({}))
};

f();
f();
%OptimizeFunctionOnNextCall(f);
f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cf65162^!)  
[src/compiler/new-escape-analysis.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/new-escape-analysis.cc?cl=cf65162)  
[src/compiler/typed-optimization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/typed-optimization.cc?cl=cf65162)  
[test/mjsunit/compiler/regress-v8-6631.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-v8-6631.js?cl=cf65162)  
  
---   

## **v8 issue:6706**  
   
**[Issue: RegExp.prototype[@@split] with sticky regexp not handled correctly](https://crbug.com/v8/6706)**  
**[Commit: [regexp] Send sticky @@splits to the slow path](https://chromium.googlesource.com/v8/v8/+/27fd52a)**  
  
Date(Commit): Wed Aug 23 09:55:21 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/626065](https://chromium-review.googlesource.com/626065)  
Regress: [mjsunit/regress/regress-v8-6706.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-6706.js)  
```javascript
const str = "a-b-c";

function test(re) {
  assertArrayEquals(["a", "b", "c"], re[Symbol.split](str));
}

!function() {
  const re = /-/y;
  re.lastIndex = 1;
  test(re);
}();

!function() {
  const re = /-/y;
  re.lastIndex = 3;
  test(re);
}();

!function() {
  const re = /-/y;
  re.lastIndex = -1;
  test(re);
}();

!function() {
  const re = /-/y;
  test(re);
}();

!function() {
  const re = /-/g;
  test(re);
}();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/27fd52a^!)  
[src/builtins/builtins-regexp-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-regexp-gen.cc?cl=27fd52a)  
[test/mjsunit/regress/regress-v8-6706.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-6706.js?cl=27fd52a)  
  
---   

## **v8 issue:6700**  
   
**[Issue: [asm.js] Validation failure for left-right-shift expression without parenthesis](https://crbug.com/v8/6700)**  
**[Commit: [asm.js] Fix heap access validation of shift expressions.](https://chromium.googlesource.com/v8/v8/+/313f8d3)**  
  
Date(Commit): Tue Aug 22 08:50:26 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/623811](https://chromium-review.googlesource.com/623811)  
Regress: [mjsunit/regress/regress-6700.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6700.js)  
```javascript
let kMinHeapSize = 4096;

(function TestLeftRight() {
  function Module(stdlib, foreign, heap) {
    "use asm";
    var HEAP32 = new stdlib.Int32Array(heap);
    function f(i) {
      i = i | 0;
      return HEAP32[i << 2 >> 2] | 0;
    }
    return { f:f }
  }
  var buffer = new ArrayBuffer(kMinHeapSize);
  var module = new Module(this, {}, buffer);
  assertTrue(%IsAsmWasmCode(Module));
  new Int32Array(buffer)[42] = 23;
  assertEquals(23, module.f(42));
})();

(function TestRightRight() {
  function Module(stdlib, foreign, heap) {
    "use asm";
    var HEAP32 = new stdlib.Int32Array(heap);
    function f(i) {
      i = i | 0;
      return HEAP32[i >> 2 >> 2] | 0;
    }
    return { f:f }
  }
  var buffer = new ArrayBuffer(kMinHeapSize);
  var module = new Module(this, {}, buffer)
  assertTrue(%IsAsmWasmCode(Module));
  new Int32Array(buffer)[42 >> 4] = 23;
  assertEquals(23, module.f(42));
})();

(function TestRightLeft() {
  function Module(stdlib, foreign, heap) {
    "use asm";
    var HEAP32 = new stdlib.Int32Array(heap);
    function f(i) {
      i = i | 0;
      return HEAP32[i >> 2 << 2] | 0;
    }
    return { f:f }
  }
  var buffer = new ArrayBuffer(kMinHeapSize);
  var module = new Module(this, {}, buffer)
  assertFalse(%IsAsmWasmCode(Module));
  new Int32Array(buffer)[42 & 0xfc] = 23;
  assertEquals(23, module.f(42));
})();

(function TestRightButNotImmediate() {
  function Module(stdlib, foreign, heap) {
    "use asm";
    var HEAP32 = new stdlib.Int32Array(heap);
    function f(i) {
      i = i | 0;
      return HEAP32[i >> 2 + 1] | 0;
    }
    return { f:f }
  }
  var buffer = new ArrayBuffer(kMinHeapSize);
  var module = new Module(this, {}, buffer)
  assertFalse(%IsAsmWasmCode(Module));
  new Int32Array(buffer)[42 >> 3] = 23;
  assertEquals(23, module.f(42));
})();

(function TestLeftOnly() {
  function Module(stdlib, foreign, heap) {
    "use asm";
    var HEAP32 = new stdlib.Int32Array(heap);
    function f(i) {
      i = i | 0;
      return HEAP32[i << 2] | 0;
    }
    return { f:f }
  }
  var buffer = new ArrayBuffer(kMinHeapSize);
  var module = new Module(this, {}, buffer)
  assertFalse(%IsAsmWasmCode(Module));
  new Int32Array(buffer)[42 << 2] = 23;
  assertEquals(23, module.f(42));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/313f8d3^!)  
[src/asmjs/asm-parser.cc](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-parser.cc?cl=313f8d3)  
[src/asmjs/asm-parser.h](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-parser.h?cl=313f8d3)  
[test/mjsunit/regress/regress-6700.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6700.js?cl=313f8d3)  
  
---   

## **v8 issue:6716**  
   
**[Issue: Check failed: size <= kMaxRegularHeapObjectSize](https://crbug.com/v8/6716)**  
**[Commit: [csa] Fix two cases where allocations could go into LO space](https://chromium.googlesource.com/v8/v8/+/1b5df68)**  
  
Date(Commit): Tue Aug 22 08:20:54 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/623808](https://chromium-review.googlesource.com/623808)  
Regress: [mjsunit/regress/regress-v8-6716.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-6716.js)  
```javascript
function f() {}
var a = Array(2 ** 16);  
f.bind(...a);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1b5df68^!)  
[src/builtins/builtins-function-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-function-gen.cc?cl=1b5df68)  
[src/builtins/builtins-internal-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-internal-gen.cc?cl=1b5df68)  
[test/mjsunit/regress/regress-v8-6716.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-6716.js?cl=1b5df68)  
  
---   

## **v8 issue:6712**  
   
**[Issue: Function.prototype.bind doesn't search prototype chain for "name" property](https://crbug.com/v8/6712)**  
**[Commit: Fix spec violation in Function.prototype.bind.](https://chromium.googlesource.com/v8/v8/+/d5a398e)**  
  
Date(Commit): Thu Aug 17 08:42:03 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/616727](https://chromium-review.googlesource.com/616727)  
Regress: [mjsunit/regress/regress-v8-6712.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-6712.js)  
```javascript
var log = [];

function f() {}
Object.defineProperty(Function.prototype, "name", {
  get() { log.push("getter"); return "ok"; }
});
delete f.name;
var b = f.bind();
assertEquals("bound ok", b.name);
assertEquals("bound ok", b.name);
assertEquals("bound ok", b.name);
assertEquals(["getter"], log);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d5a398e^!)  
[src/builtins/builtins-function.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-function.cc?cl=d5a398e)  
[src/lookup.cc](https://cs.chromium.org/chromium/src/v8/src/lookup.cc?cl=d5a398e)  
[src/lookup.h](https://cs.chromium.org/chromium/src/v8/src/lookup.h?cl=d5a398e)  
[test/mjsunit/regress/regress-v8-6712.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-6712.js?cl=d5a398e)  
  
---   

## **v8 issue:6681**  
   
**[Issue: ValidateAndApplyPropertyDescriptor does not always honor its ShouldThrow mode](https://crbug.com/v8/6681)**  
**[Commit: Make ValidateAndApplyPropertyDescriptor pass on its ShouldThrow mode.](https://chromium.googlesource.com/v8/v8/+/b7227dc)**  
  
Date(Commit): Wed Aug 09 09:01:39 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/606027](https://chromium-review.googlesource.com/606027)  
Regress: [mjsunit/regress/regress-6681.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6681.js)  
```javascript
import * as ns from "./regress-6681.js";
export var foo;

assertEquals(false, Reflect.defineProperty(ns, 'foo', {value: 123}));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b7227dc^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=b7227dc)  
[test/mjsunit/regress/regress-6681.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6681.js?cl=b7227dc)  
  
---   

## **v8 issue:6677**  
   
**[Issue: Writing to `const`-declared variable does not throw when passing through a `with` scope](https://crbug.com/v8/6677)**  
**[Commit: Throw errors when assigning to const variables inside `with`](https://chromium.googlesource.com/v8/v8/+/a9846ad)**  
  
Date(Commit): Tue Aug 08 02:00:22 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/602690](https://chromium-review.googlesource.com/602690)  
Regress: [mjsunit/regress/regress-6677.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6677.js)  
```javascript
const x = 0;
assertThrows(() => { with ({}) { x = 1; } }, TypeError);
assertEquals(0, x);

assertThrows(() => { with ({}) { eval("x = 1"); } }, TypeError);
assertEquals(0, x);



assertEquals('function', function f() {
  with ({}) { f = 1 }
  return typeof f;
}());



assertEquals('function', function f() {
  with ({}) {
    assertThrows(function() { "use strict"; f = 1 }, TypeError);
  }
  return typeof f;
}());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a9846ad^!)  
[src/contexts.cc](https://cs.chromium.org/chromium/src/v8/src/contexts.cc?cl=a9846ad)  
[src/contexts.h](https://cs.chromium.org/chromium/src/v8/src/contexts.h?cl=a9846ad)  
[src/messages.h](https://cs.chromium.org/chromium/src/v8/src/messages.h?cl=a9846ad)  
[src/runtime/runtime-scopes.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-scopes.cc?cl=a9846ad)  
[test/cctest/interpreter/bytecode_expectations/AsyncGenerators.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/AsyncGenerators.golden?cl=a9846ad)  
[test/mjsunit/regress/regress-6677.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6677.js?cl=a9846ad)  
  
---   

## **v8 issue:6657**  
   
**[Issue: Incorrect realization of Array.prototype.filter in latest Chrome v8](https://crbug.com/v8/6657)**  
**[Commit: [builtins] Fix missing check in Array.prototype.filter.](https://chromium.googlesource.com/v8/v8/+/b329b24)**  
  
Date(Commit): Fri Aug 04 08:55:15 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/600467](https://chromium-review.googlesource.com/600467)  
Regress: [mjsunit/regress/regress-6657.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6657.js)  
```javascript
(function TestArrayNonEmptySpecies() {
  class MyArray extends Array {
    constructor() { return [1, 2, 3]; }
  }
  var a = [5, 4];
  a.__proto__ = MyArray.prototype;
  var o = a.filter(() => true);
  assertEquals([5, 4, 3], o);
  assertEquals(3, o.length);
})();

(function TestArrayLeakingSpeciesInsertInCallback() {
  var my_array = [];
  class MyArray extends Array {
    constructor() { return my_array; }
  }
  var a = [5, 4];
  a.__proto__ = MyArray.prototype;
  var o = a.filter(() => (my_array[2] = 3, true));
  assertEquals([5, 4, 3], o);
  assertEquals(3, o.length);
})();

(function TestArrayLeakingSpeciesRemoveInCallback() {
  var my_array = [];
  class MyArray extends Array {
    constructor() { return my_array; }
  }
  var a = [5, 4, 3, 2, 1];
  a.__proto__ = MyArray.prototype;
  var o = a.filter(() => (my_array.length = 0, true));
  assertEquals([,,,,1], o);
  assertEquals(5, o.length);
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b329b24^!)  
[src/builtins/builtins-array-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-array-gen.cc?cl=b329b24)  
[test/mjsunit/regress/regress-6657.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6657.js?cl=b329b24)  
  
---   

## **v8 issue:6607**  
   
**[Issue: Array protector checks too restrictive in TurboFan](https://crbug.com/v8/6607)**  
**[Commit: [turbofan] Fix CanTreatHoleAsUndefined check.](https://chromium.googlesource.com/v8/v8/+/e1e35df)**  
  
Date(Commit): Tue Jul 18 16:29:29 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/574849](https://chromium-review.googlesource.com/574849)  
Regress: [mjsunit/regress/regress-6607-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6607-1.js), [mjsunit/regress/regress-6607-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6607-2.js)  
```javascript
function get(a, i) {
  return a[i];
}

get([1,,3], 0);
get([1,,3], 2);
%OptimizeFunctionOnNextCall(get);
get([1,,3], 0);
assertOptimized(get);


Array.prototype.unrelated = 1;
assertOptimized(get);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e1e35df^!)  
[src/compiler/js-native-context-specialization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.cc?cl=e1e35df)  
[test/mjsunit/regress/regress-6607-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6607-1.js?cl=e1e35df)  
[test/mjsunit/regress/regress-6607-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6607-2.js?cl=e1e35df)  
  
---   

## **v8 issue:6509**  
   
**[Issue: No Permission](https://crbug.com/v8/6509)**  
**[Commit: [ast] AstTraversalVisitor should visit the Declarations of Block scopes](https://chromium.googlesource.com/v8/v8/+/4c79544)**  
  
Date(Commit): Thu Jun 29 17:51:22 2017  
Type: None  
Code Review: [https://chromium-review.googlesource.com/556239](https://chromium-review.googlesource.com/556239)  
Regress: [mjsunit/regress/regress-6509.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6509.js)  
```javascript
(function testSloppy() {
  var arrow = (sth = (function f() {
    {
      function f2() { }
    }
  })()) => 0;

  assertEquals(0, arrow());
})();

(function testStrict() {
  "use strict";
  var arrow = (sth = (function f() {
    {
      function f2() { }
    }
  })()) => 0;

  assertEquals(0, arrow());
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4c79544^!)  
[src/ast/ast-traversal-visitor.h](https://cs.chromium.org/chromium/src/v8/src/ast/ast-traversal-visitor.h?cl=4c79544)  
[test/mjsunit/regress/regress-6509.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6509.js?cl=4c79544)  
  
---   

## **v8 issue:6373**  
   
**[Issue: JSInstanceOf lowering misses ToBoolean conversion on deopt](https://crbug.com/v8/6373)**  
**[Commit: Fix deoptmization of inlined TF instanceOf to call ToBoolean](https://chromium.googlesource.com/v8/v8/+/e2544f6)**  
  
Date(Commit): Thu Jun 22 15:43:35 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2890363002](https://codereview.chromium.org/2890363002)  
Regress: [mjsunit/regress/regress-6373.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6373.js)  
```javascript
var A = {}

A[Symbol.hasInstance] = function(x) {
  %DeoptimizeFunction(foo);
  return 1;
}

var a = {}

function foo(o) {
  return o instanceof A;
}

foo(a);
foo(a);
assertTrue(foo(a) !== 1);
%OptimizeFunctionOnNextCall(foo);
assertTrue(foo(a) !== 1);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e2544f6^!)  
[src/builtins/builtins-conversion-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-conversion-gen.cc?cl=e2544f6)  
[src/builtins/builtins-definitions.h](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-definitions.h?cl=e2544f6)  
[src/compiler/frame-states.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/frame-states.cc?cl=e2544f6)  
[src/compiler/js-native-context-specialization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.cc?cl=e2544f6)  
[src/deoptimizer.cc](https://cs.chromium.org/chromium/src/v8/src/deoptimizer.cc?cl=e2544f6)  
[src/interface-descriptors.cc](https://cs.chromium.org/chromium/src/v8/src/interface-descriptors.cc?cl=e2544f6)  
[src/interface-descriptors.h](https://cs.chromium.org/chromium/src/v8/src/interface-descriptors.h?cl=e2544f6)  
[test/mjsunit/regress/regress-6373.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6373.js?cl=e2544f6)  
  
---   

## **v8 issue:6431**  
   
**[Issue: [asm.js] Coercion of global imports values causes observable side-effect.](https://crbug.com/v8/6431)**  
**[Commit: [asm.js] Ensure coercion of imports is non-observable.](https://chromium.googlesource.com/v8/v8/+/21cbc914)**  
  
Date(Commit): Tue Jun 20 13:55:35 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/512544](https://chromium-review.googlesource.com/512544)  
Regress: [mjsunit/regress/regress-6431.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6431.js)  
```javascript
(function TestImportSymbolValue() {
  function Module(stdlib, foreign) {
    "use asm";
    var x = +foreign.x;
    function f() {}
    return { f:f };
  }
  var foreign = { x : Symbol("boom") };
  assertThrows(() => Module(this, foreign));
  assertFalse(%IsAsmWasmCode(Module));
})();

(function TestImportMutatingObject() {
  function Module(stdlib, foreign) {
    "use asm";
    var x = +foreign.x;
    var PI = stdlib.Math.PI;
    function f() { return +(PI + x) }
    return { f:f };
  }
  var stdlib = { Math : { PI : Math.PI } };
  var foreign = { x : { valueOf : () => (stdlib.Math.PI = 23, 42) } };
  var m = Module(stdlib, foreign);
  assertFalse(%IsAsmWasmCode(Module));
  assertEquals(65, m.f());
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/21cbc914^!)  
[src/wasm/module-compiler.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/module-compiler.cc?cl=21cbc914)  
[test/mjsunit/asm/global-imports.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/asm/global-imports.js?cl=21cbc914)  
[test/mjsunit/regress/regress-6431.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6431.js?cl=21cbc914)  
[test/mjsunit/wasm/asm-wasm.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/wasm/asm-wasm.js?cl=21cbc914)  
  
---   

## **v8 issue:6322**  
   
**[Issue: No Permission](https://crbug.com/v8/6322)**  
**[Commit: [test] add mjsunit regression tests for v8:6322](https://chromium.googlesource.com/v8/v8/+/cd778f1)**  
  
Date(Commit): Wed May 24 19:06:26 2017  
Type: None  
Code Review: [https://chromium-review.googlesource.com/514230](https://chromium-review.googlesource.com/514230)  
Regress: [mjsunit/harmony/regress/regress-6322.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/harmony/regress/regress-6322.js)  
```javascript
(async function() { for await (let { a = class b { } } of [{}]) { } })();
(async function() { var a; for await ({ a = class b { } } of [{}]) { } })();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cd778f1^!)  
[test/mjsunit/es6/regress/regress-6322.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-6322.js?cl=cd778f1)  
[test/mjsunit/harmony/regress/regress-6322.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-6322.js?cl=cd778f1)  
  
---   

## **v8 issue:6322**  
   
**[Issue: No Permission](https://crbug.com/v8/6322)**  
**[Commit: [test] add mjsunit regression tests for v8:6322](https://chromium.googlesource.com/v8/v8/+/cd778f1)**  
  
Date(Commit): Wed May 24 19:06:26 2017  
Type: None  
Code Review: [https://chromium-review.googlesource.com/514230](https://chromium-review.googlesource.com/514230)  
Regress: [mjsunit/es6/regress/regress-6322.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-6322.js)  
```javascript
(function*() { for (let { a = class b { } } of [{}]) { } })().next();
(function() { for (let { a = class b { } } of [{}]) { } })();
(function() { var a; for ({ a = class b { } } of [{}]) { } })();

(function() { for (let [a = class b { } ] = [[]]; ;) break; })();
(function() { var a; for ([a = class b { } ] = [[]]; ;) break; })();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cd778f1^!)  
[test/mjsunit/es6/regress/regress-6322.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-6322.js?cl=cd778f1)  
[test/mjsunit/harmony/regress/regress-6322.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-6322.js?cl=cd778f1)  
  
---   

## **v8 issue:6288**  
   
**[Issue: Locale reported as "und" for pt-BR and en-GB](https://crbug.com/v8/6288)**  
**[Commit: [intl] Use a service-dependent default locale](https://chromium.googlesource.com/v8/v8/+/5228af6)**  
  
Date(Commit): Thu May 04 18:46:00 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/492886](https://chromium-review.googlesource.com/492886)  
Regress: [mjsunit/regress/regress-6288.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6288.js)  
```javascript
if (this.Intl) {
  assertEquals('pt-BR', Intl.Collator().resolvedOptions().locale);
  assertEquals('pt-BR', Intl.DateTimeFormat().resolvedOptions().locale);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5228af6^!)  
[src/js/intl.js](https://cs.chromium.org/chromium/src/v8/src/js/intl.js?cl=5228af6)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=5228af6)  
[test/mjsunit/regress/regress-6288.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6288.js?cl=5228af6)  
  
---   

## **v8 issue:6337**  
   
**[Issue: Fatal error "unreachable code" with spread in class](https://crbug.com/v8/6337)**  
**[Commit: [parser] Fix fatal error on spread in class properties](https://chromium.googlesource.com/v8/v8/+/e393093)**  
  
Date(Commit): Tue May 02 18:03:13 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/493786](https://chromium-review.googlesource.com/493786)  
Regress: [mjsunit/regress/regress-6337.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6337.js)  
```javascript
assertThrows(function() { eval(`class C { ...[] }`); } )  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e393093^!)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=e393093)  
[test/message/class-spread-property.js](https://cs.chromium.org/chromium/src/v8/test/message/class-spread-property.js?cl=e393093)  
[test/message/class-spread-property.out](https://cs.chromium.org/chromium/src/v8/test/message/class-spread-property.out?cl=e393093)  
[test/mjsunit/regress/regress-6337.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6337.js?cl=e393093)  
  
---   

## **v8 issue:6298**  
   
**[Issue: [asm.js] Scanner truncates all numeric literals to 32-bit](https://crbug.com/v8/6298)**  
**[Commit: [asm.js] Fix numeric literal bounds checking.](https://chromium.googlesource.com/v8/v8/+/e2accb4)**  
  
Date(Commit): Wed Apr 26 13:45:45 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/486881](https://chromium-review.googlesource.com/486881)  
Regress: [mjsunit/regress/regress-6298.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6298.js)  
```javascript
function Module(stdlib, imports, buffer) {
  "use asm";
  function f() {
    return (281474976710655 * 1048575) | 0;
  }
  return { f:f };
}
var m = Module(this);
assertEquals(-1048576, m.f());
assertFalse(%IsAsmWasmCode(Module));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e2accb4^!)  
[src/asmjs/asm-parser.cc](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-parser.cc?cl=e2accb4)  
[src/asmjs/asm-parser.h](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-parser.h?cl=e2accb4)  
[src/asmjs/asm-scanner.cc](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-scanner.cc?cl=e2accb4)  
[src/asmjs/asm-scanner.h](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-scanner.h?cl=e2accb4)  
[test/mjsunit/regress/regress-6298.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6298.js?cl=e2accb4)  
[test/unittests/asmjs/asm-scanner-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/asmjs/asm-scanner-unittest.cc?cl=e2accb4)  
  
---   

## **v8 issue:6280**  
   
**[Issue: [asm.js] Typed array constructors are not considered stdlib uses](https://crbug.com/v8/6280)**  
**[Commit: [asm.js] Treat typed array constructors as stdlib uses.](https://chromium.googlesource.com/v8/v8/+/f06db79)**  
  
Date(Commit): Mon Apr 24 13:33:35 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/485521](https://chromium-review.googlesource.com/485521)  
Regress: [mjsunit/regress/regress-6280.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6280.js)  
```javascript
function Module(stdlib, imports, buffer) {
  "use asm";
  var x = new stdlib.Int8Array(buffer);
  function f() {
    return x[0] | 0;
  }
  return { f:f };
}

var b = new ArrayBuffer(1024);
var m1 = Module({ Int8Array:Int8Array }, {}, b);
assertEquals(0, m1.f());

var was_called = 0;
function observer() { was_called++; return [23]; }
var m2 = Module({ Int8Array:observer }, {}, b);
assertEquals(1, was_called);
assertEquals(23, m2.f());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f06db79^!)  
[src/asmjs/asm-js.cc](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-js.cc?cl=f06db79)  
[src/asmjs/asm-parser.cc](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-parser.cc?cl=f06db79)  
[src/asmjs/asm-typer.h](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-typer.h?cl=f06db79)  
[test/mjsunit/regress/regress-6280.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6280.js?cl=f06db79)  
[test/mjsunit/regress/wasm/regression-647649.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regression-647649.js?cl=f06db79)  
  
---   

## **v8 issue:6248**  
   
**[Issue: No Permission](https://crbug.com/v8/6248)**  
**[Commit: [turbofan] Fix lowering of JSGetSuperConstructor.](https://chromium.googlesource.com/v8/v8/+/68b047d)**  
  
Date(Commit): Thu Apr 13 08:34:22 2017  
Type: None  
Code Review: [https://chromium-review.googlesource.com/476570](https://chromium-review.googlesource.com/476570)  
Regress: [mjsunit/regress/regress-6248.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6248.js)  
```javascript
var sentinelObject = {};
var evaluatedArg = false;
class C extends Object {
  constructor() {
    try {
      super(evaluatedArg = true);
    } catch (e) {
      assertInstanceof(e, TypeError);
      return sentinelObject;
    }
  }
}
Object.setPrototypeOf(C, parseInt);
assertSame(sentinelObject, new C());
assertSame(sentinelObject, new C());
%OptimizeFunctionOnNextCall(C)
assertSame(sentinelObject, new C());
assertFalse(evaluatedArg);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/68b047d^!)  
[src/compiler/js-native-context-specialization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.cc?cl=68b047d)  
[test/mjsunit/regress/regress-6248.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6248.js?cl=68b047d)  
  
---   

## **v8 issue:6223**  
   
**[Issue: Spec violation in TypedArray.prototype.slice (+ UB)](https://crbug.com/v8/6223)**  
**[Commit: [runtime] Fix TypedArray slice when sharing the underlying buffer](https://chromium.googlesource.com/v8/v8/+/186bfbb)**  
  
Date(Commit): Mon Apr 10 12:57:21 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/471409](https://chromium-review.googlesource.com/471409)  
Regress: [mjsunit/regress/regress-6223.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6223.js)  
```javascript
var ab = new Int8Array(20).map((v, i) => i).buffer;
var ta = new Int8Array(ab, 0, 10);
var seen_length = -1;
ta.constructor = {
  [Symbol.species]: function(len) {
    seen_length = len;
    return new Int8Array(ab, 1, len);
  }
};

assertEquals(-1, seen_length);
assertArrayEquals([0,1,2,3,4,5,6,7,8,9], ta);
var tb = ta.slice();
assertEquals(10, seen_length);
assertArrayEquals([0,0,0,0,0,0,0,0,0,0], ta);
assertArrayEquals([0,0,0,0,0,0,0,0,0,0], tb);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/186bfbb^!)  
[src/elements.cc](https://cs.chromium.org/chromium/src/v8/src/elements.cc?cl=186bfbb)  
[test/mjsunit/es6/typedarray-slice.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/typedarray-slice.js?cl=186bfbb)  
[test/mjsunit/regress-6223.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress-6223.js?cl=186bfbb)  
  
---   

## **v8 issue:6209**  
   
**[Issue: No Permission](https://crbug.com/v8/6209)**  
**[Commit: [regexp] Properly handle HeapNumbers in AdvanceStringIndex](https://chromium.googlesource.com/v8/v8/+/ed5496f)**  
  
Date(Commit): Thu Apr 06 18:43:09 2017  
Type: None  
Code Review: [https://codereview.chromium.org/2798933003](https://codereview.chromium.org/2798933003)  
Regress: [mjsunit/regress/regress-6209.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6209.js)  
```javascript
function testAdvanceStringIndex(lastIndex, expectedLastIndex) {
  let exec_count = 0;
  let last_last_index = -1;

  let fake_re = {
    exec: () => { return (exec_count++ == 0) ? [""] : null },
    get lastIndex() { return lastIndex; },
    set lastIndex(value) { last_last_index = value },
    get global() { return true; },
    get flags() { return "g"; }
  };

  assertEquals([""], RegExp.prototype[Symbol.match].call(fake_re, "abc"));
  assertEquals(expectedLastIndex, last_last_index);
}

testAdvanceStringIndex(new Number(42), 43);  
testAdvanceStringIndex(%AllocateHeapNumber(), 1);  
testAdvanceStringIndex(4294967295, 4294967296);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ed5496f^!)  
[src/builtins/builtins-regexp-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-regexp-gen.cc?cl=ed5496f)  
[src/builtins/builtins-regexp-gen.h](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-regexp-gen.h?cl=ed5496f)  
[test/mjsunit/regress/regress-6209.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6209.js?cl=ed5496f)  
  
---   

## **v8 issue:6210**  
   
**[Issue: No Permission](https://crbug.com/v8/6210)**  
**[Commit: [regexp] Fix two more possible shape changes on fast path](https://chromium.googlesource.com/v8/v8/+/1ccf6c0)**  
  
Date(Commit): Thu Apr 06 15:52:21 2017  
Type: None  
Code Review: [https://codereview.chromium.org/2803603005](https://codereview.chromium.org/2803603005)  
Regress: [mjsunit/regress/regress-6210.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6210.js)  
```javascript
const str = '2016-01-02';

function testToUint32InSplit() {
  var re;
  function toDictMode() {
    re.x = 42;
    delete re.x;
    return "def";
  }

  re = /./g;  
  return re[Symbol.replace]("abc", { valueOf: toDictMode });
}

function testToStringInReplace() {
  var re;
  function toDictMode() {
    re.x = 42;
    delete re.x;
    return 42;
  }

  re = /./g;  
  return re[Symbol.split]("abc", { valueOf: toDictMode });
}

testToUint32InSplit();
testToStringInReplace();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1ccf6c0^!)  
[src/builtins/builtins-regexp-gen.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-regexp-gen.cc?cl=1ccf6c0)  
[test/mjsunit/regress/regress-6210.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6210.js?cl=1ccf6c0)  
  
---   

## **v8 issue:6203**  
   
**[Issue: [asm.js] Error reporting of missing import is borked](https://crbug.com/v8/6203)**  
**[Commit: [asm.js] Prevent throwing of asm.js warning messages.](https://chromium.googlesource.com/v8/v8/+/5e8eb62)**  
  
Date(Commit): Wed Apr 05 14:41:52 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/468808](https://chromium-review.googlesource.com/468808)  
Regress: [mjsunit/regress/regress-6203.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6203.js)  
```javascript
function Module(stdlib, imports, buffer) {
  "use asm";
  var a = imports.x | 0;
  function f() {
    return a | 0;
  }
  return { f:f };
}
try {
  Module(this).f();
} catch(e) {
  assertInstanceof(e, TypeError);
  
  
  print(e);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5e8eb62^!)  
[src/asmjs/asm-js.cc](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-js.cc?cl=5e8eb62)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=5e8eb62)  
[test/mjsunit/regress/regress-6203.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6203.js?cl=5e8eb62)  
  
---   

## **v8 issue:6186**  
   
**[Issue: CHECK fail when a Proxy function is paased for String.replace](https://crbug.com/v8/6186)**  
**[Commit: [regexp] Handle a function Proxy passed to String.prototype.replace](https://chromium.googlesource.com/v8/v8/+/8b8295d)**  
  
Date(Commit): Tue Apr 04 18:48:56 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/466549](https://chromium-review.googlesource.com/466549)  
Regress: [mjsunit/regress/regress-6186.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6186.js)  
```javascript
assertEquals("b", "a".replace(/a/, new Proxy(() => "b", {})));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8b8295d^!)  
[src/runtime/runtime-regexp.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-regexp.cc?cl=8b8295d)  
[test/mjsunit/regress/regress-6186.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6186.js?cl=8b8295d)  
  
---   

## **v8 issue:6196**  
   
**[Issue: [asm.js] Nested function table calls are borked](https://crbug.com/v8/6196)**  
**[Commit: [asm.js] Fix nested function table calls.](https://chromium.googlesource.com/v8/v8/+/ce06d1f)**  
  
Date(Commit): Tue Apr 04 10:28:06 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/467327](https://chromium-review.googlesource.com/467327)  
Regress: [mjsunit/regress/regress-6196.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6196.js)  
```javascript
function Module(stdlib, imports, buffer) {
  "use asm";
  function f(a,b,c) {
    a = a | 0;
    b = b | 0;
    c = c | 0;
    var x = 0;
    x = funTable[a & 1](funTable[b & 1](c) | 0) | 0;
    return x | 0;
  }
  function g(a) {
    a = a | 0;
    return (a + 23) | 0;
  }
  function h(a) {
    a = a | 0;
    return (a + 42) | 0;
  }
  var funTable = [ g, h ];
  return f;
}
var f = Module(this);
assertTrue(%IsWasmCode(f));
assertTrue(%IsAsmWasmCode(Module));
assertEquals(165, f(0, 1, 100));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ce06d1f^!)  
[src/asmjs/asm-parser.cc](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-parser.cc?cl=ce06d1f)  
[src/asmjs/asm-parser.h](https://cs.chromium.org/chromium/src/v8/src/asmjs/asm-parser.h?cl=ce06d1f)  
[test/mjsunit/regress/regress-6196.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6196.js?cl=ce06d1f)  
  
---   

## **v8 issue:6164**  
   
**[Issue: WebAssembly Crash on ia32 for functions with i64 return value and unreachable.](https://crbug.com/v8/6164)**  
**[Commit: [wasm] Consider void returns in the int64-lowering](https://chromium.googlesource.com/v8/v8/+/151cad8)**  
  
Date(Commit): Wed Mar 29 13:51:33 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/461941](https://chromium-review.googlesource.com/461941)  
Regress: [mjsunit/regress/wasm/regress-6164.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-6164.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

(function() {
  var builder = new WasmModuleBuilder();
  builder.addMemory(31, 31, false);
  builder.addFunction('test', kSig_l_v)
      .addBodyWithEnd([

kExprUnreachable,
kExprEnd,   
      ])
      .exportFunc();
  var module = builder.instantiate();
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/151cad8^!)  
[src/compiler/int64-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/int64-lowering.cc?cl=151cad8)  
[test/mjsunit/regress/wasm/regression-6164.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regression-6164.js?cl=151cad8)  
  
---   

## **v8 issue:6142**  
   
**[Issue: Bad error message for continuing a non-loop label](https://crbug.com/v8/6142)**  
**[Commit: [parser] Use better error message to continue a non IterationStatement](https://chromium.googlesource.com/v8/v8/+/cd86861)**  
  
Date(Commit): Sat Mar 25 22:04:15 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/459436](https://chromium-review.googlesource.com/459436)  
Regress: [mjsunit/regress/regress-6142.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6142.js)  
```javascript
try {
  eval('a: { continue a; }');
  assertUnreachable();
} catch(e) {
  assertTrue(e instanceof SyntaxError);
  assertEquals('Illegal continue statement: \'a\' does not denote an iteration statement', e.message);
}

try {
  eval('continue;');
  assertUnreachable();
} catch(e) {
  assertTrue(e instanceof SyntaxError);
  assertEquals('Illegal continue statement: no surrounding iteration statement', e.message);
}

try {
  eval('a: { continue b;}');
  assertUnreachable();
} catch(e) {
  assertTrue(e instanceof SyntaxError);
  assertEquals("Undefined label 'b'", e.message);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cd86861^!)  
[src/messages.h](https://cs.chromium.org/chromium/src/v8/src/messages.h?cl=cd86861)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=cd86861)  
[test/mjsunit/regress/regress-6142.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6142.js?cl=cd86861)  
[test/webkit/fast/js/basic-strict-mode-expected.txt](https://cs.chromium.org/chromium/src/v8/test/webkit/fast/js/basic-strict-mode-expected.txt?cl=cd86861)  
[test/webkit/js-continue-break-restrictions-expected.txt](https://cs.chromium.org/chromium/src/v8/test/webkit/js-continue-break-restrictions-expected.txt?cl=cd86861)  
  
---   

## **v8 issue:6098**  
   
**[Issue: Destructuring assignment not handled correctly inside ternary operator](https://crbug.com/v8/6098)**  
**[Commit: [parser] allow patterns within left/right branches of ConditionalExpr](https://chromium.googlesource.com/v8/v8/+/ff1a155)**  
  
Date(Commit): Wed Mar 22 21:39:29 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/455221](https://chromium-review.googlesource.com/455221)  
Regress: [mjsunit/es6/regress/regress-6098.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-6098.js)  
```javascript
const fn = (c) => {
  let d = [1, 2], x = [3, 4],
      e = null,
      f = null;
  0 < c.getIn(['a']) ? [e, f] = d : [e, f] = x;
  return [e, f];
};

assertEquals([3, 4], fn({ getIn(x) { return false; } }));
assertEquals([1, 2], fn({ getIn(x) { return true; } }));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ff1a155^!)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=ff1a155)  
[test/cctest/test-parsing.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-parsing.cc?cl=ff1a155)  
[test/mjsunit/es6/regress/regress-6098.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-6098.js?cl=ff1a155)  
  
---   

## **v8 issue:6077**  
   
**[Issue: Random "undefined behaviour" when using Ignition/TurboFan](https://crbug.com/v8/6077)**  
**[Commit: [deoptimizer] Fill the single precision registers in the deoptimizer entry stub.](https://chromium.googlesource.com/v8/v8/+/798ffc9)**  
  
Date(Commit): Wed Mar 22 16:56:03 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2765323002](https://codereview.chromium.org/2765323002)  
Regress: [mjsunit/compiler/regress-v8-6077.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-v8-6077.js)  
```javascript
var f32 = new Float32Array(40);

function foo(f32, deopt) {
  var v0 = f32[0];
  var v1 = f32[1];
  var v2 = f32[2];
  var v3 = f32[3];
  var v4 = f32[4];
  var v5 = f32[5];
  var v6 = f32[6];
  var v7 = f32[7];
  var v8 = f32[8];
  var v9 = f32[9];
  var v10 = f32[10];
  var v11 = f32[11];
  var v12 = f32[12];
  var v13 = f32[13];
  var v14 = f32[14];
  var v15 = f32[15];
  var v16 = f32[16];
  var v17 = f32[17];
  var v18 = f32[18];
  var v19 = f32[19];
  var v20 = f32[20];
  var v21 = f32[21];
  var v22 = f32[22];
  var v23 = f32[23];
  var v24 = f32[24];
  var v25 = f32[25];
  var v26 = f32[26];
  var v27 = f32[27];
  var v28 = f32[28];
  var v29 = f32[29];
  var v30 = f32[30];
  var v31 = f32[31];
  var v32 = f32[32];
  var v33 = f32[33];
  var v34 = f32[34];
  var v35 = f32[35];
  var v36 = f32[36];
  var v37 = f32[37];
  var v38 = f32[38];
  var v39 = f32[39];
  
  f32[0] = v1 - 1;
  
  
  return deopt + v0 + v1 + v2 + v3 + v4 + v5 + v6 + v7 + v8 + v9 + v10 + v11 +
      v12 + v13 + v14 + v15 + v16 + v17 + v18 + v19 + v20 + v21 + v22 + v23 +
      v24 + v25 + v26 + v27 + v28 + v29 + v30 + v31 + v32 + v33 + v34 + v35 +
      v36 + v37 + v38 + v39;
}

var s = "";
for (var i = 0; i < f32.length; i++) {
  f32[i] = i;
  s += i;
}

foo(f32, 0);
foo(f32, 0);
%OptimizeFunctionOnNextCall(foo);
assertEquals("x" + s, foo(f32, "x"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/798ffc9^!)  
[src/arm/deoptimizer-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/deoptimizer-arm.cc?cl=798ffc9)  
[src/arm64/deoptimizer-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/deoptimizer-arm64.cc?cl=798ffc9)  
[src/deoptimizer.h](https://cs.chromium.org/chromium/src/v8/src/deoptimizer.h?cl=798ffc9)  
[src/ia32/deoptimizer-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/deoptimizer-ia32.cc?cl=798ffc9)  
[src/register-configuration.h](https://cs.chromium.org/chromium/src/v8/src/register-configuration.h?cl=798ffc9)  
[src/x64/deoptimizer-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/deoptimizer-x64.cc?cl=798ffc9)  
[test/mjsunit/compiler/regress-v8-6077.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-v8-6077.js?cl=798ffc9)  
  
---   

## **v8 issue:6054**  
   
**[Issue: Crashed while compiling wasm on Android](https://crbug.com/v8/6054)**  
**[Commit: [wasm][arm] Emit MaybeCheckConstPool in the trap code generation](https://chromium.googlesource.com/v8/v8/+/ab97fd7)**  
  
Date(Commit): Mon Mar 20 09:52:04 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2738683003](https://codereview.chromium.org/2738683003)  
Regress: [mjsunit/regress/wasm/regress-6054.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-6054.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

(function() {
  var builder = new WasmModuleBuilder();
  builder.addMemory(16, 32, false);
  builder.addFunction('test', kSig_i_i)
      .addBodyWithEnd([
  kExprI32Const, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
  kExprI32LoadMem8S, 0x00, 0x00,
kExprEnd,   
      ])
      .exportFunc();
  var module = builder.instantiate();
  assertEquals(0, module.exports.test(1));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ab97fd7^!)  
[src/arm/macro-assembler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.cc?cl=ab97fd7)  
[test/mjsunit/regress/wasm/regression-6054.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regression-6054.js?cl=ab97fd7)  
  
---   

## **v8 issue:6121**  
   
**[Issue: No Permission](https://crbug.com/v8/6121)**  
**[Commit: [turbofan] Properly handle IfException projections on JSForInNext.](https://chromium.googlesource.com/v8/v8/+/a93e522)**  
  
Date(Commit): Mon Mar 20 06:32:28 2017  
Type: None  
Code Review: [https://codereview.chromium.org/2761703002](https://codereview.chromium.org/2761703002)  
Regress: [mjsunit/regress/regress-6121.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6121.js)  
```javascript
function foo(o) {
  try {
    for (var x in o) {}
    return false;
  } catch (e) {
    return true;
  }
}

var o = new Proxy({a:1},{
  getOwnPropertyDescriptor(target, property) { throw target; }
});

assertTrue(foo(o));
assertTrue(foo(o));
%OptimizeFunctionOnNextCall(foo);
assertTrue(foo(o));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a93e522^!)  
[src/compiler/js-typed-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-typed-lowering.cc?cl=a93e522)  
[test/mjsunit/regress/regress-6121.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6121.js?cl=a93e522)  
  
---   

## **v8 issue:6100**  
   
**[Issue: Harmony template escapes not handled properly in preparser](https://crbug.com/v8/6100)**  
**[Commit: [parser] Fix template escapes in preparser](https://chromium.googlesource.com/v8/v8/+/bb927eb)**  
  
Date(Commit): Wed Mar 15 12:44:41 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/455876](https://chromium-review.googlesource.com/455876)  
Regress: [mjsunit/harmony/regress/regress-6100.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/harmony/regress/regress-6100.js)  
```javascript
function check({cooked, raw, exprs}) {
  return function(strs, ...args) {
    assertArrayEquals(cooked, strs);
    assertArrayEquals(raw, strs.raw);
    assertArrayEquals(exprs, args);
  };
}



function lazy() {
  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\01'
    ],
    'exprs': []
  })`\01`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\01',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\01${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\01'
    ],
    'exprs': [
      0
    ]
  })`left${0}\01`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\01',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\01${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\1'
    ],
    'exprs': []
  })`\1`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\1',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\1${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\1'
    ],
    'exprs': [
      0
    ]
  })`left${0}\1`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\1',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\1${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\xg'
    ],
    'exprs': []
  })`\xg`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\xg',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\xg${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\xg'
    ],
    'exprs': [
      0
    ]
  })`left${0}\xg`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\xg',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\xg${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\xAg'
    ],
    'exprs': []
  })`\xAg`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\xAg',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\xAg${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\xAg'
    ],
    'exprs': [
      0
    ]
  })`left${0}\xAg`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\xAg',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\xAg${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u0'
    ],
    'exprs': []
  })`\u0`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u0',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u0${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u0'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u0`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u0',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u0${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u0g'
    ],
    'exprs': []
  })`\u0g`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u0g',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u0g${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u0g'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u0g`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u0g',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u0g${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u00g'
    ],
    'exprs': []
  })`\u00g`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u00g',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u00g${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u00g'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u00g`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u00g',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u00g${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u000g'
    ],
    'exprs': []
  })`\u000g`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u000g',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u000g${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u000g'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u000g`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u000g',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u000g${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{}'
    ],
    'exprs': []
  })`\u{}`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{}',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{}${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{}'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{}`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{}',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{}${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{-0}'
    ],
    'exprs': []
  })`\u{-0}`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{-0}',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{-0}${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{-0}'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{-0}`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{-0}',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{-0}${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{g}'
    ],
    'exprs': []
  })`\u{g}`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{g}',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{g}${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{g}'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{g}`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{g}',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{g}${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{0'
    ],
    'exprs': []
  })`\u{0`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{0',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{0${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{0'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{0`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{0',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{0${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{\\u{0}'
    ],
    'exprs': []
  })`\u{\u{0}`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{\\u{0}',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{\u{0}${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{\\u{0}'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{\u{0}`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{\\u{0}',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{\u{0}${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{110000}'
    ],
    'exprs': []
  })`\u{110000}`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{110000}',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{110000}${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{110000}'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{110000}`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{110000}',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{110000}${1}right`;



  function checkMultiple(expectedArray) {
    let results = [];
    return function consume(strs, ...args) {
      if (typeof strs === 'undefined') {
        assertArrayEquals(expectedArray, results);
      } else {
        results.push({cooked: strs, raw: strs.raw, exprs: args});
        return consume;
      }
    };
  }


  checkMultiple([{
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u',
    ],
    'exprs': []
  }, {
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u',
    ],
    'exprs': []
  }])`\u``\u`();

  checkMultiple([{
    'cooked': [
      ' '
    ],
    'raw': [
      ' ',
    ],
    'exprs': []
  }, {
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u',
    ],
    'exprs': []
  }])` ``\u`();

  checkMultiple([{
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u',
    ],
    'exprs': []
  }, {
    'cooked': [
      ' '
    ],
    'raw': [
      ' ',
    ],
    'exprs': []
  }])`\u`` `();

  checkMultiple([{
    'cooked': [
      ' '
    ],
    'raw': [
      ' ',
    ],
    'exprs': []
  }, {
    'cooked': [
      ' '
    ],
    'raw': [
      ' ',
    ],
    'exprs': []
  }])` `` `();
}

(function eager() {
  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\01'
    ],
    'exprs': []
  })`\01`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\01',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\01${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\01'
    ],
    'exprs': [
      0
    ]
  })`left${0}\01`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\01',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\01${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\1'
    ],
    'exprs': []
  })`\1`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\1',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\1${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\1'
    ],
    'exprs': [
      0
    ]
  })`left${0}\1`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\1',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\1${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\xg'
    ],
    'exprs': []
  })`\xg`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\xg',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\xg${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\xg'
    ],
    'exprs': [
      0
    ]
  })`left${0}\xg`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\xg',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\xg${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\xAg'
    ],
    'exprs': []
  })`\xAg`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\xAg',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\xAg${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\xAg'
    ],
    'exprs': [
      0
    ]
  })`left${0}\xAg`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\xAg',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\xAg${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u0'
    ],
    'exprs': []
  })`\u0`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u0',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u0${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u0'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u0`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u0',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u0${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u0g'
    ],
    'exprs': []
  })`\u0g`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u0g',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u0g${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u0g'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u0g`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u0g',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u0g${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u00g'
    ],
    'exprs': []
  })`\u00g`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u00g',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u00g${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u00g'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u00g`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u00g',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u00g${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u000g'
    ],
    'exprs': []
  })`\u000g`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u000g',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u000g${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u000g'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u000g`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u000g',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u000g${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{}'
    ],
    'exprs': []
  })`\u{}`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{}',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{}${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{}'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{}`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{}',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{}${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{-0}'
    ],
    'exprs': []
  })`\u{-0}`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{-0}',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{-0}${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{-0}'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{-0}`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{-0}',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{-0}${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{g}'
    ],
    'exprs': []
  })`\u{g}`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{g}',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{g}${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{g}'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{g}`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{g}',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{g}${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{0'
    ],
    'exprs': []
  })`\u{0`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{0',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{0${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{0'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{0`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{0',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{0${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{\\u{0}'
    ],
    'exprs': []
  })`\u{\u{0}`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{\\u{0}',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{\u{0}${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{\\u{0}'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{\u{0}`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{\\u{0}',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{\u{0}${1}right`;

  check({
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u{110000}'
    ],
    'exprs': []
  })`\u{110000}`;

  check({
    'cooked': [
      undefined,
      'right'
    ],
    'raw': [
      '\\u{110000}',
      'right'
    ],
    'exprs': [
      0
    ]
  })`\u{110000}${0}right`;

  check({
    'cooked': [
      'left',
      undefined
    ],
    'raw': [
      'left',
      '\\u{110000}'
    ],
    'exprs': [
      0
    ]
  })`left${0}\u{110000}`;

  check({
    'cooked': [
      'left',
      undefined,
      'right'
    ],
    'raw': [
      'left',
      '\\u{110000}',
      'right'
    ],
    'exprs': [
      0,
      1
    ]
  })`left${0}\u{110000}${1}right`;



  function checkMultiple(expectedArray) {
    let results = [];
    return function consume(strs, ...args) {
      if (typeof strs === 'undefined') {
        assertArrayEquals(expectedArray, results);
      } else {
        results.push({cooked: strs, raw: strs.raw, exprs: args});
        return consume;
      }
    };
  }


  checkMultiple([{
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u',
    ],
    'exprs': []
  }, {
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u',
    ],
    'exprs': []
  }])`\u``\u`();

  checkMultiple([{
    'cooked': [
      ' '
    ],
    'raw': [
      ' ',
    ],
    'exprs': []
  }, {
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u',
    ],
    'exprs': []
  }])` ``\u`();

  checkMultiple([{
    'cooked': [
      undefined
    ],
    'raw': [
      '\\u',
    ],
    'exprs': []
  }, {
    'cooked': [
      ' '
    ],
    'raw': [
      ' ',
    ],
    'exprs': []
  }])`\u`` `();

  checkMultiple([{
    'cooked': [
      ' '
    ],
    'raw': [
      ' ',
    ],
    'exprs': []
  }, {
    'cooked': [
      ' '
    ],
    'raw': [
      ' ',
    ],
    'exprs': []
  }])` `` `();
})();

lazy();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/bb927eb^!)  
[src/parsing/parser.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.h?cl=bb927eb)  
[src/parsing/preparser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/preparser.cc?cl=bb927eb)  
[test/mjsunit/harmony/regress/regress-6100.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-6100.js?cl=bb927eb)  
  
---   

## **v8 issue:6082**  
   
**[Issue: Number.isNaN inlining crashes](https://crbug.com/v8/6082)**  
**[Commit: [turbofan] Fix lowering of Number.isNaN().](https://chromium.googlesource.com/v8/v8/+/9bee8f1)**  
  
Date(Commit): Mon Mar 13 07:00:59 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2743183003](https://codereview.chromium.org/2743183003)  
Regress: [mjsunit/regress/regress-6082.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6082.js)  
```javascript
function foo() { return Number.isNaN(); }
assertFalse(foo());
assertFalse(foo());
%OptimizeFunctionOnNextCall(foo);
assertFalse(foo());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9bee8f1^!)  
[src/compiler/js-builtin-reducer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-builtin-reducer.cc?cl=9bee8f1)  
[test/mjsunit/regress/regress-6082.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6082.js?cl=9bee8f1)  
  
---   

## **v8 issue:6063**  
   
**[Issue: gpu test failing "gpu_tests.maps_integration_test.MapsIntegrationTest.Maps_maps_004"](https://crbug.com/v8/6063)**  
**[Commit: [ia32] Fix invalid DCHECK on cmpw with immediate.](https://chromium.googlesource.com/v8/v8/+/6560707)**  
  
Date(Commit): Wed Mar 08 13:04:45 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2735363002](https://codereview.chromium.org/2735363002)  
Regress: [mjsunit/regress/regress-6063.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-6063.js)  
```javascript
var U16 = new Uint16Array(2);
U16[0] = 0xffff;

function foo(a, i) {
  return U16[0] === 0xffff;
}

assertTrue(foo());
assertTrue(foo());
%OptimizeFunctionOnNextCall(foo);
assertTrue(foo());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6560707^!)  
[src/ia32/assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/assembler-ia32.cc?cl=6560707)  
[test/mjsunit/regress/regress-6063.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-6063.js?cl=6560707)  
  
---   

## **v8 issue:5986**  
   
**[Issue: No Permission](https://crbug.com/v8/5986)**  
**[Commit: [builtins] fix incorrect return value in ArrayIncludes](https://chromium.googlesource.com/v8/v8/+/6746227)**  
  
Date(Commit): Mon Feb 20 14:41:25 2017  
Type: None  
Code Review: [https://chromium-review.googlesource.com/445006](https://chromium-review.googlesource.com/445006)  
Regress: [mjsunit/es7/regress/regress-5986.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es7/regress/regress-5986.js)  
```javascript
var array = [1.7, 1.7, 1.7];
var mutator = {
  [Symbol.toPrimitive]() {
    Object.defineProperties(array, {
      0: { get() { } },
      1: { get() { } },
      2: { get() { } },
    });
    return 0;
  }
};

assertTrue(array.includes(undefined, mutator));

function search(array, searchElement, startIndex) {
  return array.includes(searchElement, startIndex);
}

array = [1.7, 1.7, 1.7];
var not_mutator = { [Symbol.toPrimitive]() { return 0; } };
assertFalse(search(array, undefined, not_mutator));
assertFalse(search(array, undefined, not_mutator));
%OptimizeFunctionOnNextCall(search);
assertTrue(search(array, undefined, mutator));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6746227^!)  
[src/builtins/builtins-array.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-array.cc?cl=6746227)  
[test/mjsunit/es7/regress/regress-5986.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es7/regress/regress-5986.js?cl=6746227)  
  
---   

## **v8 issue:5927**  
   
**[Issue: Ignition doesn't always use proper language mode.](https://crbug.com/v8/5927)**  
**[Commit: [interpreter] When generating bytecode, properly track current scope.](https://chromium.googlesource.com/v8/v8/+/8686368)**  
  
Date(Commit): Sun Feb 19 13:08:19 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/444785](https://chromium-review.googlesource.com/444785)  
Regress: [mjsunit/regress/regress-5927.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5927.js)  
```javascript
let a = Object.freeze({});
assertThrows(() => class C {[a.b = "foo"]() {}}, TypeError);
assertThrows(() => class C extends (a.c = null) {}, TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8686368^!)  
[src/ast/ast-numbering.cc](https://cs.chromium.org/chromium/src/v8/src/ast/ast-numbering.cc?cl=8686368)  
[src/interpreter/bytecode-generator.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/bytecode-generator.cc?cl=8686368)  
[src/interpreter/bytecode-generator.h](https://cs.chromium.org/chromium/src/v8/src/interpreter/bytecode-generator.h?cl=8686368)  
[test/mjsunit/regress/regress-5927.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5927.js?cl=8686368)  
  
---   

## **v8 issue:5972**  
   
**[Issue: Optimized code might report `typeof document.all === 'function'` as true](https://crbug.com/v8/5972)**  
**[Commit: Fix typeof optimization for undetectable](https://chromium.googlesource.com/v8/v8/+/6302753)**  
  
Date(Commit): Sat Feb 18 12:43:37 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2697063002](https://codereview.chromium.org/2697063002)  
Regress: [mjsunit/regress/regress-5972.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5972.js)  
```javascript
var undetectable = %GetUndetectable();

function foo(a) {
  const o = a ? foo : undetectable;
  return typeof o === 'function';
}

assertFalse(foo(false));
assertFalse(foo(false));
%OptimizeFunctionOnNextCall(foo);
assertFalse(foo(false));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6302753^!)  
[src/compiler/effect-control-linearizer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/effect-control-linearizer.cc?cl=6302753)  
[src/compiler/effect-control-linearizer.h](https://cs.chromium.org/chromium/src/v8/src/compiler/effect-control-linearizer.h?cl=6302753)  
[src/compiler/escape-analysis.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/escape-analysis.cc?cl=6302753)  
[src/compiler/js-typed-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-typed-lowering.cc?cl=6302753)  
[src/compiler/opcodes.h](https://cs.chromium.org/chromium/src/v8/src/compiler/opcodes.h?cl=6302753)  
[src/compiler/simplified-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-lowering.cc?cl=6302753)  
[src/compiler/simplified-operator.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator.cc?cl=6302753)  
[src/compiler/simplified-operator.h](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator.h?cl=6302753)  
[src/compiler/typer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/typer.cc?cl=6302753)  
[src/compiler/types.h](https://cs.chromium.org/chromium/src/v8/src/compiler/types.h?cl=6302753)  
[src/compiler/verifier.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/verifier.cc?cl=6302753)  
[test/mjsunit/regress/regress-5972.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5972.js?cl=6302753)  
  
---   

## **v8 issue:5974**  
   
**[Issue: Spread calls do not convert hole to undefined](https://crbug.com/v8/5974)**  
**[Commit: [builtins] Convert the hole to undefined when pushing spread arguments.](https://chromium.googlesource.com/v8/v8/+/817e035)**  
  
Date(Commit): Wed Feb 15 18:32:16 2017  
Type: Bug  
Code Review: [https://chromium-review.googlesource.com/443247](https://chromium-review.googlesource.com/443247)  
Regress: [mjsunit/regress/regress-5974.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5974.js)  
```javascript
(function() {
  var a = Array(...Array(5)).map(() => 1);

  assertEquals([1, 1, 1, 1, 1], a);
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/817e035^!)  
[src/builtins/arm/builtins-arm.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/arm/builtins-arm.cc?cl=817e035)  
[src/builtins/arm64/builtins-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/arm64/builtins-arm64.cc?cl=817e035)  
[src/builtins/ia32/builtins-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/ia32/builtins-ia32.cc?cl=817e035)  
[src/builtins/mips/builtins-mips.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/mips/builtins-mips.cc?cl=817e035)  
[src/builtins/mips64/builtins-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/mips64/builtins-mips64.cc?cl=817e035)  
[src/builtins/ppc/builtins-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/ppc/builtins-ppc.cc?cl=817e035)  
[src/builtins/s390/builtins-s390.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/s390/builtins-s390.cc?cl=817e035)  
[src/builtins/x64/builtins-x64.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/x64/builtins-x64.cc?cl=817e035)  
[src/builtins/x87/builtins-x87.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/x87/builtins-x87.cc?cl=817e035)  
[test/mjsunit/regress/regress-5974.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5974.js?cl=817e035)  
  
---   

## **v8 issue:5929**  
   
**[Issue: Slow TypedArray builtins](https://crbug.com/v8/5929)**  
**[Commit: Reland [typedarrays] move %TypedArray%.prototype.copyWithin to C++](https://chromium.googlesource.com/v8/v8/+/dc302c7)**  
  
Date(Commit): Wed Feb 15 14:21:18 2017  
Type: FeatureRequest  
Code Review: [https://codereview.chromium.org/2697593002](https://codereview.chromium.org/2697593002)  
Regress: [mjsunit/es6/regress/regress-5929-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-5929-1.js)  
```javascript
var buf = new ArrayBuffer(0x10000);
var arr = new Uint8Array(buf).fill(55);
var tmp = {};
tmp[Symbol.toPrimitive] = function () {
  %ArrayBufferDetach(arr.buffer);
  return 50;
}
arr.copyWithin(tmp);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/dc302c7^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=dc302c7)  
[src/builtins/builtins-typedarray.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-typedarray.cc?cl=dc302c7)  
[src/builtins/builtins.h](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins.h?cl=dc302c7)  
[src/js/array.js](https://cs.chromium.org/chromium/src/v8/src/js/array.js?cl=dc302c7)  
[src/js/typedarray.js](https://cs.chromium.org/chromium/src/v8/src/js/typedarray.js?cl=dc302c7)  
[test/mjsunit/es6/regress/regress-5929-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-5929-1.js?cl=dc302c7)  
[test/mjsunit/es6/typedarray-copywithin.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/typedarray-copywithin.js?cl=dc302c7)  
  
---   

## **v8 issue:5692**  
   
**[Issue: "let" with Unicode escape sequence not supported as label](https://crbug.com/v8/5692)**  
**[Commit: ParserBase should accept ESCAPED_STRICT_RESERVED_WORD as an identifier](https://chromium.googlesource.com/v8/v8/+/e3d761d)**  
  
Date(Commit): Wed Feb 15 02:35:12 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2695973003](https://codereview.chromium.org/2695973003)  
Regress: [mjsunit/regress/regress-5692.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5692.js)  
```javascript
var wasTouched = false;
l\u0065t:
do {
  break l\u0065t;
  wasTouched = true;
} while (false);


assertFalse(wasTouched);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e3d761d^!)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=e3d761d)  
[test/cctest/test-parsing.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-parsing.cc?cl=e3d761d)  
[test/mjsunit/regress/regress-5692.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5692.js?cl=e3d761d)  
  
---   

## **v8 issue:5958**  
   
**[Issue: instanceof protector cell is fundamentally wrong](https://crbug.com/v8/5958)**  
**[Commit: [es2015] Remove the @@hasInstance protector cell.](https://chromium.googlesource.com/v8/v8/+/1a23620)**  
  
Date(Commit): Mon Feb 13 07:16:27 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2684033012](https://codereview.chromium.org/2684033012)  
Regress: [mjsunit/regress/regress-v8-5958.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-5958.js)  
```javascript
class A {}
class B {}

A.__proto__ = new Proxy(A.__proto__, {
  get: function (target, property, receiver) {
    if (property === Symbol.hasInstance) throw new B;
  }
});

assertThrows(() => (new A) instanceof A, B);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1a23620^!)  
[src/builtins/builtins.h](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins.h?cl=1a23620)  
[src/code-stub-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.cc?cl=1a23620)  
[src/code-stub-assembler.h](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.h?cl=1a23620)  
[src/full-codegen/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm/full-codegen-arm.cc?cl=1a23620)  
[src/full-codegen/arm64/full-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm64/full-codegen-arm64.cc?cl=1a23620)  
[src/full-codegen/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/ia32/full-codegen-ia32.cc?cl=1a23620)  
[src/full-codegen/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips/full-codegen-mips.cc?cl=1a23620)  
[src/full-codegen/mips64/full-codegen-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips64/full-codegen-mips64.cc?cl=1a23620)  
[src/full-codegen/ppc/full-codegen-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/ppc/full-codegen-ppc.cc?cl=1a23620)  
[src/full-codegen/s390/full-codegen-s390.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/s390/full-codegen-s390.cc?cl=1a23620)  
[src/full-codegen/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/x64/full-codegen-x64.cc?cl=1a23620)  
[src/full-codegen/x87/full-codegen-x87.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/x87/full-codegen-x87.cc?cl=1a23620)  
[src/heap/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap/heap.cc?cl=1a23620)  
[src/heap/heap.h](https://cs.chromium.org/chromium/src/v8/src/heap/heap.h?cl=1a23620)  
[src/isolate-inl.h](https://cs.chromium.org/chromium/src/v8/src/isolate-inl.h?cl=1a23620)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=1a23620)  
[src/isolate.h](https://cs.chromium.org/chromium/src/v8/src/isolate.h?cl=1a23620)  
[src/lookup.cc](https://cs.chromium.org/chromium/src/v8/src/lookup.cc?cl=1a23620)  
[src/runtime/runtime-internal.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-internal.cc?cl=1a23620)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=1a23620)  
[test/mjsunit/regress/regress-v8-5958.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-5958.js?cl=1a23620)  
  
---   

## **v8 issue:5943**  
   
**[Issue: Regexp hits assertion](https://crbug.com/v8/5943)**  
**[Commit: [regexp] Ensure IrregexpExecRaw is passed a flat string](https://chromium.googlesource.com/v8/v8/+/1d3317f)**  
  
Date(Commit): Thu Feb 09 11:24:08 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2681123002](https://codereview.chromium.org/2681123002)  
Regress: [mjsunit/regress/regress-5943.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5943.js)  
```javascript
function createHTML() {
  return '' + '<div><div><di';
}

createHTML();
%OptimizeFunctionOnNextCall(createHTML);

/./.test(createHTML());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1d3317f^!)  
[src/regexp/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/regexp/jsregexp.cc?cl=1d3317f)  
[test/mjsunit/regress/regress-5943.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5943.js?cl=1d3317f)  
  
---   

## **v8 issue:5938**  
   
**[Issue: Function fails to close over variable in declared in the same block](https://crbug.com/v8/5938)**  
**[Commit: [parsing] Produce same Scopes in Parser and PreParser when the params are not simple.](https://chromium.googlesource.com/v8/v8/+/9b35d8f)**  
  
Date(Commit): Wed Feb 08 17:14:30 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2638333002](https://codereview.chromium.org/2638333002)  
Regress: [mjsunit/regress/regress-5938.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5938.js)  
```javascript
let global = 0;
{
  let confusing = 13;
  function lazy_func(b = confusing) { let confusing = 0; global = b; }
  lazy_func();
}

assertEquals(13, global);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9b35d8f^!)  
[src/parsing/preparser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/preparser.cc?cl=9b35d8f)  
[test/cctest/test-parsing.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-parsing.cc?cl=9b35d8f)  
[test/mjsunit/regress/regress-5938.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5938.js?cl=9b35d8f)  
  
---   

## **v8 issue:5636**  
   
**[Issue: The variable assignment analysis (aka. maybe_assigned) is broken for several language features](https://crbug.com/v8/5636)**  
**[Commit: [parsing] Fix maybe-assigned for loop variables.](https://chromium.googlesource.com/v8/v8/+/a33fcd6)**  
  
Date(Commit): Tue Feb 07 11:45:09 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2673403003](https://codereview.chromium.org/2673403003)  
Regress: [mjsunit/regress/regress-5636-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5636-1.js), [mjsunit/regress/regress-5636-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5636-2.js)  
```javascript
function f(n) {
  var a = [];
  function g() { return x }
  for (var i = 0; i < n; ++i) {
    var x = i;
    a[i] = g;
    %OptimizeFunctionOnNextCall(g);
    g();
  }
  return a;
}
var a = f(3);
assertEquals(3, a.length);
assertEquals(2, a[0]());
assertEquals(2, a[1]());
assertEquals(2, a[2]());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a33fcd6^!)  
[src/ast/scopes.h](https://cs.chromium.org/chromium/src/v8/src/ast/scopes.h?cl=a33fcd6)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=a33fcd6)  
[src/parsing/pattern-rewriter.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/pattern-rewriter.cc?cl=a33fcd6)  
[src/parsing/preparser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/preparser.cc?cl=a33fcd6)  
[test/cctest/parsing/test-preparser.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/parsing/test-preparser.cc?cl=a33fcd6)  
[test/cctest/scope-test-helper.h](https://cs.chromium.org/chromium/src/v8/test/cctest/scope-test-helper.h?cl=a33fcd6)  
[test/cctest/test-parsing.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-parsing.cc?cl=a33fcd6)  
[test/mjsunit/regress/regress-5636-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5636-1.js?cl=a33fcd6)  
[test/mjsunit/regress/regress-5636-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5636-2.js?cl=a33fcd6)  
  
---   

## **v8 issue:5638**  
   
**[Issue: JSCreate needs a proper frame state and IfException edges need to be rewired](https://crbug.com/v8/5638)**  
**[Commit: [turbofan] Mark {JSCreate} as potentially throwing.](https://chromium.googlesource.com/v8/v8/+/e34f536)**  
  
Date(Commit): Tue Feb 07 09:00:18 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2671203003](https://codereview.chromium.org/2671203003)  
Regress: [mjsunit/regress/regress-5638.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5638.js), [mjsunit/regress/regress-5638b.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5638b.js)  
```javascript
class MyErrorA {}

class MyErrorB {}

class A {}

class B extends A {
  constructor() {
    try {
      super();
    } catch (e) {
      throw new MyErrorB();
    }
  }
}

var thrower = new Proxy(A, {
  get(target, property, receiver) {
    if (property === 'prototype') throw new MyErrorA();
  }
});

assertThrows(() => Reflect.construct(B, [], thrower), MyErrorB);
assertThrows(() => Reflect.construct(B, [], thrower), MyErrorB);
%OptimizeFunctionOnNextCall(B);
assertThrows(() => Reflect.construct(B, [], thrower), MyErrorB);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e34f536^!)  
[src/compiler/js-create-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-create-lowering.cc?cl=e34f536)  
[src/compiler/js-inlining.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-inlining.cc?cl=e34f536)  
[src/compiler/js-operator.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-operator.cc?cl=e34f536)  
[test/mjsunit/regress/regress-5638.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5638.js?cl=e34f536)  
[test/unittests/compiler/js-create-lowering-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/compiler/js-create-lowering-unittest.cc?cl=e34f536)  
[test/unittests/compiler/js-operator-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/compiler/js-operator-unittest.cc?cl=e34f536)  
  
---   

## **v8 issue:5902**  
   
**[Issue: regexp constructor map is in dictionary mode.](https://crbug.com/v8/5902)**  
**[Commit: Add test case for built-in objects' property mode.](https://chromium.googlesource.com/v8/v8/+/b963cb2)**  
  
Date(Commit): Fri Feb 03 12:19:21 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2669423002](https://codereview.chromium.org/2669423002)  
Regress: [mjsunit/regress/regress-5902.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5902.js)  
```javascript
var log = [];

function check(predicate, item) {
  if (!predicate) log.push(item);
}

var global = this;

Object.getOwnPropertyNames(global).forEach(function(name) {
  
  if (name[0] != name[0].toUpperCase()) return;

  var obj = global[name];

  
  if (!%IsJSReceiver(obj)) return;

  
  if (!obj.toString().includes('native')) return;

  
  try {
    new obj();
  } catch (e) {
  }

  
  check(%HasFastProperties(obj), `${name}`);

  
  var constructor = obj.constructor;
  if (!%IsJSReceiver(constructor)) return;
  check(%HasFastProperties(constructor), `${name}.constructor`);

  
  var prototype = obj.prototype;
  if (!%IsJSReceiver(prototype)) return;
  check(%HasFastProperties(prototype), `${name}.prototype`);

  
  var prototype_constructor = prototype.constructor;
  if (!%IsJSReceiver(prototype_constructor)) return;
  check(
      %HasFastProperties(prototype_constructor),
      `${name}.prototype.constructor`);
});


assertEquals([], log);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b963cb2^!)  
[test/mjsunit/regress/regress-5902.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5902.js?cl=b963cb2)  
  
---   

## **v8 issue:5911**  
   
**[Issue: Crash in the register allocator verifier on ia32](https://crbug.com/v8/5911)**  
**[Commit: [turbofan] more regalloc fixes](https://chromium.googlesource.com/v8/v8/+/b0e58a9)**  
  
Date(Commit): Thu Feb 02 22:33:40 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2667963004](https://codereview.chromium.org/2667963004)  
Regress: [mjsunit/regress/regress-5911.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5911.js)  
```javascript
load("test/mjsunit/wasm/wasm-constants.js");
load("test/mjsunit/wasm/wasm-module-builder.js");

(function() {
    var builder = new WasmModuleBuilder();
    builder.addMemory(32, 32, false);
    builder.addFunction("test", kSig_i_iii)
        .addBodyWithEnd([
            
            kExprI64Const, 0x42,
            kExprI64Const, 0x7a,
            kExprI64RemU,
            kExprI64Const, 0x42,
            kExprI64Const, 0x37,
            kExprI64Mul,
            kExprI64Const, 0x36,
            kExprI64Mul,
            kExprI64Const, 0x42,
            kExprI64Ctz,
            kExprI64Ctz,
            kExprI64Shl,
            kExprF32SConvertI64,
            kExprUnreachable,
            kExprEnd,   
        ])
        .exportFunc();
    var module = new WebAssembly.Module(builder.toBuffer());
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b0e58a9^!)  
[src/compiler/register-allocator.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/register-allocator.cc?cl=b0e58a9)  
[test/mjsunit/regress/regress-5911.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5911.js?cl=b0e58a9)  
  
---   

## **v8 issue:5888**  
   
**[Issue: Crash in the register allocator verifier](https://crbug.com/v8/5888)**  
**[Commit: [turbofan] Correct regalloc blocked register behavior](https://chromium.googlesource.com/v8/v8/+/ca779b2)**  
  
Date(Commit): Thu Jan 26 15:51:47 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2652153005](https://codereview.chromium.org/2652153005)  
Regress: [mjsunit/regress/regress-5888.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5888.js)  
```javascript
load("test/mjsunit/wasm/wasm-constants.js");
load("test/mjsunit/wasm/wasm-module-builder.js");

(function() {
  var builder = new WasmModuleBuilder();
  builder.addMemory(32, 32, false);
  builder.addFunction("test", kSig_i_iii)
    .addBodyWithEnd([

kExprI64Const, 0xb4, 0x42,
kExprI64Const, 0x7a,
kExprI64Const, 0x42,
kExprI64Const, 0x7a,
kExprI64Ior,
kExprI64Ctz,
kExprI64Ctz,
kExprI64Shl,
kExprI64Mul,
kExprI64Const, 0x41,
kExprI64Ctz,
kExprI64Ctz,
kExprI64Shl,
kExprF32SConvertI64,
kExprI64Const, 0x42,
kExprI64Const, 0x02,
kExprI64Const, 0x7a,
kExprI64Mul,
kExprI64Const, 0x42,
kExprI64Ctz,
kExprI64Shl,
kExprI64Const, 0x7a,
kExprI64Ctz,
kExprI64Shl,
kExprI64Mul,
kExprI64Const, 0x41,
kExprI64Ctz,
kExprI64Ctz,
kExprI64Shl,
kExprF32SConvertI64,
kExprUnreachable,
kExprEnd,   
            ])
            .exportFunc();
  var module = new WebAssembly.Module(builder.toBuffer());
})();

(function() {
  var builder = new WasmModuleBuilder();
  builder.addMemory(16, 32, false);
  builder.addFunction("test", kSig_i_iii)
    .addBodyWithEnd([
      
      kExprI64Const, 0x42,
      kExprI64Const, 0x7a,
      kExprI64Ctz,
      kExprI64Mul,
      kExprI64Ctz,
      kExprI64Const, 0x41,
      kExprI64Ctz,
      kExprI64Ctz,
      kExprI64Shl,
      kExprI64Const, 0x41,
      kExprI64Ctz,
      kExprI64Ctz,
      kExprI64Shl,
      kExprF32SConvertI64,
      kExprUnreachable,
      kExprEnd,   
    ])
    .exportFunc();
  var module = new WebAssembly.Module(builder.toBuffer());
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ca779b2^!)  
[src/compiler/register-allocator.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/register-allocator.cc?cl=ca779b2)  
[test/mjsunit/regress/regress-5888.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5888.js?cl=ca779b2)  
  
---   

## **v8 issue:5884**  
   
**[Issue: Locally found fuzzer issue on ia32 #2](https://crbug.com/v8/5884)**  
**[Commit: [wasm] Do the default int64-lowering for all non-i64 stores.](https://chromium.googlesource.com/v8/v8/+/a5e7382)**  
  
Date(Commit): Thu Jan 26 09:38:13 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2656563003](https://codereview.chromium.org/2656563003)  
Regress: [mjsunit/regress/wasm/regress-5884.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-5884.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

(function() {
  var builder = new WasmModuleBuilder();
  builder.addMemory(31, 31, false);
  builder.addFunction('test', kSig_i_iii)
      .addBodyWithEnd([
        
        kExprI64Const, 0x41, kExprI64Const, 0x41, kExprI64LtS, kExprI32Const,
        0x01, kExprI32StoreMem, 0x00, 0x41, kExprUnreachable,
        kExprEnd,  
      ])
      .exportFunc();
  var module = builder.instantiate();
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a5e7382^!)  
[src/compiler/int64-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/int64-lowering.cc?cl=a5e7382)  
[test/mjsunit/regress/wasm/regression-5884.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regression-5884.js?cl=a5e7382)  
  
---   

## **v8 issue:5860**  
   
**[Issue: No Permission](https://crbug.com/v8/5860)**  
**[Commit: [wasm] Do not patch memory references in imported functions.](https://chromium.googlesource.com/v8/v8/+/e9b22dd)**  
  
Date(Commit): Tue Jan 24 09:43:57 2017  
Type: None  
Code Review: [https://codereview.chromium.org/2653533003](https://codereview.chromium.org/2653533003)  
Regress: [mjsunit/regress/wasm/regress-5860.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-5860.js)  
```javascript
load('test/mjsunit/wasm/wasm-constants.js');
load('test/mjsunit/wasm/wasm-module-builder.js');

let module1 = (() => {
  let builder = new WasmModuleBuilder();
  builder.addMemory(1, 1);
  builder.addFunction('load', kSig_i_i)
      .addBody([kExprI32Const, 0, kExprI32LoadMem, 0, 0])
      .exportAs('load');
  return new WebAssembly.Module(builder.toBuffer());
})();

let module2 = (() => {
  let builder = new WasmModuleBuilder();
  builder.addMemory(1, 1);
  builder.addImport('A', 'load', kSig_i_i);
  builder.addExportOfKind('load', kExternalFunction, 0);
  return new WebAssembly.Module(builder.toBuffer());
})();

let instance1 = new WebAssembly.Instance(module1);
let instance2 = new WebAssembly.Instance(module2, {A: instance1.exports});

assertEquals(0, instance2.exports.load());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e9b22dd^!)  
[src/wasm/wasm-module.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/wasm-module.cc?cl=e9b22dd)  
[src/wasm/wasm-objects.cc](https://cs.chromium.org/chromium/src/v8/src/wasm/wasm-objects.cc?cl=e9b22dd)  
[src/wasm/wasm-objects.h](https://cs.chromium.org/chromium/src/v8/src/wasm/wasm-objects.h?cl=e9b22dd)  
[test/mjsunit/regress/wasm/regress-5860.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regress-5860.js?cl=e9b22dd)  
  
---   

## **v8 issue:5800**  
   
**[Issue: 179.art gets OOB error on ia32](https://crbug.com/v8/5800)**  
**[Commit: [wasm] Fix codegen issue for i64.add and i64.sub on ia32](https://chromium.googlesource.com/v8/v8/+/037200e)**  
  
Date(Commit): Thu Jan 19 01:16:19 2017  
Type: Bug  
Code Review: [https://bugs.chromium.org/p/v8/issues/detail?id=5800](https://bugs.chromium.org/p/v8/issues/detail?id=5800)  
Regress: [mjsunit/regress/wasm/regress-5800.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-5800.js)  
```javascript
load("test/mjsunit/wasm/wasm-constants.js");
load("test/mjsunit/wasm/wasm-module-builder.js");

(function AddTest() {
  let builder = new WasmModuleBuilder();

  builder.addFunction("main", kSig_i_v)
    .addBody([
      kExprBlock, kWasmStmt,
        kExprI64Const, 0,
        
        
        
        
        kExprI64Const, 0x80, 0x80, 0x80, 0x80, 0x10,
        kExprI64Add,
        kExprI64Eqz,
        kExprBrIf, 0,
        kExprI32Const, 0,
        kExprReturn,
      kExprEnd,
      kExprI32Const, 0
    ])
    .exportFunc();
  let module = builder.instantiate();
  assertEquals(0, module.exports.main());
})();

(function SubTest() {
  let builder = new WasmModuleBuilder();

  builder.addFunction("main", kSig_i_v)
    .addBody([
      kExprBlock, kWasmStmt,
        kExprI64Const, 0,
        
        
        
        
        kExprI64Const, 0x80, 0x80, 0x80, 0x80, 0x10,
        kExprI64Sub,
        kExprI64Eqz,
        kExprBrIf, 0,
        kExprI32Const, 0,
        kExprReturn,
      kExprEnd,
      kExprI32Const, 0
    ])
    .exportFunc();
  let module = builder.instantiate();
  assertEquals(0, module.exports.main());
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/037200e^!)  
[src/compiler/ia32/code-generator-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ia32/code-generator-ia32.cc?cl=037200e)  
[test/cctest/wasm/test-run-wasm-64.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/wasm/test-run-wasm-64.cc?cl=037200e)  
[test/mjsunit/regress/wasm/regression-5800.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regression-5800.js?cl=037200e)  
  
---   

## **v8 issue:5845**  
   
**[Issue: Incorrect "Invalid quantifier" error in regexp parser](https://crbug.com/v8/5845)**  
**[Commit: [regexp] Implement regexp groups as wrapper.](https://chromium.googlesource.com/v8/v8/+/92acec5)**  
  
Date(Commit): Wed Jan 18 08:14:59 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2636883002](https://codereview.chromium.org/2636883002)  
Regress: [mjsunit/regress/regress-5845.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5845.js)  
```javascript
assertDoesNotThrow('/(?:(?=(foo)))?/u.exec("foo")');
assertThrows('/(?=(foo))?/u.exec("foo")');  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/92acec5^!)  
[src/regexp/regexp-ast.cc](https://cs.chromium.org/chromium/src/v8/src/regexp/regexp-ast.cc?cl=92acec5)  
[src/regexp/regexp-ast.h](https://cs.chromium.org/chromium/src/v8/src/regexp/regexp-ast.h?cl=92acec5)  
[src/regexp/regexp-parser.cc](https://cs.chromium.org/chromium/src/v8/src/regexp/regexp-parser.cc?cl=92acec5)  
[test/cctest/test-regexp.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-regexp.cc?cl=92acec5)  
[test/mjsunit/regress/regress-5845.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5845.js?cl=92acec5)  
  
---   

## **v8 issue:5836**  
   
**[Issue: String.prototype.anchor and similar cause side effects](https://crbug.com/v8/5836)**  
**[Commit: String.prototype.anchor and others should not cause side effects.](https://chromium.googlesource.com/v8/v8/+/865b5e5)**  
  
Date(Commit): Fri Jan 13 08:38:23 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2628963005](https://codereview.chromium.org/2628963005)  
Regress: [mjsunit/regress/regress-5836.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5836.js)  
```javascript
var previous = RegExp.lastMatch;
'hello world'.anchor('"hi"');
assertEquals(previous, RegExp.lastMatch);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/865b5e5^!)  
[src/js/string.js](https://cs.chromium.org/chromium/src/v8/src/js/string.js?cl=865b5e5)  
[test/mjsunit/regress/regress-5836.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5836.js?cl=865b5e5)  
  
---   

## **v8 issue:5669**  
   
**[Issue: KeyedStoreGeneric does not check for writable array length](https://crbug.com/v8/5669)**  
**[Commit: Fix: KeyedStoreGeneric must check for writable array length](https://chromium.googlesource.com/v8/v8/+/93a357c)**  
  
Date(Commit): Wed Jan 11 11:37:44 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2610343002](https://codereview.chromium.org/2610343002)  
Regress: [mjsunit/regress/regress-5669.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5669.js)  
```javascript
function f(a, i, v) { a[i] = v; }
f("make it generic", 0, 0);

var a = new Array();
Object.defineProperty(a, "length", {value: 3, writable: false});
print(JSON.stringify(Object.getOwnPropertyDescriptor(a, "length")));
assertEquals(3, a.length);
f(a, 3, 3);
assertFalse(Object.getOwnPropertyDescriptor(a, "length").writable);
assertEquals(3, a.length);

var b = new Array();
b.length = 3;
Object.freeze(b);
assertEquals(3, b.length);
f(b, 3, 3);
assertEquals(3, b.length);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/93a357c^!)  
[src/builtins/builtins-array.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-array.cc?cl=93a357c)  
[src/code-stub-assembler.h](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.h?cl=93a357c)  
[src/ic/keyed-store-generic.cc](https://cs.chromium.org/chromium/src/v8/src/ic/keyed-store-generic.cc?cl=93a357c)  
[test/mjsunit/regress/regress-5669.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5669.js?cl=93a357c)  
  
---   

## **v8 issue:4962**  
   
**[Issue: Illegal access when calling Intl constructor with proxy as this-value](https://crbug.com/v8/4962)**  
**[Commit: [intl] Remove redundant type checking system](https://chromium.googlesource.com/v8/v8/+/aa8a2d2)**  
  
Date(Commit): Sat Jan 07 02:54:48 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2600913002](https://codereview.chromium.org/2600913002)  
Regress: [mjsunit/regress/regress-4962.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4962.js)  
```javascript
if (this.Intl) {
  assertInstanceof(Intl.NumberFormat.call(new Proxy({},{})), Intl.NumberFormat);
  assertThrows(() =>
               Intl.DateTimeFormat.prototype.formatToParts.call(
                   new Proxy({}, {})),
               TypeError);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/aa8a2d2^!)  
[src/i18n.cc](https://cs.chromium.org/chromium/src/v8/src/i18n.cc?cl=aa8a2d2)  
[src/js/i18n.js](https://cs.chromium.org/chromium/src/v8/src/js/i18n.js?cl=aa8a2d2)  
[src/runtime/runtime-i18n.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-i18n.cc?cl=aa8a2d2)  
[test/intl/bad-target.js](https://cs.chromium.org/chromium/src/v8/test/intl/bad-target.js?cl=aa8a2d2)  
[test/mjsunit/regress/regress-4962.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4962.js?cl=aa8a2d2)  
[test/mjsunit/regress/regress-677055.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-677055.js?cl=aa8a2d2)  
  
---   

## **v8 issue:5802**  
   
**[Issue: Crankshaft doesn't handle abstract equality correctly for receivers](https://crbug.com/v8/5802)**  
**[Commit: [crankshaft] Fix abstract equality for receivers.](https://chromium.googlesource.com/v8/v8/+/0957241)**  
  
Date(Commit): Thu Jan 05 09:26:30 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2612213002](https://codereview.chromium.org/2612213002)  
Regress: [mjsunit/regress/regress-5802.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5802.js)  
```javascript
(function() {
  function eq(a, b) { return a == b; }

  var o = { [Symbol.toPrimitive]: () => "o" };

  assertTrue(eq(o, o));
  assertTrue(eq(o, o));
  %OptimizeFunctionOnNextCall(eq);
  assertTrue(eq(o, o));
  assertTrue(eq("o", o));
  assertTrue(eq(o, "o"));
  %OptimizeFunctionOnNextCall(eq);
  assertTrue(eq(o, o));
  assertTrue(eq("o", o));
  assertTrue(eq(o, "o"));
  assertOptimized(eq);
})();

(function() {
  function ne(a, b) { return a != b; }

  var o = { [Symbol.toPrimitive]: () => "o" };

  assertFalse(ne(o, o));
  assertFalse(ne(o, o));
  %OptimizeFunctionOnNextCall(ne);
  assertFalse(ne(o, o));
  assertFalse(ne("o", o));
  assertFalse(ne(o, "o"));
  %OptimizeFunctionOnNextCall(ne);
  assertFalse(ne(o, o));
  assertFalse(ne("o", o));
  assertFalse(ne(o, "o"));
  assertOptimized(ne);
})();

(function() {
  function eq(a, b) { return a == b; }

  var a = {};
  var b = {b};
  var u = %GetUndetectable();

  assertTrue(eq(a, a));
  assertTrue(eq(b, b));
  assertFalse(eq(a, b));
  assertFalse(eq(b, a));
  assertTrue(eq(a, a));
  assertTrue(eq(b, b));
  assertFalse(eq(a, b));
  assertFalse(eq(b, a));
  %OptimizeFunctionOnNextCall(eq);
  assertTrue(eq(a, a));
  assertTrue(eq(b, b));
  assertFalse(eq(a, b));
  assertFalse(eq(b, a));
  assertTrue(eq(null, u));
  assertTrue(eq(undefined, u));
  assertTrue(eq(u, null));
  assertTrue(eq(u, undefined));
  %OptimizeFunctionOnNextCall(eq);
  assertTrue(eq(a, a));
  assertTrue(eq(b, b));
  assertFalse(eq(a, b));
  assertFalse(eq(b, a));
  assertTrue(eq(null, u));
  assertTrue(eq(undefined, u));
  assertTrue(eq(u, null));
  assertTrue(eq(u, undefined));
  assertOptimized(eq);
})();

(function() {
  function ne(a, b) { return a != b; }

  var a = {};
  var b = {b};
  var u = %GetUndetectable();

  assertFalse(ne(a, a));
  assertFalse(ne(b, b));
  assertTrue(ne(a, b));
  assertTrue(ne(b, a));
  assertFalse(ne(a, a));
  assertFalse(ne(b, b));
  assertTrue(ne(a, b));
  assertTrue(ne(b, a));
  %OptimizeFunctionOnNextCall(ne);
  assertFalse(ne(a, a));
  assertFalse(ne(b, b));
  assertTrue(ne(a, b));
  assertTrue(ne(b, a));
  assertFalse(ne(null, u));
  assertFalse(ne(undefined, u));
  assertFalse(ne(u, null));
  assertFalse(ne(u, undefined));
  %OptimizeFunctionOnNextCall(ne);
  assertFalse(ne(a, a));
  assertFalse(ne(b, b));
  assertTrue(ne(a, b));
  assertTrue(ne(b, a));
  assertFalse(ne(null, u));
  assertFalse(ne(undefined, u));
  assertFalse(ne(u, null));
  assertFalse(ne(u, undefined));
  assertOptimized(ne);
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0957241^!)  
[src/crankshaft/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.cc?cl=0957241)  
[test/mjsunit/regress/regress-5802.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5802.js?cl=0957241)  
  
---   

## **v8 issue:5790**  
   
**[Issue: Crankshaft disables optimization for uninitialized arguments access](https://crbug.com/v8/5790)**  
**[Commit: [crankshaft] Don't bailout on uninitialized access to arguments object.](https://chromium.googlesource.com/v8/v8/+/380a020)**  
  
Date(Commit): Mon Jan 02 06:52:04 2017  
Type: Bug  
Code Review: [https://codereview.chromium.org/2607303002](https://codereview.chromium.org/2607303002)  
Regress: [mjsunit/regress/regress-5790.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5790.js)  
```javascript
function foo(a) {
  "use strict";
  if (a) return arguments[1];
}

foo(false);
foo(false);
%OptimizeFunctionOnNextCall(foo);
foo(true, 1);
foo(true, 1);
%OptimizeFunctionOnNextCall(foo);
foo(false);
foo(true, 1);
assertOptimized(foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/380a020^!)  
[src/crankshaft/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.cc?cl=380a020)  
[test/mjsunit/regress/regress-5790.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5790.js?cl=380a020)  
  
---   

## **v8 issue:5783**  
   
**[Issue: Some runtime functions erroneously use SealHandleScope](https://crbug.com/v8/5783)**  
**[Commit: Fix SealHandleScope usage in runtime-classes.cc](https://chromium.googlesource.com/v8/v8/+/2454737)**  
  
Date(Commit): Tue Dec 27 18:55:16 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2603783003](https://codereview.chromium.org/2603783003)  
Regress: [mjsunit/regress/regress-5783.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5783.js)  
```javascript
class C {}
class D extends C { constructor(...args) { super(...args, 75) } }
D.__proto__ = null;
assertThrows(() => new D(), TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2454737^!)  
[src/runtime/runtime-classes.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-classes.cc?cl=2454737)  
[test/mjsunit/regress/regress-5783.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5783.js?cl=2454737)  
  
---   

## **v8 issue:5780**  
   
**[Issue: Object.prototype.toString doesn't look up @@toStringTag in some cases](https://crbug.com/v8/5780)**  
**[Commit: Object.prototype.toString must reflect mutated @@toStringTag values for primitives](https://chromium.googlesource.com/v8/v8/+/23019c4)**  
  
Date(Commit): Tue Dec 27 17:57:38 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2597323002](https://codereview.chromium.org/2597323002)  
Regress: [mjsunit/regress/regress-5780.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5780.js)  
```javascript
function testMutatedPrimitiveToStringTag(primitive) {
  Object.defineProperty(
    primitive.__proto__, Symbol.toStringTag,
    {value: "bogus", configurable: true, writable: false, enumerable: false});
  assertEquals("[object bogus]", Object.prototype.toString.call(primitive));
}

testMutatedPrimitiveToStringTag('');
testMutatedPrimitiveToStringTag(true);
testMutatedPrimitiveToStringTag(42);
testMutatedPrimitiveToStringTag(42.42);
testMutatedPrimitiveToStringTag(Symbol());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/23019c4^!)  
[src/builtins/builtins-object.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-object.cc?cl=23019c4)  
[test/mjsunit/regress/regress-5780.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5780.js?cl=23019c4)  
  
---   

## **v8 issue:4870**  
   
**[Issue: Runtime error accessible from Intl code](https://crbug.com/v8/4870)**  
**[Commit: [intl] Add new semantics + compat fallback to Intl constructor](https://chromium.googlesource.com/v8/v8/+/b0a09d7)**  
  
Date(Commit): Fri Dec 23 14:32:16 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2582993002](https://codereview.chromium.org/2582993002)  
Regress: [mjsunit/regress/regress-4870.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4870.js)  
```javascript
if (this.Intl) {
  assertThrows(() => Object.getOwnPropertyDescriptor(Intl.Collator.prototype,
                                                     'compare')
                     .get.call(new Intl.DateTimeFormat())('a', 'b'),
               TypeError)
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b0a09d7^!)  
[src/heap-symbols.h](https://cs.chromium.org/chromium/src/v8/src/heap-symbols.h?cl=b0a09d7)  
[src/js/i18n.js](https://cs.chromium.org/chromium/src/v8/src/js/i18n.js?cl=b0a09d7)  
[src/messages.h](https://cs.chromium.org/chromium/src/v8/src/messages.h?cl=b0a09d7)  
[test/cctest/interpreter/bytecode_expectations/ForOf.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/ForOf.golden?cl=b0a09d7)  
[test/cctest/interpreter/bytecode_expectations/Generators.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/Generators.golden?cl=b0a09d7)  
[test/intl/assert.js](https://cs.chromium.org/chromium/src/v8/test/intl/assert.js?cl=b0a09d7)  
[test/intl/general/constructor.js](https://cs.chromium.org/chromium/src/v8/test/intl/general/constructor.js?cl=b0a09d7)  
[test/mjsunit/regress/regress-4870.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4870.js?cl=b0a09d7)  
[test/test262/test262.status](https://cs.chromium.org/chromium/src/v8/test/test262/test262.status?cl=b0a09d7)  
  
---   

## **v8 issue:5756**  
   
**[Issue: Illegal instruction with testcase](https://crbug.com/v8/5756)**  
**[Commit: [turbofan] Optimize store to typed arrays only if the value is plain primitive.](https://chromium.googlesource.com/v8/v8/+/e92118b)**  
  
Date(Commit): Fri Dec 23 14:29:00 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2596843002](https://codereview.chromium.org/2596843002)  
Regress: [mjsunit/compiler/regress-v8-5756.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-v8-5756.js)  
```javascript
z = {};
t = new Uint8Array(3);
var m = 0;
var x = 10;

function k() {
  ++m;
  if (m % 10 != 9) {
    if (m > 20) 
      x = '1';  
                
                
     t[2] = z; 
              
  }
}

function f1() {
  z.toString = k;
  z.toString();
  z.toString();
  %OptimizeFunctionOnNextCall(k);
  z.toString();
}
f1();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e92118b^!)  
[src/compiler/js-typed-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-typed-lowering.cc?cl=e92118b)  
[test/mjsunit/compiler/regress-v8-5756.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-v8-5756.js?cl=e92118b)  
[test/unittests/compiler/js-typed-lowering-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/compiler/js-typed-lowering-unittest.cc?cl=e92118b)  
  
---   

## **v8 issue:5772**  
   
**[Issue: Check failed: !value->IsTheHole(isolate).](https://crbug.com/v8/5772)**  
**[Commit: [ic] Always use generic ICs for growing element stores on arguments](https://chromium.googlesource.com/v8/v8/+/f739730)**  
  
Date(Commit): Thu Dec 22 14:10:51 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2597013004](https://codereview.chromium.org/2597013004)  
Regress: [mjsunit/regress/regress-5772.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5772.js)  
```javascript
(function sloppyPackedArguments() {
  function f(a) {
    for (var i = 0; i < 2; i++) {
      a[i] = 0;
    }
  }
  var boom;
  function g() {
    var a = arguments;
    f(a);
    boom = a[5];
    assertEquals(undefined, boom);
  }

  f([]);
  g(1);
})();

(function strictPackedArguments() {
  "use strict";
  function f(a) {
    for (var i = 0; i < 2; i++) {
      a[i] = 0;
    }
  }
  var boom;
  function g() {
    var a = arguments;
    f(a);
    boom = a[5];
    assertEquals(undefined, boom);
  }

  f([]);
  g(1);
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f739730^!)  
[src/ic/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic/ic.cc?cl=f739730)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=f739730)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=f739730)  
[test/mjsunit/regress/regress-5772.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5772.js?cl=f739730)  
  
---   

## **v8 issue:5767**  
   
**[Issue: No Permission](https://crbug.com/v8/5767)**  
**[Commit: Fix DoubleToRadixCString wrt Number.MIN_VALUE.](https://chromium.googlesource.com/v8/v8/+/546152e)**  
  
Date(Commit): Thu Dec 22 06:57:01 2016  
Type: None  
Code Review: [https://codereview.chromium.org/2599693002](https://codereview.chromium.org/2599693002)  
Regress: [mjsunit/regress/regress-5767.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5767.js)  
```javascript
assertEquals("0", Number.MIN_VALUE.toString(35));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/546152e^!)  
[src/conversions.cc](https://cs.chromium.org/chromium/src/v8/src/conversions.cc?cl=546152e)  
[test/mjsunit/regress/regress-5767.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5767.js?cl=546152e)  
  
---   

## **v8 issue:5295**  
   
**[Issue: Possible reference bug](https://crbug.com/v8/5295)**  
**[Commit: Use a different map to distinguish eval contexts](https://chromium.googlesource.com/v8/v8/+/53fdf9d)**  
  
Date(Commit): Tue Dec 20 16:23:19 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2435023002](https://codereview.chromium.org/2435023002)  
Regress: [mjsunit/regress/regress-5295-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5295-2.js), [mjsunit/regress/regress-5295.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5295.js)  
```javascript
source = "var x;";
for (var i = 0; i < 11; i++) {
  source += "  let a_" + i + " = 0;\n";
}
source += "  (function () {\n"
for (var i = 0; i < 11; i++) {
  source += "a_" + i + "++;\n";
}
source += "})();\n"

eval(source);
assertEquals(undefined, x);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/53fdf9d^!)  
[src/ast/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/ast/scopes.cc?cl=53fdf9d)  
[src/code-factory.cc](https://cs.chromium.org/chromium/src/v8/src/code-factory.cc?cl=53fdf9d)  
[src/code-factory.h](https://cs.chromium.org/chromium/src/v8/src/code-factory.h?cl=53fdf9d)  
[src/code-stubs.cc](https://cs.chromium.org/chromium/src/v8/src/code-stubs.cc?cl=53fdf9d)  
[src/code-stubs.h](https://cs.chromium.org/chromium/src/v8/src/code-stubs.h?cl=53fdf9d)  
[src/compiler/ast-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.cc?cl=53fdf9d)  
[src/compiler/bytecode-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/bytecode-graph-builder.cc?cl=53fdf9d)  
[src/compiler/js-create-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-create-lowering.cc?cl=53fdf9d)  
[src/compiler/js-generic-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-generic-lowering.cc?cl=53fdf9d)  
[src/compiler/js-operator.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-operator.cc?cl=53fdf9d)  
[src/compiler/js-operator.h](https://cs.chromium.org/chromium/src/v8/src/compiler/js-operator.h?cl=53fdf9d)  
[src/contexts-inl.h](https://cs.chromium.org/chromium/src/v8/src/contexts-inl.h?cl=53fdf9d)  
[src/contexts.cc](https://cs.chromium.org/chromium/src/v8/src/contexts.cc?cl=53fdf9d)  
[src/contexts.h](https://cs.chromium.org/chromium/src/v8/src/contexts.h?cl=53fdf9d)  
[src/crankshaft/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/arm/lithium-codegen-arm.cc?cl=53fdf9d)  
[src/crankshaft/arm64/lithium-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/arm64/lithium-codegen-arm64.cc?cl=53fdf9d)  
[src/crankshaft/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/ia32/lithium-codegen-ia32.cc?cl=53fdf9d)  
[src/crankshaft/mips/lithium-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/mips/lithium-codegen-mips.cc?cl=53fdf9d)  
[src/crankshaft/mips64/lithium-codegen-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/mips64/lithium-codegen-mips64.cc?cl=53fdf9d)  
[src/crankshaft/ppc/lithium-codegen-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/ppc/lithium-codegen-ppc.cc?cl=53fdf9d)  
[src/crankshaft/s390/lithium-codegen-s390.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/s390/lithium-codegen-s390.cc?cl=53fdf9d)  
[src/crankshaft/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/x64/lithium-codegen-x64.cc?cl=53fdf9d)  
[src/crankshaft/x87/lithium-codegen-x87.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/x87/lithium-codegen-x87.cc?cl=53fdf9d)  
[src/debug/debug-scopes.cc](https://cs.chromium.org/chromium/src/v8/src/debug/debug-scopes.cc?cl=53fdf9d)  
[src/factory.cc](https://cs.chromium.org/chromium/src/v8/src/factory.cc?cl=53fdf9d)  
[src/factory.h](https://cs.chromium.org/chromium/src/v8/src/factory.h?cl=53fdf9d)  
[src/flag-definitions.h](https://cs.chromium.org/chromium/src/v8/src/flag-definitions.h?cl=53fdf9d)  
[src/full-codegen/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm/full-codegen-arm.cc?cl=53fdf9d)  
[src/full-codegen/arm64/full-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm64/full-codegen-arm64.cc?cl=53fdf9d)  
[src/full-codegen/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/ia32/full-codegen-ia32.cc?cl=53fdf9d)  
[src/full-codegen/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips/full-codegen-mips.cc?cl=53fdf9d)  
[src/full-codegen/mips64/full-codegen-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips64/full-codegen-mips64.cc?cl=53fdf9d)  
[src/full-codegen/ppc/full-codegen-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/ppc/full-codegen-ppc.cc?cl=53fdf9d)  
[src/full-codegen/s390/full-codegen-s390.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/s390/full-codegen-s390.cc?cl=53fdf9d)  
[src/full-codegen/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/x64/full-codegen-x64.cc?cl=53fdf9d)  
[src/full-codegen/x87/full-codegen-x87.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/x87/full-codegen-x87.cc?cl=53fdf9d)  
[src/heap/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap/heap.cc?cl=53fdf9d)  
[src/heap/heap.h](https://cs.chromium.org/chromium/src/v8/src/heap/heap.h?cl=53fdf9d)  
[src/interpreter/bytecode-array-builder.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/bytecode-array-builder.cc?cl=53fdf9d)  
[src/interpreter/bytecode-array-builder.h](https://cs.chromium.org/chromium/src/v8/src/interpreter/bytecode-array-builder.h?cl=53fdf9d)  
[src/interpreter/bytecode-generator.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/bytecode-generator.cc?cl=53fdf9d)  
[src/interpreter/bytecodes.h](https://cs.chromium.org/chromium/src/v8/src/interpreter/bytecodes.h?cl=53fdf9d)  
[src/interpreter/interpreter.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/interpreter.cc?cl=53fdf9d)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=53fdf9d)  
[src/runtime/runtime-scopes.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-scopes.cc?cl=53fdf9d)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=53fdf9d)  
[test/mjsunit/regress/regress-5295-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5295-2.js?cl=53fdf9d)  
[test/mjsunit/regress/regress-5295.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5295.js?cl=53fdf9d)  
[test/mjsunit/regress/regress-5736.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5736.js?cl=53fdf9d)  
[test/mjsunit/regress/regress-648719.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-648719.js?cl=53fdf9d)  
[test/unittests/compiler/js-create-lowering-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/compiler/js-create-lowering-unittest.cc?cl=53fdf9d)  
[test/unittests/interpreter/bytecode-array-builder-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/interpreter/bytecode-array-builder-unittest.cc?cl=53fdf9d)  
  
---   

## **v8 issue:5763**  
   
**[Issue: No Permission](https://crbug.com/v8/5763)**  
**[Commit: [es6] Fix the %TypedArray% constructor.](https://chromium.googlesource.com/v8/v8/+/3d9c77d)**  
  
Date(Commit): Tue Dec 20 16:14:08 2016  
Type: None  
Code Review: [https://codereview.chromium.org/2587413002](https://codereview.chromium.org/2587413002)  
Regress: [mjsunit/regress/regress-5763-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5763-1.js), [mjsunit/regress/regress-5763-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5763-2.js)  
```javascript
try {
  var TA = Object.getPrototypeOf(Int8Array);
  var obj = Reflect.construct(TA, [], Int8Array);
  Int8Array.prototype.values.call(obj).next();
} catch (e) {}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3d9c77d^!)  
[src/js/typedarray.js](https://cs.chromium.org/chromium/src/v8/src/js/typedarray.js?cl=3d9c77d)  
[test/mjsunit/regress/regress-5763-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5763-1.js?cl=3d9c77d)  
[test/mjsunit/regress/regress-5763-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5763-2.js?cl=3d9c77d)  
  
---   

## **v8 issue:5749**  
   
**[Issue: Check failed: call->arguments()->length() == 1](https://crbug.com/v8/5749)**  
**[Commit: [crankshaft] Fix IsClassOfTest helper method](https://chromium.googlesource.com/v8/v8/+/d449322)**  
  
Date(Commit): Mon Dec 19 10:45:48 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2586933002](https://codereview.chromium.org/2586933002)  
Regress: [mjsunit/regress/regress-5749.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5749.js)  
```javascript
function f(x) {
    (x ** 1) === '';
}
f();
f();
f();
%OptimizeFunctionOnNextCall(f);
f();

function g(x) {
    '' === (x ** 1);
}
g();
g();
g();
%OptimizeFunctionOnNextCall(g);
g();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d449322^!)  
[src/ast/ast.cc](https://cs.chromium.org/chromium/src/v8/src/ast/ast.cc?cl=d449322)  
[src/ast/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast/ast.h?cl=d449322)  
[src/ast/prettyprinter.cc](https://cs.chromium.org/chromium/src/v8/src/ast/prettyprinter.cc?cl=d449322)  
[src/crankshaft/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.cc?cl=d449322)  
[test/mjsunit/regress/regress-5749.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5749.js?cl=d449322)  
  
---   

## **v8 issue:5736**  
   
**[Issue: eval is broken in several ways](https://crbug.com/v8/5736)**  
**[Commit: Disable lazy parsing inside eval (see bug).](https://chromium.googlesource.com/v8/v8/+/ed080e6)**  
  
Date(Commit): Thu Dec 15 14:26:58 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2435023002/](https://codereview.chromium.org/2435023002/)  
Regress: [mjsunit/regress/regress-5736.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5736.js)  
```javascript
var my_global = 0;




eval(`let foo = 1;
      let maybe_lazy = function() { foo = 2; }
      maybe_lazy();
      my_global = foo;`);
assertEquals(2, my_global);

(function TestVarInStrictEval() {
  "use strict";
  eval(`var foo = 3;
        let maybe_lazy = function() { foo = 4; }
        maybe_lazy();
        my_global = foo;`);
  assertEquals(4, my_global);
})();

eval("let foo = 1; function lazy() { foo = 2; } lazy(); my_global = foo;");
assertEquals(my_global, 2);


eval(`{ let foo = 5;
        function not_lazy() { foo = 6; }
        not_lazy();
        my_global = foo;
      }`);
assertEquals(my_global, 6);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ed080e6^!)  
[src/ast/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/ast/scopes.cc?cl=ed080e6)  
[test/mjsunit/bugs/bug-2728.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-2728.js?cl=ed080e6)  
[test/mjsunit/regress/regress-5736.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5736.js?cl=ed080e6)  
  
---   

## **v8 issue:5697**  
   
**[Issue: Deopt loop when LoadIC on null/undefined](https://crbug.com/v8/5697)**  
**[Commit: [ic] Ensure state of load/store ICs always progresses.](https://chromium.googlesource.com/v8/v8/+/e7a51ff)**  
  
Date(Commit): Fri Dec 02 15:07:31 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2548753003](https://codereview.chromium.org/2548753003)  
Regress: [mjsunit/regress/regress-v8-5697.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-5697.js)  
```javascript
function load(o) { return o.x; }

for (var x = 0; x < 1000; ++x) {
  load({x});
  load({x});
  %OptimizeFunctionOnNextCall(load);
  try { load(); } catch (e) { }
}

assertOptimized(load);


function store(o) { o.x = -1; }

for (var x = 0; x < 1000; ++x) {
  store({x});
  store({x});
  %OptimizeFunctionOnNextCall(store);
  try { store(); } catch (e) { }
}

assertOptimized(store);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e7a51ff^!)  
[src/counters.h](https://cs.chromium.org/chromium/src/v8/src/counters.h?cl=e7a51ff)  
[src/ic/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic/ic.cc?cl=e7a51ff)  
[test/mjsunit/regress/regress-v8-5697.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-5697.js?cl=e7a51ff)  
  
---   

## **v8 issue:5664**  
   
**[Issue: mjsunit/es6/destructuring fails with --nolazy](https://crbug.com/v8/5664)**  
**[Commit: [scopes] Propagate inner-scope-calls-eval to make sure we context allocate in inserted scopes](https://chromium.googlesource.com/v8/v8/+/73a2d63)**  
  
Date(Commit): Tue Nov 29 12:01:34 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2536153002](https://codereview.chromium.org/2536153002)  
Regress: [mjsunit/regress/regress-5664.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5664.js)  
```javascript
var f = (x, y=()=>eval("x")) => y();
assertEquals(100, f(100));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/73a2d63^!)  
[src/ast/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/ast/scopes.cc?cl=73a2d63)  
[src/ast/scopes.h](https://cs.chromium.org/chromium/src/v8/src/ast/scopes.h?cl=73a2d63)  
[test/mjsunit/regress/regress-5664.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5664.js?cl=73a2d63)  
  
---   

## **v8 issue:5648**  
   
**[Issue: Segmentation fault in for..of/generators](https://crbug.com/v8/5648)**  
**[Commit: [parser] Fix scopes in rewriting of for-of and destructuring assignments.](https://chromium.googlesource.com/v8/v8/+/f385268)**  
  
Date(Commit): Wed Nov 23 13:25:35 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2520883002](https://codereview.chromium.org/2520883002)  
Regress: [mjsunit/regress/regress-5648.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5648.js)  
```javascript
var iter = {}
iter[Symbol.iterator] = () => ({
  next: () => ({}),
  return: () => {throw 666}
});


function* foo() {
  for (let x of iter) {throw 42}
}
assertThrowsEquals(() => foo().next(), 42);


function* bar() {
  let x;
  { let gaga = () => {x};
    [[x]] = iter;
  }
}
assertThrows(() => bar().next(), TypeError);


function baz() {
  let x;
  { let gaga = () => {x};
    let gugu = () => {gaga};
    [[x]] = iter;
  }
}
assertThrows(baz, TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f385268^!)  
[src/ast/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/ast/scopes.cc?cl=f385268)  
[src/ast/scopes.h](https://cs.chromium.org/chromium/src/v8/src/ast/scopes.h?cl=f385268)  
[src/parsing/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.cc?cl=f385268)  
[src/parsing/parser.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.h?cl=f385268)  
[src/parsing/pattern-rewriter.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/pattern-rewriter.cc?cl=f385268)  
[test/cctest/interpreter/bytecode_expectations/Generators.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/Generators.golden?cl=f385268)  
[test/mjsunit/regress/regress-5648.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5648.js?cl=f385268)  
  
---   

## **v8 issue:5598**  
   
**[Issue: V8 crashes with --turbo-escape on string destructuring](https://crbug.com/v8/5598)**  
**[Commit: [builtins] fix Allocate() call in ReduceStringIterator()](https://chromium.googlesource.com/v8/v8/+/cbadac5)**  
  
Date(Commit): Fri Nov 04 05:45:15 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2478643002](https://codereview.chromium.org/2478643002)  
Regress: [mjsunit/es6/regress/regress-5598.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-5598.js)  
```javascript
function fn(a) {
  var [b] = a;
  return b;
}

fn('a');
fn('a');
%OptimizeFunctionOnNextCall(fn);

fn('a');  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cbadac5^!)  
[src/compiler/js-builtin-reducer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-builtin-reducer.cc?cl=cbadac5)  
[test/mjsunit/es6/regress/regress-5598.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-5598.js?cl=cbadac5)  
  
---   

## **v8 issue:5573**  
   
**[Issue: Representation check in simplified-lowering fails](https://crbug.com/v8/5573)**  
**[Commit: [turbofan] Relax a too-strict dcheck.](https://chromium.googlesource.com/v8/v8/+/21d55e2)**  
  
Date(Commit): Thu Oct 27 12:33:19 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2458623002](https://codereview.chromium.org/2458623002)  
Regress: [mjsunit/compiler/regress-v8-5573.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-v8-5573.js)  
```javascript
var global = true;
global = false;

function f() {
  return !global;
}

%OptimizeFunctionOnNextCall(f);
assertTrue(f());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/21d55e2^!)  
[src/compiler/simplified-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-lowering.cc?cl=21d55e2)  
[test/mjsunit/compiler/regress-v8-5573.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-v8-5573.js?cl=21d55e2)  
  
---   

## **v8 issue:5566**  
   
**[Issue: Some RegExp static properties are mistakenly non-configurable](https://crbug.com/v8/5566)**  
**[Commit: [regexp] Set static property attributes as in spec proposal](https://chromium.googlesource.com/v8/v8/+/88c5a30)**  
  
Date(Commit): Thu Oct 27 08:26:05 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2452913002](https://codereview.chromium.org/2452913002)  
Regress: [mjsunit/regress/regress-5566.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5566.js)  
```javascript
const props = [ "input", "$_"
              , "lastMatch", "$&"
              , "lastParen", "$+"
              , "leftContext", "$`"
              , "rightContext", "$'"
              , "$1", "$2", "$3", "$4", "$5", "$6", "$7", "$8", "$9"
              ];

for (let i = 0; i < props.length; i++) {
  const prop = props[i];
  const desc = Object.getOwnPropertyDescriptor(RegExp, prop);
  assertTrue(desc.configurable, prop);
  assertFalse(desc.enumerable, prop);
  assertTrue(desc.get !== undefined, prop);

  
  
  
  assertTrue(desc.set !== undefined, prop);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/88c5a30^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=88c5a30)  
[test/mjsunit/regress/regress-5566.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5566.js?cl=88c5a30)  
  
---   

## **v8 issue:5434**  
   
**[Issue: [regexp] Additional 'exec' property access violates spec](https://crbug.com/v8/5434)**  
**[Commit: [regexp] Add regression test for v8:5434](https://chromium.googlesource.com/v8/v8/+/f87d73c)**  
  
Date(Commit): Mon Oct 24 10:39:01 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2440413002](https://codereview.chromium.org/2440413002)  
Regress: [mjsunit/regress/regress-5434.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5434.js)  
```javascript
var lastIndexHasBeenSet = false;
var countOfExecGets = 0;




class ObservableExecRegExp extends RegExp {
  constructor(pattern, flags) {
    super(pattern, flags);
    this.lastIndex = 42;

    const re = this;
    Object.defineProperty(this, "exec", {
      get: function() {
        
        
        assertTrue(re.lastIndex != 42);
        countOfExecGets++;
        return RegExp.prototype.exec;
      }
    });
  }
}



var re = new ObservableExecRegExp(/x/);

assertEquals(42, re.lastIndex);
assertEquals(0, countOfExecGets);

var result = "axbxc".split(re);

assertEquals(5, countOfExecGets);
assertEquals(["a", "b", "c"], result);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f87d73c^!)  
[test/mjsunit/regress/regress-5434.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5434.js?cl=f87d73c)  
  
---   

## **v8 issue:5531**  
   
**[Issue: v8_wasm_code_fuzzer: Check failed: val <= std::numeric_limits<N>::max() (1238476 vs. 65535).](https://crbug.com/v8/5531)**  
**[Commit: [turbofan] Use uint32 to store the number of control outputs instead of uint16.](https://chromium.googlesource.com/v8/v8/+/2f3ca96)**  
  
Date(Commit): Wed Oct 19 07:25:51 2016  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/2425983002](https://chromiumcodereview.appspot.com/2425983002)  
Regress: [mjsunit/regress/wasm/regress-5531.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/wasm/regress-5531.js)  
```javascript
load("test/mjsunit/wasm/wasm-constants.js");
load("test/mjsunit/wasm/wasm-module-builder.js");

(function() {
  var builder = new WasmModuleBuilder();
  builder.addMemory(1, 1, false);
  builder.addFunction("foo", kSig_i_v)
    .addBody([
              kExprI32Const, 0x00,
      kExprI32Const, 0x0b,
      kExprI32Const, 0x0f,
      kExprBrTable, 0xcb, 0xcb, 0xcb, 0x00, 0x00, 0xcb, 0x00 
              ])
              .exportFunc();
  assertThrows(function() { builder.instantiate(); });
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2f3ca96^!)  
[src/compiler/operator.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/operator.cc?cl=2f3ca96)  
[src/compiler/operator.h](https://cs.chromium.org/chromium/src/v8/src/compiler/operator.h?cl=2f3ca96)  
[test/mjsunit/regress/wasm/regression-5531.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/wasm/regression-5531.js?cl=2f3ca96)  
  
---   

## **v8 issue:5538**  
   
**[Issue: Invalid ToInt32 truncation for inlined Number.parseInt code](https://crbug.com/v8/5538)**  
**[Commit: [turbofan] Fix invalid Number.parseInt inlining.](https://chromium.googlesource.com/v8/v8/+/3a7eac1)**  
  
Date(Commit): Wed Oct 19 05:17:52 2016  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/2432143002](https://chromiumcodereview.appspot.com/2432143002)  
Regress: [mjsunit/compiler/regress-5538.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-5538.js)  
```javascript
(function() {
  function foo(x) {
    x = x | 0;
    return Number.parseInt(x + 1);
  }

  assertEquals(1, foo(0));
  assertEquals(2, foo(1));
  %OptimizeFunctionOnNextCall(foo);
  assertEquals(Math.pow(2, 31), foo(Math.pow(2, 31) - 1));
})();

(function() {
  function foo(x) {
    x = x | 0;
    return Number.parseInt(x + 1, 0);
  }

  assertEquals(1, foo(0));
  assertEquals(2, foo(1));
  %OptimizeFunctionOnNextCall(foo);
  assertEquals(Math.pow(2, 31), foo(Math.pow(2, 31) - 1));
})();

(function() {
  function foo(x) {
    x = x | 0;
    return Number.parseInt(x + 1, 10);
  }

  assertEquals(1, foo(0));
  assertEquals(2, foo(1));
  %OptimizeFunctionOnNextCall(foo);
  assertEquals(Math.pow(2, 31), foo(Math.pow(2, 31) - 1));
})();

(function() {
  function foo(x) {
    x = x | 0;
    return Number.parseInt(x + 1, undefined);
  }

  assertEquals(1, foo(0));
  assertEquals(2, foo(1));
  %OptimizeFunctionOnNextCall(foo);
  assertEquals(Math.pow(2, 31), foo(Math.pow(2, 31) - 1));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3a7eac1^!)  
[src/compiler/js-builtin-reducer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-builtin-reducer.cc?cl=3a7eac1)  
[test/mjsunit/compiler/regress-5538.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-5538.js?cl=3a7eac1)  
[test/unittests/compiler/js-builtin-reducer-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/compiler/js-builtin-reducer-unittest.cc?cl=3a7eac1)  
  
---   

## **v8 issue:5476**  
   
**[Issue: internal deferred object leaks while subclassing Promise](https://crbug.com/v8/5476)**  
**[Commit: [promises] fix deferred object leak](https://chromium.googlesource.com/v8/v8/+/9d836ec)**  
  
Date(Commit): Thu Oct 06 18:29:35 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2399053003](https://codereview.chromium.org/2399053003)  
Regress: [mjsunit/regress/regress-5476.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5476.js)  
```javascript
'use strict'

class LeakyPromise extends Promise {
  constructor(executor) {
    super((resolve, reject) => { resolve();});
    this.resolve = function() {assertEquals(this, undefined); };
    this.reject = function() {assertEquals(this, undefined); };
    executor(this.resolve, this.reject);
  }
}

const p1 = new LeakyPromise((r) => r());
const p2 = new LeakyPromise((_, r) => r());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9d836ec^!)  
[src/js/promise.js](https://cs.chromium.org/chromium/src/v8/src/js/promise.js?cl=9d836ec)  
[test/mjsunit/regress/regress-5476.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5476.js?cl=9d836ec)  
  
---   

## **v8 issue:5454**  
   
**[Issue: No Permission](https://crbug.com/v8/5454)**  
**[Commit: Don't skip hole checks inside patterns in parameter lists](https://chromium.googlesource.com/v8/v8/+/3c39bac)**  
  
Date(Commit): Tue Oct 04 17:04:19 2016  
Type: None  
Code Review: [https://codereview.chromium.org/2390943002](https://codereview.chromium.org/2390943002)  
Regress: [mjsunit/regress/regress-5454.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5454.js)  
```javascript
assertThrows(function(...[b = !b]) { }, ReferenceError);
assertThrows(() => (function([b = !b]) { })([]), ReferenceError);
assertThrows(() => (function({b = !b}) { })({}), ReferenceError);

assertThrows((...[b = !b]) => { }, ReferenceError);
assertThrows(() => (([b = !b]) => { })([]), ReferenceError);
assertThrows(() => (({b = !b}) => { })({}), ReferenceError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3c39bac^!)  
[src/parsing/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.cc?cl=3c39bac)  
[test/mjsunit/regress/regress-5454.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5454.js?cl=3c39bac)  
  
---   

## **v8 issue:5440**  
   
**[Issue: One more string-related TF crash](https://crbug.com/v8/5440)**  
**[Commit: Allow empty first parts of ConsStrings](https://chromium.googlesource.com/v8/v8/+/da27e0c)**  
  
Date(Commit): Wed Sep 28 09:46:56 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2377983002](https://codereview.chromium.org/2377983002)  
Regress: [mjsunit/regress/regress-5440.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5440.js)  
```javascript
eval(" " + ("" + "try {;} catch (_) {}"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/da27e0c^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=da27e0c)  
[test/mjsunit/regress/regress-5440.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5440.js?cl=da27e0c)  
  
---   

## **v8 issue:5351**  
   
**[Issue: [regexp] Incorrect RegExp.prototype.split subclass implementation](https://crbug.com/v8/5351)**  
**[Commit: [regexp] Don't cache exec method in Regexp.proto[@@split]](https://chromium.googlesource.com/v8/v8/+/515994b)**  
  
Date(Commit): Tue Sep 27 14:02:33 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2370733003](https://codereview.chromium.org/2370733003)  
Regress: [mjsunit/regress/regress-5351.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5351.js)  
```javascript
var re = /[bc]/;
var str = "baba";

assertEquals(["", "a", "a"], str.split(re));


re.exec = (string) => RegExp.prototype.exec.call(re, string);
assertEquals(["", "a", "a"], str.split(re));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/515994b^!)  
[src/js/regexp.js](https://cs.chromium.org/chromium/src/v8/src/js/regexp.js?cl=515994b)  
[test/mjsunit/regress/regress-5351.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5351.js?cl=515994b)  
  
---   

## **v8 issue:5405**  
   
**[Issue: Unexpected meta-programming facilities: .promise and .new.target catchable by with-scope](https://crbug.com/v8/5405)**  
**[Commit: Remove synthetic unresolved variables from async/await desugaring](https://chromium.googlesource.com/v8/v8/+/bd07819)**  
  
Date(Commit): Tue Sep 20 21:31:32 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2359513002](https://codereview.chromium.org/2359513002)  
Regress: [mjsunit/regress/regress-5405.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5405.js)  
```javascript
let log = [];

(async function() {
  with ({get ['.promise']() { log.push('async') }}) {
    return 10;
  }
})();
%PerformMicrotaskCheckpoint();

(function() {
  with ({get ['.new.target']() { log.push('new.target') }}) {
    return new.target;
  }
})();

(function() {
  with ({get ['this']() { log.push('this') }}) {
    return this;
  }
})();

assertArrayEquals([], log);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/bd07819^!)  
[src/ast/ast-value-factory.h](https://cs.chromium.org/chromium/src/v8/src/ast/ast-value-factory.h?cl=bd07819)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=bd07819)  
[src/parsing/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.cc?cl=bd07819)  
[src/parsing/parser.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.h?cl=bd07819)  
[src/parsing/preparser.h](https://cs.chromium.org/chromium/src/v8/src/parsing/preparser.h?cl=bd07819)  
[test/mjsunit/regress/regress-5405.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5405.js?cl=bd07819)  
  
---   

## **v8 issue:5404**  
   
**[Issue: Crankshaft deoptimizes unconditionally on string add range overflow](https://crbug.com/v8/5404)**  
**[Commit: [crankshaft] Protect against deopt loops from string length overflows.](https://chromium.googlesource.com/v8/v8/+/cb19257)**  
  
Date(Commit): Mon Sep 19 21:01:30 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2348293002](https://codereview.chromium.org/2348293002)  
Regress: [mjsunit/regress/regress-5404.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5404.js)  
```javascript
function foo(a, b) {
  return a + "0123456789012";
}

foo("a");
foo("a");
%OptimizeFunctionOnNextCall(foo);
foo("a");

var a = "a".repeat(%StringMaxLength());
assertThrows(function() { foo(a); }, RangeError);

%OptimizeFunctionOnNextCall(foo);
assertThrows(function() { foo(a); }, RangeError);
assertOptimized(foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cb19257^!)  
[src/crankshaft/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.cc?cl=cb19257)  
[src/crankshaft/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.h?cl=cb19257)  
[src/factory.cc](https://cs.chromium.org/chromium/src/v8/src/factory.cc?cl=cb19257)  
[src/factory.h](https://cs.chromium.org/chromium/src/v8/src/factory.h?cl=cb19257)  
[src/heap/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap/heap.cc?cl=cb19257)  
[src/heap/heap.h](https://cs.chromium.org/chromium/src/v8/src/heap/heap.h?cl=cb19257)  
[src/isolate-inl.h](https://cs.chromium.org/chromium/src/v8/src/isolate-inl.h?cl=cb19257)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=cb19257)  
[src/isolate.h](https://cs.chromium.org/chromium/src/v8/src/isolate.h?cl=cb19257)  
[src/runtime/runtime-internal.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-internal.cc?cl=cb19257)  
[test/mjsunit/regress/regress-5404.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5404.js?cl=cb19257)  
  
---   

## **v8 issue:5357**  
   
**[Issue: Take into account input restrictions for feedback typing](https://crbug.com/v8/5357)**  
**[Commit: [turbofan] Revert "Avoid overflow checks on SpeculativeNumberAdd/Subtract/Multiply."](https://chromium.googlesource.com/v8/v8/+/91ed540)**  
  
Date(Commit): Thu Sep 08 04:20:31 2016  
Type: FeatureRequest  
Code Review: [https://codereview.chromium.org/2320013002](https://codereview.chromium.org/2320013002)  
Regress: [mjsunit/regress/regress-5357.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5357.js)  
```javascript
function foo(a) {
  a++;
  a = Math.max(0, a);
  a++;
  return a;
}

foo(0);
foo(0);
%OptimizeFunctionOnNextCall(foo);
assertEquals(2147483648, foo(2147483646));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/91ed540^!)  
[src/compiler/representation-change.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/representation-change.cc?cl=91ed540)  
[src/compiler/representation-change.h](https://cs.chromium.org/chromium/src/v8/src/compiler/representation-change.h?cl=91ed540)  
[src/compiler/simplified-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-lowering.cc?cl=91ed540)  
[test/mjsunit/regress/regress-5357.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5357.js?cl=91ed540)  
  
---   

## **v8 issue:5342**  
   
**[Issue: Error.captureStackTrace now adds its own call to the stack](https://crbug.com/v8/5342)**  
**[Commit: Do not include Error.captureStackTrace in the trace](https://chromium.googlesource.com/v8/v8/+/64c518d)**  
  
Date(Commit): Fri Sep 02 09:51:42 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2307783002](https://codereview.chromium.org/2307783002)  
Regress: [mjsunit/regress/regress-5342.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5342.js)  
```javascript
var o = {}
Error.captureStackTrace(o);
assertEquals(-1, o.stack.indexOf("captureStackTrace"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/64c518d^!)  
[src/builtins/builtins-error.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-error.cc?cl=64c518d)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=64c518d)  
[test/mjsunit/regress/regress-5342.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5342.js?cl=64c518d)  
  
---   

## **v8 issue:5337**  
   
**[Issue: No Permission](https://crbug.com/v8/5337)**  
**[Commit: Fix bug with nested spreads as patterns](https://chromium.googlesource.com/v8/v8/+/628e9e3)**  
  
Date(Commit): Fri Sep 02 07:53:00 2016  
Type: None  
Code Review: [https://codereview.chromium.org/2297303003](https://codereview.chromium.org/2297303003)  
Regress: [mjsunit/es6/regress/regress-5337.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-5337.js)  
```javascript
(function testNestedSpreadsInPatterns() {
  (function () {
    var [...[...x]] = [42, 17];
    assertArrayEquals([42, 17], x);
  })();
  (function () {
    let [...[...x]] = [42, 17];
    assertArrayEquals([42, 17], x);
  })();
  (function () {
    const [...[...x]] = [42, 17];
    assertArrayEquals([42, 17], x);
  })();
  (function () {
    var x; [...[...x]] = [42, 17];
    assertArrayEquals([42, 17], x);
  })();

  function f1([...[...x]] = [42, 17]) { return x; }
  assertArrayEquals([42, 17], f1());
  assertArrayEquals([1, 2, 3], f1([1, 2, 3]));

  var f2 = function ([...[...x]] = [42, 17]) { return x; }
  assertArrayEquals([42, 17], f2());
  assertArrayEquals([1, 2, 3], f2([1, 2, 3]));

  
  var f3 = ([...[...x]] = [42, 17]) => { return x; };
  assertArrayEquals([42, 17], f3());
  assertArrayEquals([1, 2, 3], f3([1, 2, 3]));

  var f4 = ([...[...x]] = [42, 17]) => x;
  assertArrayEquals([42, 17], f4());
  assertArrayEquals([1, 2, 3], f4([1, 2, 3]));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/628e9e3^!)  
[src/parsing/pattern-rewriter.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/pattern-rewriter.cc?cl=628e9e3)  
[test/mjsunit/es6/regress/regress-5337.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-5337.js?cl=628e9e3)  
  
---   

## **v8 issue:5332**  
   
**[Issue: Turbofan doesn't initialize holey-double arrays correctly in Debug mode](https://crbug.com/v8/5332)**  
**[Commit: [turbofan] Don't treat the hole NaN as constant inside the compiler.](https://chromium.googlesource.com/v8/v8/+/64a7bd3)**  
  
Date(Commit): Thu Sep 01 06:02:19 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2303643002](https://codereview.chromium.org/2303643002)  
Regress: [mjsunit/regress/regress-5332.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5332.js)  
```javascript
(function() {
  function foo() {
    var a = new Array(2);
    a[1] = 1.5;
    return a;
  }

  assertEquals(undefined, foo()[0]);
  assertEquals(undefined, foo()[0]);
  %OptimizeFunctionOnNextCall(foo);
  assertEquals(undefined, foo()[0]);
})();

(function() {
  function foo() {
    var a = Array(2);
    a[1] = 1.5;
    return a;
  }

  assertEquals(undefined, foo()[0]);
  assertEquals(undefined, foo()[0]);
  %OptimizeFunctionOnNextCall(foo);
  assertEquals(undefined, foo()[0]);
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/64a7bd3^!)  
[src/assembler.cc](https://cs.chromium.org/chromium/src/v8/src/assembler.cc?cl=64a7bd3)  
[src/compiler/access-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/access-builder.cc?cl=64a7bd3)  
[src/compiler/access-builder.h](https://cs.chromium.org/chromium/src/v8/src/compiler/access-builder.h?cl=64a7bd3)  
[src/compiler/js-create-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-create-lowering.cc?cl=64a7bd3)  
[test/mjsunit/regress/regress-5332.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5332.js?cl=64a7bd3)  
  
---   

## **v8 issue:5320**  
   
**[Issue: Deopt loops on 32-bit architectures](https://crbug.com/v8/5320)**  
**[Commit: [turbofan] Treat the INT32 state of a truncating binary op IC as number or oddball on 32-bit machines.](https://chromium.googlesource.com/v8/v8/+/bdf5566)**  
  
Date(Commit): Tue Aug 30 14:13:34 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2292873002](https://codereview.chromium.org/2292873002)  
Regress: [mjsunit/compiler/regress-5320.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-5320.js)  
```javascript
function OptimizeTruncatingBinaryOp(func) {
  func(42, -2);
  func(31, undefined);
  %OptimizeFunctionOnNextCall(func);
  func(-1, 2.1);
  assertOptimized(func);
}


OptimizeTruncatingBinaryOp(function(a, b) { return a >> b; });

OptimizeTruncatingBinaryOp(function(a, b) { return a >>> b; });

OptimizeTruncatingBinaryOp(function(a, b) { return a << b; });

OptimizeTruncatingBinaryOp(function(a, b) { return a & b; });

OptimizeTruncatingBinaryOp(function(a, b) { return a | b; });

OptimizeTruncatingBinaryOp(function(a, b) { return a ^ b; });  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/bdf5566^!)  
[src/compiler/type-hint-analyzer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/type-hint-analyzer.cc?cl=bdf5566)  
[test/mjsunit/compiler/regress-5320.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-5320.js?cl=bdf5566)  
  
---   

## **v8 issue:5286**  
   
**[Issue: TurboFan produces wrong result for speculative int32 modulus](https://crbug.com/v8/5286)**  
**[Commit: [turbofan] Fix CheckedInt32Mod lowering for -0 case with negative left hand side.](https://chromium.googlesource.com/v8/v8/+/665f0e4)**  
  
Date(Commit): Fri Aug 12 12:13:51 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2243803002](https://codereview.chromium.org/2243803002)  
Regress: [mjsunit/regress/regress-5286.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5286.js)  
```javascript
(function() {
  function foo(x, y) { return x % y; }

  assertEquals(0, foo(2, 2));
  assertEquals(0, foo(4, 4));
  %OptimizeFunctionOnNextCall(foo);
  assertEquals(-0, foo(-8, 8));
})();

(function() {
  function foo(x, y) { return x % y; }

  assertEquals(0, foo(1, 1));
  assertEquals(0, foo(2, 2));
  %OptimizeFunctionOnNextCall(foo);
  assertEquals(-0, foo(-3, 3));
})();

(function() {
  function foo(x, y) { return x % y; }

  assertEquals(0, foo(1, 1));
  assertEquals(0, foo(2, 2));
  %OptimizeFunctionOnNextCall(foo);
  assertEquals(-0, foo(-2147483648, -1));
})();

(function() {
  function foo(x, y) { return x % y; }

  assertEquals(0, foo(1, 1));
  assertEquals(0, foo(2, 2));
  %OptimizeFunctionOnNextCall(foo);
  assertEquals(-0, foo(-2147483648, -2147483648));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/665f0e4^!)  
[src/compiler/effect-control-linearizer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/effect-control-linearizer.cc?cl=665f0e4)  
[test/mjsunit/regress/regress-5286.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5286.js?cl=665f0e4)  
  
---   

## **v8 issue:5278**  
   
**[Issue: Wrong handling of <negative integer> % 1 in TurboFan.](https://crbug.com/v8/5278)**  
**[Commit: [turbofan] Fix CheckedInt32Mod lowering.](https://chromium.googlesource.com/v8/v8/+/9e14155)**  
  
Date(Commit): Wed Aug 10 09:24:59 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2233713002](https://codereview.chromium.org/2233713002)  
Regress: [mjsunit/compiler/regress-5278.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-5278.js)  
```javascript
function foo(a, b) {
  return a % b;
}
foo(2, 1);
foo(2, 1);
%OptimizeFunctionOnNextCall(foo);
assertEquals(-0, foo(-2, 1));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9e14155^!)  
[src/compiler/effect-control-linearizer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/effect-control-linearizer.cc?cl=9e14155)  
[test/mjsunit/compiler/regress-5278.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-5278.js?cl=9e14155)  
  
---   

## **v8 issue:5275**  
   
**[Issue: webkit/fast/js/array-bad-time flakily failing under --turbo](https://crbug.com/v8/5275)**  
**[Commit: [turbofan] Properly guard keyed stores wrt. setters in the prototype chain.](https://chromium.googlesource.com/v8/v8/+/7060bab8)**  
  
Date(Commit): Wed Aug 10 06:30:22 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2231683002](https://codereview.chromium.org/2231683002)  
Regress: [mjsunit/regress/regress-5275-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5275-1.js), [mjsunit/regress/regress-5275-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5275-2.js)  
```javascript
function foo(x) {
  var a = new Array(1);
  a[0] = x;
  return a;
}

assertEquals([1], foo(1));
assertEquals([1], foo(1));
%OptimizeFunctionOnNextCall(foo);
assertEquals([1], foo(1));
Array.prototype.__defineSetter__("0", function() {});
assertEquals([undefined], foo(1));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7060bab8^!)  
[src/compiler/js-native-context-specialization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.cc?cl=7060bab8)  
[test/mjsunit/regress/regress-5275-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5275-1.js?cl=7060bab8)  
[test/mjsunit/regress/regress-5275-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5275-2.js?cl=7060bab8)  
[test/webkit/webkit.status](https://cs.chromium.org/chromium/src/v8/test/webkit/webkit.status?cl=7060bab8)  
  
---   

## **v8 issue:5262**  
   
**[Issue: OSR code generated from bytecode might trigger deopt after underlying function was tiered up](https://crbug.com/v8/5262)**  
**[Commit: [interpreter] Avoid tier-up when there is an OSR activation.](https://chromium.googlesource.com/v8/v8/+/5671b66)**  
  
Date(Commit): Fri Aug 05 07:55:03 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2206363004](https://codereview.chromium.org/2206363004)  
Regress: [mjsunit/regress/regress-5262.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5262.js)  
```javascript
function g() { return 23 }
function h() { return 42 }
function boom(o) { o.g = h }
function f(osr_and_recurse) {
  if (osr_and_recurse) {
    for (var i = 0; i < 3; ++i) {
      if (i == 1) %OptimizeOsr();
    }
    %OptimizeFunctionOnNextCall(f);
    f(false);     
    boom(this);   
    var x = g();  
    return x;
  }
  return 65;
}
assertEquals(65, f(false));
assertEquals(65, f(false));
assertEquals(42, f(true));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5671b66^!)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=5671b66)  
[test/mjsunit/regress/regress-5262.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5262.js?cl=5671b66)  
  
---   

## **v8 issue:5255**  
   
**[Issue: Representation selection is wrong for Word32/Float64 truncations on non-Number/non-Oddball values](https://crbug.com/v8/5255)**  
**[Commit: [turbofan] Fix invalid representation selection for Phis/Selects.](https://chromium.googlesource.com/v8/v8/+/c9324fe)**  
  
Date(Commit): Tue Aug 02 12:11:09 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2206553002](https://codereview.chromium.org/2206553002)  
Regress: [mjsunit/regress/regress-v8-5255-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-5255-1.js), [mjsunit/regress/regress-v8-5255-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-5255-2.js), [mjsunit/regress/regress-v8-5255-3.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-5255-3.js)  
```javascript
function foo(x) {
  return (x ? true : "7") >> 0;
}

assertEquals(1, foo(1));
assertEquals(1, foo(1));
%OptimizeFunctionOnNextCall(foo);
assertEquals(7, foo(0));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c9324fe^!)  
[src/compiler/simplified-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-lowering.cc?cl=c9324fe)  
[test/mjsunit/regress/regress-v8-5255-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-5255-1.js?cl=c9324fe)  
[test/mjsunit/regress/regress-v8-5255-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-5255-2.js?cl=c9324fe)  
[test/mjsunit/regress/regress-v8-5255-3.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-5255-3.js?cl=c9324fe)  
  
---   

## **v8 issue:5252**  
   
**[Issue: Running benchmark Octane21.-TF.json crashes](https://crbug.com/v8/5252)**  
**[Commit: [interpreter] Elide OSR polling from fake loops.](https://chromium.googlesource.com/v8/v8/+/962fd4a)**  
  
Date(Commit): Tue Aug 02 09:16:59 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2200733002](https://codereview.chromium.org/2200733002)  
Regress: [mjsunit/regress/regress-5252.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5252.js)  
```javascript
(function TestNonLoopyLoop() {
  function f() {
    do {
      %OptimizeOsr();
      return 23;
    } while(false)
  }
  assertEquals(23, f());
  assertEquals(23, f());
})();

(function TestNonLoopyGenerator() {
  function* g() {
    do {
      %OptimizeOsr();
      yield 23;
      yield 42;
    } while(false)
    return 999;
  }
  var gen = g();
  assertEquals({ value:23, done:false }, gen.next());
  assertEquals({ value:42, done:false }, gen.next());
  assertEquals({ value:999, done:true }, gen.next());
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/962fd4a^!)  
[src/interpreter/bytecode-generator.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/bytecode-generator.cc?cl=962fd4a)  
[src/interpreter/control-flow-builders.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/control-flow-builders.cc?cl=962fd4a)  
[src/interpreter/control-flow-builders.h](https://cs.chromium.org/chromium/src/v8/src/interpreter/control-flow-builders.h?cl=962fd4a)  
[test/cctest/interpreter/bytecode_expectations/RemoveRedundantLdar.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/RemoveRedundantLdar.golden?cl=962fd4a)  
[test/mjsunit/regress/regress-5252.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5252.js?cl=962fd4a)  
  
---   

## **v8 issue:5254**  
   
**[Issue: Narrowing comparison opcodes is wrong in TurboFan](https://crbug.com/v8/5254)**  
**[Commit: [turbofan] Fix invalid comparison operator narrowing.](https://chromium.googlesource.com/v8/v8/+/a758144)**  
  
Date(Commit): Tue Aug 02 07:46:15 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2202803003](https://codereview.chromium.org/2202803003)  
Regress: [mjsunit/regress/regress-v8-5254-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-5254-1.js), [mjsunit/regress/regress-v8-5254-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-5254-2.js)  
```javascript
var foo = (function() {
  "use asm";
  var a = new Uint16Array(2);
  a[0] = 32815;
  a[1] = 32114;

  function foo() {
    var x = a[0]|0;
    var y = a[1]|0;
    if (x < 0) x = 4294967296 + x|0;
    if (y < 0) y = 4294967296 + y|0;
    return x >= y;
  }

  return foo;
})();

assertTrue(foo());
assertTrue(foo());
%OptimizeFunctionOnNextCall(foo);
assertTrue(foo());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a758144^!)  
[src/compiler/ia32/instruction-selector-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ia32/instruction-selector-ia32.cc?cl=a758144)  
[src/compiler/instruction-selector-impl.h](https://cs.chromium.org/chromium/src/v8/src/compiler/instruction-selector-impl.h?cl=a758144)  
[src/compiler/x64/instruction-selector-x64.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/x64/instruction-selector-x64.cc?cl=a758144)  
[test/mjsunit/regress/regress-v8-5254-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-5254-1.js?cl=a758144)  
[test/mjsunit/regress/regress-v8-5254-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-5254-2.js?cl=a758144)  
  
---   

## **v8 issue:5245**  
   
**[Issue: Error.capturStackTrace(a, Error) now installs readOnly stack property](https://crbug.com/v8/5245)**  
**[Commit: Set Error.stack property writable](https://chromium.googlesource.com/v8/v8/+/1c7c052)**  
  
Date(Commit): Fri Jul 29 08:15:26 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2190313002](https://codereview.chromium.org/2190313002)  
Regress: [mjsunit/regress/regress-5245.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5245.js)  
```javascript
"use strict";



var a = {};
Error.captureStackTrace(a, Error);
a.stack = 1;  



var b = new Error();
b.stack = 1;  
b.stack = 1;  



var c = new Error();
var old_stack = c.stack;
c.stack = 1;  
c.stack = 1;  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1c7c052^!)  
[src/builtins/builtins-error.cc](https://cs.chromium.org/chromium/src/v8/src/builtins/builtins-error.cc?cl=1c7c052)  
[test/mjsunit/regress/regress-5245.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5245.js?cl=1c7c052)  
[test/mjsunit/stack-traces.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/stack-traces.js?cl=1c7c052)  
  
---   

## **v8 issue:5216**  
   
**[Issue: Error subclasses constructors are shown in stack trace](https://crbug.com/v8/5216)**  
**[Commit: Omit frames up to new target in Error constructor](https://chromium.googlesource.com/v8/v8/+/89403e0)**  
  
Date(Commit): Fri Jul 22 11:45:50 2016  
Type: FeatureRequest  
Code Review: [https://codereview.chromium.org/2175603003](https://codereview.chromium.org/2175603003)  
Regress: [mjsunit/regress/regress-5216.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5216.js)  
```javascript
class MyError extends Error { }
assertFalse(new MyError().stack.includes("at MyError"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/89403e0^!)  
[src/messages.cc](https://cs.chromium.org/chromium/src/v8/src/messages.cc?cl=89403e0)  
[test/mjsunit/regress/regress-5216.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5216.js?cl=89403e0)  
  
---   

## **v8 issue:5213**  
   
**[Issue: Math.pow(2,-2147483648) does not terminate on mips.](https://crbug.com/v8/5213)**  
**[Commit: MIPS: Fix infinite loop in Math.pow(2,-2147483648)](https://chromium.googlesource.com/v8/v8/+/eaa86cb)**  
  
Date(Commit): Thu Jul 21 19:38:01 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2163963003](https://codereview.chromium.org/2163963003)  
Regress: [mjsunit/regress/regress-5213.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5213.js)  
```javascript
assertEquals(0, Math.pow(2,-2147483648));
assertEquals(0, Math.pow(2,-9223372036854775808));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/eaa86cb^!)  
[src/mips/code-stubs-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/code-stubs-mips.cc?cl=eaa86cb)  
[src/mips64/code-stubs-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/code-stubs-mips64.cc?cl=eaa86cb)  
[test/mjsunit/regress/regress-5213.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5213.js?cl=eaa86cb)  
  
---   

## **v8 issue:5214**  
   
**[Issue: Math.pow(2,2147483648) does not terminate on arm.](https://crbug.com/v8/5214)**  
**[Commit: [arm] Fix infinite loop in Math.pow(2,2147483648).](https://chromium.googlesource.com/v8/v8/+/e83739c)**  
  
Date(Commit): Thu Jul 21 09:30:32 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2166743003](https://codereview.chromium.org/2166743003)  
Regress: [mjsunit/regress/regress-5214.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5214.js)  
```javascript
assertEquals(Infinity, Math.pow(2, 0x80000000));
assertEquals(Infinity, Math.pow(2, 0xc0000000));
assertEquals(0, Math.pow(2, -0x80000000));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e83739c^!)  
[src/arm/code-stubs-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/code-stubs-arm.cc?cl=e83739c)  
[test/mjsunit/regress/regress-5214.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5214.js?cl=e83739c)  
  
---   

## **v8 issue:5199**  
   
**[Issue: RegExp show inconsistent result with other browsers](https://crbug.com/v8/5199)**  
**[Commit: [regexp] Fix case-insensitive matching for one-byte subjects.](https://chromium.googlesource.com/v8/v8/+/a51f429)**  
  
Date(Commit): Mon Jul 18 12:03:37 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2159683002](https://codereview.chromium.org/2159683002)  
Regress: [mjsunit/regress/regress-5199.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5199.js)  
```javascript
assertTrue(/(a[\u1000A])+/i.test('aa'));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a51f429^!)  
[src/regexp/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/regexp/jsregexp.cc?cl=a51f429)  
[test/mjsunit/regress/regress-5199.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5199.js?cl=a51f429)  
  
---   

## **v8 issue:5205**  
   
**[Issue: TurboFan bailout point for [[ToObject]] conversion is borked](https://crbug.com/v8/5205)**  
**[Commit: [turbofan] Fix deopt point for [[ToObject]] lazy bailout.](https://chromium.googlesource.com/v8/v8/+/a95cdbb)**  
  
Date(Commit): Mon Jul 18 08:08:47 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2158443002](https://codereview.chromium.org/2158443002)  
Regress: [mjsunit/regress/regress-5205.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5205.js)  
```javascript
(function TestGCDuringToObjectForWith() {
  function f(o) {
    if (o == 'warmup') { return g() }
    with (o) { return x }
  }
  function g() {
    
  }

  
  f('warmup');
  f('warmup');
  g = null;

  
  assertEquals(23, f({ x:23 }));
  assertEquals(42, f({ x:42 }));

  
  %OptimizeFunctionOnNextCall(f);
  assertEquals(65, f({ x:65 }));

  
  Number.prototype.x = 99;
  assertEquals(99, f(0));

  
  
  %SetAllocationTimeout(1000, 1, false);
  assertEquals(99, f(0));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a95cdbb^!)  
[src/full-codegen/full-codegen.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/full-codegen.cc?cl=a95cdbb)  
[test/mjsunit/regress/regress-5205.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5205.js?cl=a95cdbb)  
  
---   

## **v8 issue:5174**  
   
**[Issue: Wrong behavior of Object.keys on Proxy on built in objects](https://crbug.com/v8/5174)**  
**[Commit: [keys] propagate PropertyFilter to proxy targets in KeyAccumulator](https://chromium.googlesource.com/v8/v8/+/08d0012)**  
  
Date(Commit): Mon Jul 11 10:39:35 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2129193003](https://codereview.chromium.org/2129193003)  
Regress: [mjsunit/regress/regress-5174.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5174.js)  
```javascript
assertEquals([], Object.keys(new Proxy([], {})));
assertEquals([], Object.keys(new Proxy(/regex/, {})));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/08d0012^!)  
[src/keys.cc](https://cs.chromium.org/chromium/src/v8/src/keys.cc?cl=08d0012)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=08d0012)  
[test/mjsunit/es6/proxies-keys.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/proxies-keys.js?cl=08d0012)  
[test/mjsunit/regress/regress-5174.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5174.js?cl=08d0012)  
  
---   

## **v8 issue:5173**  
   
**[Issue: Stack traces do not show assembler builtin methods](https://crbug.com/v8/5173)**  
**[Commit: [builtins] Construct builtin frame in String/Number ctors](https://chromium.googlesource.com/v8/v8/+/d49d386)**  
  
Date(Commit): Fri Jul 08 06:38:19 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2118283003](https://codereview.chromium.org/2118283003)  
Regress: [mjsunit/regress/regress-5173.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5173.js)  
```javascript
var thrower = { [Symbol.toPrimitive]: () => FAIL };



function testTraceNativeConversion(nativeFunc) {
  var nativeFuncName = nativeFunc.name;
  try {
    nativeFunc(thrower);
    assertUnreachable(nativeFuncName);
  } catch (e) {
    assertTrue(e.stack.indexOf(nativeFuncName) >= 0, nativeFuncName);
  }
}

testTraceNativeConversion(Math.max);
testTraceNativeConversion(Math.min);

function testBuiltinInStackTrace(script, expectedString) {
  try {
    eval(script);
    assertUnreachable(expectedString);
  } catch (e) {
    assertTrue(e.stack.indexOf(expectedString) >= 0, expectedString);
  }
}

testBuiltinInStackTrace("Date.prototype.getDate.call('')", "at String.getDate");
testBuiltinInStackTrace("Date.prototype.getUTCDate.call('')",
                        "at String.getUTCDate");
testBuiltinInStackTrace("Date.prototype.getTime.call('')", "at String.getTime");

testBuiltinInStackTrace("Number(thrower);", "at Number");
testBuiltinInStackTrace("new Number(thrower);", "at new Number");
testBuiltinInStackTrace("String(thrower);", "at String");
testBuiltinInStackTrace("new String(thrower);", "at new String");


testBuiltinInStackTrace("Math.acos(thrower);", "at Math.acos");
testBuiltinInStackTrace("Math.asin(thrower);", "at Math.asin");
testBuiltinInStackTrace("Math.fround(thrower);", "at Math.fround");
testBuiltinInStackTrace("Math.imul(thrower);", "at Math.imul");


testBuiltinInStackTrace("((f, x) => f(x))(Math.acos, thrower);", "at acos");
testBuiltinInStackTrace("((f, x) => f(x))(Math.asin, thrower);", "at asin");
testBuiltinInStackTrace("((f, x) => f(x))(Math.fround, thrower);", "at fround");
testBuiltinInStackTrace("((f, x) => f(x))(Math.imul, thrower);", "at imul");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d49d386^!)  
[src/arm/builtins-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/builtins-arm.cc?cl=d49d386)  
[src/arm/macro-assembler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.cc?cl=d49d386)  
[src/arm/macro-assembler-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.h?cl=d49d386)  
[src/arm64/builtins-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/builtins-arm64.cc?cl=d49d386)  
[src/arm64/macro-assembler-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/macro-assembler-arm64.cc?cl=d49d386)  
[src/arm64/macro-assembler-arm64.h](https://cs.chromium.org/chromium/src/v8/src/arm64/macro-assembler-arm64.h?cl=d49d386)  
[src/ia32/builtins-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/builtins-ia32.cc?cl=d49d386)  
[src/ia32/macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.cc?cl=d49d386)  
[src/ia32/macro-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.h?cl=d49d386)  
[src/mips/builtins-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/builtins-mips.cc?cl=d49d386)  
[src/mips/macro-assembler-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/macro-assembler-mips.cc?cl=d49d386)  
[src/mips/macro-assembler-mips.h](https://cs.chromium.org/chromium/src/v8/src/mips/macro-assembler-mips.h?cl=d49d386)  
[src/mips64/builtins-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/builtins-mips64.cc?cl=d49d386)  
[src/mips64/macro-assembler-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/macro-assembler-mips64.cc?cl=d49d386)  
[src/mips64/macro-assembler-mips64.h](https://cs.chromium.org/chromium/src/v8/src/mips64/macro-assembler-mips64.h?cl=d49d386)  
[src/x64/builtins-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/builtins-x64.cc?cl=d49d386)  
[src/x64/macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.cc?cl=d49d386)  
[src/x64/macro-assembler-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.h?cl=d49d386)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=d49d386)  
[test/mjsunit/regress/regress-105.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-105.js?cl=d49d386)  
[test/mjsunit/regress/regress-4815.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4815.js?cl=d49d386)  
[test/mjsunit/regress/regress-5173.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5173.js?cl=d49d386)  
  
---   

## **v8 issue:5181**  
   
**[Issue: DCHECK fails when Proxy target has a null prototype](https://crbug.com/v8/5181)**  
**[Commit: [ForIn] Fix HasEnumerableProperty for Proxies with null prototype](https://chromium.googlesource.com/v8/v8/+/b36237b)**  
  
Date(Commit): Thu Jul 07 10:12:06 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2129563002](https://codereview.chromium.org/2129563002)  
Regress: [mjsunit/regress/regress-5181.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5181.js)  
```javascript
var target = Object.create(null);
var proxy = new Proxy(target, {
  ownKeys: function() {
    return ['a'];
  }
});
for (var key in proxy) ;  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b36237b^!)  
[src/runtime/runtime-forin.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-forin.cc?cl=b36237b)  
[test/mjsunit/regress/regress-5181.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5181.js?cl=b36237b)  
  
---   

## **v8 issue:5178**  
   
**[Issue: Crash with missing TDZ-check in catch-node](https://crbug.com/v8/5178)**  
**[Commit: [parser] Fix bug in destructuring binding for catch.](https://chromium.googlesource.com/v8/v8/+/4a4f717)**  
  
Date(Commit): Thu Jul 07 07:31:16 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2123953002](https://codereview.chromium.org/2123953002)  
Regress: [mjsunit/regress/regress-5178.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5178.js)  
```javascript
assertThrows(() => {
  try { throw {} } catch({a=b, b}) { a+b }
}, ReferenceError);

try { throw {a: 42} } catch({a, b=a}) { assertEquals(42, b) };  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4a4f717^!)  
[src/parsing/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.cc?cl=4a4f717)  
[src/parsing/parser.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.h?cl=4a4f717)  
[test/mjsunit/regress/regress-5178.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5178.js?cl=4a4f717)  
  
---   

## **v8 issue:5106**  
   
**[Issue: Illegal access with yield in extends clause in destructuring catch-node](https://crbug.com/v8/5106)**  
**[Commit: Do all parsing for try/catch destructuring inside the appropriate scopes](https://chromium.googlesource.com/v8/v8/+/7166503)**  
  
Date(Commit): Thu Jun 30 06:52:13 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2110193002](https://codereview.chromium.org/2110193002)  
Regress: [mjsunit/regress/regress-5106.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5106.js)  
```javascript
function* g1() {
  try {
    throw {};
  } catch ({a = class extends (yield) {}}) {
  }
}
g1().next();  

function* g2() {
  let x = function(){};
  try {
    throw {};
  } catch ({b = class extends x {}}) {
  }
}
g2().next();  

function* g3() {
  let x = 42;
  try {
    throw {};
  } catch ({c = (function() { return x })()}) {
  }
}
g3().next();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7166503^!)  
[src/parsing/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.cc?cl=7166503)  
[test/mjsunit/regress/regress-5106.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5106.js?cl=7166503)  
[test/test262/test262.status](https://cs.chromium.org/chromium/src/v8/test/test262/test262.status?cl=7166503)  
  
---   

## **v8 issue:5158**  
   
**[Issue: ARM64 deopt from Int32SubWithOverflow is wrong](https://crbug.com/v8/5158)**  
**[Commit: [arm64] We must not overwrite registers for binop results that are used in frame states.](https://chromium.googlesource.com/v8/v8/+/29da546)**  
  
Date(Commit): Tue Jun 28 10:11:13 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2103793002](https://codereview.chromium.org/2103793002)  
Regress: [mjsunit/compiler/regress-5158.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-5158.js)  
```javascript
function foo(x) {
  x = +x;
  return (x > 0) ? x : 0 - x;
}

foo(1);
foo(-1);
foo(0);
%OptimizeFunctionOnNextCall(foo);
assertEquals(2147483648, foo(-2147483648));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/29da546^!)  
[src/compiler/arm64/instruction-selector-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/arm64/instruction-selector-arm64.cc?cl=29da546)  
[test/mjsunit/compiler/regress-5158.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-5158.js?cl=29da546)  
  
---   

## **v8 issue:5129**  
   
**[Issue: Turbofan changes x - y < 0 to x < y which is not equivalent when (x - y) overflows](https://crbug.com/v8/5129)**  
**[Commit: [turbofan] x - y < 0 is not equivalent to x < y.](https://chromium.googlesource.com/v8/v8/+/488d6e5)**  
  
Date(Commit): Wed Jun 22 05:38:36 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2090493002](https://codereview.chromium.org/2090493002)  
Regress: [mjsunit/compiler/regress-5129.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-5129.js)  
```javascript
function foo($a,$b) {
 $a = $a|0;
 $b = $b|0;
 var $sub = $a - $b;
 return ($sub|0) < 0;
}

%OptimizeFunctionOnNextCall(foo);
assertTrue(foo(0x7fffffff,-1));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/488d6e5^!)  
[src/compiler/machine-operator-reducer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/machine-operator-reducer.cc?cl=488d6e5)  
[test/cctest/compiler/test-machine-operator-reducer.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/compiler/test-machine-operator-reducer.cc?cl=488d6e5)  
[test/mjsunit/compiler/regress-5129.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-5129.js?cl=488d6e5)  
  
---   

## **v8 issue:4815**  
   
**[Issue: Stack traces do not show builtin methods implemented in C++](https://crbug.com/v8/4815)**  
**[Commit: [builtins] Introduce a proper BUILTIN frame type.](https://chromium.googlesource.com/v8/v8/+/f47b9e9)**  
  
Date(Commit): Fri Jun 17 07:41:34 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2069423002](https://codereview.chromium.org/2069423002)  
Regress: [mjsunit/regress/regress-4815.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4815.js)  
```javascript
var thrower = { [Symbol.toPrimitive]: () => FAIL };



function testTraceNativeConversion(nativeFunc) {
  var nativeFuncName = nativeFunc.name;
  try {
    nativeFunc(thrower);
    assertUnreachable(nativeFuncName);
  } catch (e) {
    assertTrue(e.stack.indexOf(nativeFuncName) >= 0, nativeFuncName);
  }
}


testTraceNativeConversion(Math.acos);
testTraceNativeConversion(Math.asin);
testTraceNativeConversion(Math.fround);
testTraceNativeConversion(Math.imul);


function testBuiltinInStackTrace(script, expectedString) {
  try {
    eval(script);
    assertUnreachable(expectedString);
  } catch (e) {
    assertTrue(e.stack.indexOf(expectedString) >= 0, expectedString);
  }
}


testBuiltinInStackTrace("Boolean.prototype.toString.call(thrower);",
                        "at Object.toString");


testBuiltinInStackTrace("new Date(thrower);", "at new Date");


testBuiltinInStackTrace("Math.acos(thrower);", "at Math.acos");
testBuiltinInStackTrace("Math.asin(thrower);", "at Math.asin");
testBuiltinInStackTrace("Math.fround(thrower);", "at Math.fround");
testBuiltinInStackTrace("Math.imul(thrower);", "at Math.imul");


testBuiltinInStackTrace("((f, x) => f(x))(Math.acos, thrower);", "at acos");
testBuiltinInStackTrace("((f, x) => f(x))(Math.asin, thrower);", "at asin");
testBuiltinInStackTrace("((f, x) => f(x))(Math.fround, thrower);", "at fround");
testBuiltinInStackTrace("((f, x) => f(x))(Math.imul, thrower);", "at imul");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f47b9e9^!)  
[src/arm/builtins-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/builtins-arm.cc?cl=f47b9e9)  
[src/arm64/builtins-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/builtins-arm64.cc?cl=f47b9e9)  
[src/frames-inl.h](https://cs.chromium.org/chromium/src/v8/src/frames-inl.h?cl=f47b9e9)  
[src/frames.cc](https://cs.chromium.org/chromium/src/v8/src/frames.cc?cl=f47b9e9)  
[src/frames.h](https://cs.chromium.org/chromium/src/v8/src/frames.h?cl=f47b9e9)  
[src/ia32/builtins-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/builtins-ia32.cc?cl=f47b9e9)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=f47b9e9)  
[src/mips/builtins-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/builtins-mips.cc?cl=f47b9e9)  
[src/mips64/builtins-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/builtins-mips64.cc?cl=f47b9e9)  
[src/x64/builtins-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/builtins-x64.cc?cl=f47b9e9)  
[test/mjsunit/regress/regress-4815.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4815.js?cl=f47b9e9)  
  
---   

## **v8 issue:5004**  
   
**[Issue: Illegal access in proxied promise subclass](https://crbug.com/v8/5004)**  
**[Commit: Promises: Add regression test for promise resolution with proxy](https://chromium.googlesource.com/v8/v8/+/3624a5e)**  
  
Date(Commit): Thu Jun 16 02:00:26 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2070213002](https://codereview.chromium.org/2070213002)  
Regress: [mjsunit/regress/regress-5004.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5004.js)  
```javascript
function assertAsync(b, s) {
  if (!b) {
    %AbortJS(" FAILED!")
  }
}

class P extends Promise {
  constructor() {
    super(...arguments)
    return new Proxy(this, {
      get: (_, key) => {
        return key == 'then' ?
            this.then.bind(this) :
            this.constructor.resolve(20)
      }
    })
  }
}

let p = P.resolve(10)
p.key.then(v => assertAsync(v === 20));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3624a5e^!)  
[test/mjsunit/regress/regress-5004.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5004.js?cl=3624a5e)  
  
---   

## **v8 issue:5100**  
   
**[Issue: Introduce dedicated CheckBounds operator for TurboFan](https://crbug.com/v8/5100)**  
**[Commit: [turbofan] Introduce a dedicated CheckBounds operator.](https://chromium.googlesource.com/v8/v8/+/85e5567)**  
  
Date(Commit): Tue Jun 14 06:12:06 2016  
Type: FeatureRequest  
Code Review: [https://codereview.chromium.org/2035893004](https://codereview.chromium.org/2035893004)  
Regress: [mjsunit/compiler/regress-5100.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-5100.js)  
```javascript
var a = [0, 1];
a["true"] = "true";
a["false"] = "false";
a["null"] = "null";
a["undefined"] = "undefined";


(function() {
  function f(x) { return a[x]; }

  assertEquals(0, f(0));
  assertEquals(0, f(0));
  %OptimizeFunctionOnNextCall(f);
  assertEquals("true", f(true));
})();


(function() {
  function f( x) { return a[x]; }

  assertEquals(0, f(0));
  assertEquals(0, f(0));
  %OptimizeFunctionOnNextCall(f);
  assertEquals("false", f(false));
})();


(function() {
  function f( x) { return a[x]; }

  assertEquals(0, f(0));
  assertEquals(0, f(0));
  %OptimizeFunctionOnNextCall(f);
  assertEquals("null", f(null));
})();


(function() {
  function f( x) { return a[x]; }

  assertEquals(0, f(0));
  assertEquals(0, f(0));
  %OptimizeFunctionOnNextCall(f);
  assertEquals("undefined", f(undefined));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/85e5567^!)  
[src/compiler/effect-control-linearizer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/effect-control-linearizer.cc?cl=85e5567)  
[src/compiler/effect-control-linearizer.h](https://cs.chromium.org/chromium/src/v8/src/compiler/effect-control-linearizer.h?cl=85e5567)  
[src/compiler/js-native-context-specialization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.cc?cl=85e5567)  
[src/compiler/opcodes.h](https://cs.chromium.org/chromium/src/v8/src/compiler/opcodes.h?cl=85e5567)  
[src/compiler/simplified-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-lowering.cc?cl=85e5567)  
[src/compiler/simplified-operator.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator.cc?cl=85e5567)  
[src/compiler/simplified-operator.h](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator.h?cl=85e5567)  
[src/compiler/typer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/typer.cc?cl=85e5567)  
[src/compiler/verifier.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/verifier.cc?cl=85e5567)  
[test/mjsunit/compiler/regress-5100.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-5100.js?cl=85e5567)  
  
---   

## **v8 issue:5085**  
   
**[Issue: ({}) instanceof Proxy is returning true unexpectedly](https://crbug.com/v8/5085)**  
**[Commit: [es6] Fix prototype chain walk for instanceof.](https://chromium.googlesource.com/v8/v8/+/eb1c9e2)**  
  
Date(Commit): Thu Jun 09 06:26:03 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2041103007](https://codereview.chromium.org/2041103007)  
Regress: [mjsunit/regress/regress-5085.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5085.js)  
```javascript
g = async function () {
  await 10;
}
assertEquals(undefined, g.prototype)
g();
assertEquals(undefined, g.prototype)

gen = function* () {
  yield 10;
}
assertTrue(gen.prototype != undefined && gen.prototype != null)
gen()
assertTrue(gen.prototype != undefined && gen.prototype != null)

async_gen = async function* () {
  yield 10;
}
assertTrue(async_gen.prototype != undefined && async_gen.prototype != null)
async_gen()
assertTrue(async_gen.prototype != undefined && async_gen.prototype != null)

function foo(x) {
  return x instanceof Proxy;
}

function test_for_exception() {
  caught_exception = false;
  try {
    foo({});
  } catch (e) {
    caught_exception = true;
    assertEquals(
        'Function has non-object prototype \'undefined\' in instanceof check',
        e.message);
  } finally {
    assertTrue(caught_exception)
  }
}

test_for_exception();
test_for_exception();
%OptimizeFunctionOnNextCall(foo);
test_for_exception();

Proxy.__proto__.prototype = Function.prototype;
assertTrue((() => {}) instanceof Proxy);

assertEquals(
    new Proxy({}, {
      get(o, s) {
        return s
      }
    }).test,
    'test');

Proxy.__proto__ = {
  prototype: {b: 2},
  a: 1
};
assertEquals(Proxy.prototype, {b: 2});

(function testProxyCreationContext() {
  let realm = Realm.create();
  let p1 = new Proxy({}, {});
  let p2 = Realm.eval(realm, "new Proxy({}, {})");
  assertEquals(0, Realm.owner(p1));
  assertEquals(1, Realm.owner(p2));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/eb1c9e2^!)  
[src/code-stub-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/code-stub-assembler.cc?cl=eb1c9e2)  
[src/compiler/js-typed-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-typed-lowering.cc?cl=eb1c9e2)  
[src/crankshaft/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/arm/lithium-codegen-arm.cc?cl=eb1c9e2)  
[src/crankshaft/arm64/lithium-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/arm64/lithium-codegen-arm64.cc?cl=eb1c9e2)  
[src/crankshaft/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/ia32/lithium-codegen-ia32.cc?cl=eb1c9e2)  
[src/crankshaft/mips/lithium-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/mips/lithium-codegen-mips.cc?cl=eb1c9e2)  
[src/crankshaft/mips64/lithium-codegen-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/mips64/lithium-codegen-mips64.cc?cl=eb1c9e2)  
[src/crankshaft/ppc/lithium-codegen-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/ppc/lithium-codegen-ppc.cc?cl=eb1c9e2)  
[src/crankshaft/s390/lithium-codegen-s390.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/s390/lithium-codegen-s390.cc?cl=eb1c9e2)  
[src/crankshaft/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/x64/lithium-codegen-x64.cc?cl=eb1c9e2)  
[src/crankshaft/x87/lithium-codegen-x87.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/x87/lithium-codegen-x87.cc?cl=eb1c9e2)  
[test/mjsunit/regress/regress-5085.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5085.js?cl=eb1c9e2)  
  
---   

## **v8 issue:5074**  
   
**[Issue: Crankshaft deopts with truncated value](https://crbug.com/v8/5074)**  
**[Commit: [crankshaft] Fix invalid number truncation assumption on HAdd inputs.](https://chromium.googlesource.com/v8/v8/+/f576e29)**  
  
Date(Commit): Wed Jun 08 03:56:22 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2048643002](https://codereview.chromium.org/2048643002)  
Regress: [mjsunit/compiler/regress-5074.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-5074.js)  
```javascript
var s = [,0.1];

function foo(a, b) {
  var x = s[a];
  s[1] = 0.1;
  return x + b;
}

assertEquals(2.1, foo(1, 2));
assertEquals(2.1, foo(1, 2));
%OptimizeFunctionOnNextCall(foo);
assertEquals("undefined2", foo(0, "2"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f576e29^!)  
[src/crankshaft/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen-instructions.h?cl=f576e29)  
[test/mjsunit/compiler/regress-5074.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-5074.js?cl=f576e29)  
  
---   

## **v8 issue:5009**  
   
**[Issue: StoreIC sometimes does not store](https://crbug.com/v8/5009)**  
**[Commit: [runtime] Ensure that all elements kind transitions are chained to the root map.](https://chromium.googlesource.com/v8/v8/+/9fa206e)**  
  
Date(Commit): Wed Jun 01 15:55:11 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2015513002](https://codereview.chromium.org/2015513002)  
Regress: [mjsunit/regress/regress-v8-5009.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-5009.js)  
```javascript
function fn1() {
}

function fn2() {
}

function fn3() {
}

function create(id) {
  
  var o = new version();

  o.id = id;
  o[0] = null;

  return o;
}

function setM1(o) {
  o.m1 = fn1;
}

function setM2(o) {
  o.m2 = fn2;
}

function setAltM2(o) {
  
  o.m2 = fn3;
}

function setAltM1(o) {
  o.m1 = null;
}

function test(o) {
  o.m2();
  o.m1();
}

var p0 = create(0);
var p1 = create(1);
var p2 = create(2);

setM1(p0);
setM1(p1);
setM1(p2);

setM2(p0);
setAltM2(p0);
setAltM1(p0);

setAltM2(p1);

setAltM2(p2);
test(p2);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9fa206e^!)  
[src/compiler/access-info.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/access-info.cc?cl=9fa206e)  
[src/crankshaft/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.cc?cl=9fa206e)  
[src/ic/ic-compiler.cc](https://cs.chromium.org/chromium/src/v8/src/ic/ic-compiler.cc?cl=9fa206e)  
[src/ic/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic/ic.cc?cl=9fa206e)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=9fa206e)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=9fa206e)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=9fa206e)  
[test/cctest/test-field-type-tracking.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-field-type-tracking.cc?cl=9fa206e)  
[test/mjsunit/regress/regress-v8-5009.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-5009.js?cl=9fa206e)  
  
---   

## **v8 issue:5036**  
   
**[Issue: regexp with unicode and ignore case flag does not match correctly](https://crbug.com/v8/5036)**  
**[Commit: [regexp] fix /ui regexp desugaring for text nodes.](https://chromium.googlesource.com/v8/v8/+/5d93296)**  
  
Date(Commit): Mon May 23 22:23:43 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2005753003](https://codereview.chromium.org/2005753003)  
Regress: [mjsunit/regress/regress-5036.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5036.js)  
```javascript
assertEquals(["1\u212a"], /\d\w/ui.exec("1\u212a"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5d93296^!)  
[src/regexp/regexp-parser.cc](https://cs.chromium.org/chromium/src/v8/src/regexp/regexp-parser.cc?cl=5d93296)  
[test/mjsunit/regress/regress-5036.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5036.js?cl=5d93296)  
  
---   

## **v8 issue:5033**  
   
**[Issue: Assertion failure in TypeFeedbackOracle::CollectReceiverTypes](https://crbug.com/v8/5033)**  
**[Commit: [crankshaft] Don't inline "dont_crankshaft" functions](https://chromium.googlesource.com/v8/v8/+/43547df)**  
  
Date(Commit): Fri May 20 15:20:15 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/2000703002](https://codereview.chromium.org/2000703002)  
Regress: [mjsunit/regress/regress-5033.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5033.js)  
```javascript
var test = function() {
  var t = Date.now();  
  var o = {
    ['p']: 1,
    t
  };
};

function caller() {
  test();
}
caller();
caller();
%OptimizeFunctionOnNextCall(caller);
caller();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/43547df^!)  
[src/crankshaft/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.cc?cl=43547df)  
[test/mjsunit/regress/regress-5033.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5033.js?cl=43547df)  
  
---   

## **v8 issue:5018**  
   
**[Issue: DataView accessor fast path incorrect after ES2015 prototype hierarchy changes](https://crbug.com/v8/5018)**  
**[Commit: Remove now-incorrect DataView accessor optimization](https://chromium.googlesource.com/v8/v8/+/de7d47e)**  
  
Date(Commit): Thu May 19 19:49:35 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1984043002](https://codereview.chromium.org/1984043002)  
Regress: [mjsunit/regress/regress-5018.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5018.js)  
```javascript
var dv = new DataView(new ArrayBuffer(4), 2);

function getByteLength(a) {
  return a.byteLength;
}

assertEquals(2, getByteLength(dv));
assertEquals(2, getByteLength(dv));

Object.defineProperty(dv.__proto__, 'byteLength', {value: 42});

assertEquals(42, dv.byteLength);
assertEquals(42, getByteLength(dv));

function getByteOffset(a) {
  return a.byteOffset;
}

assertEquals(2, getByteOffset(dv));
assertEquals(2, getByteOffset(dv));

Object.defineProperty(dv.__proto__, 'byteOffset', {value: 42});

assertEquals(42, dv.byteOffset);
assertEquals(42, getByteOffset(dv));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/de7d47e^!)  
[src/accessors.cc](https://cs.chromium.org/chromium/src/v8/src/accessors.cc?cl=de7d47e)  
[src/accessors.h](https://cs.chromium.org/chromium/src/v8/src/accessors.h?cl=de7d47e)  
[src/compiler/access-info.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/access-info.cc?cl=de7d47e)  
[src/crankshaft/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.cc?cl=de7d47e)  
[src/crankshaft/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.h?cl=de7d47e)  
[src/ic/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic/ic.cc?cl=de7d47e)  
[test/mjsunit/regress/regress-5018.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5018.js?cl=de7d47e)  
  
---   

## **v8 issue:5006**  
   
**[Issue: Elliptic.js crashes on V8 5.2.290](https://crbug.com/v8/5006)**  
**[Commit: [turbofan] Fix optimized lowering of Math.imul.](https://chromium.googlesource.com/v8/v8/+/fa7460a)**  
  
Date(Commit): Thu May 12 18:43:32 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1971163002](https://codereview.chromium.org/1971163002)  
Regress: [mjsunit/regress/regress-5006.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-5006.js)  
```javascript
function foo(x) { return Math.imul(x|0, 2); }
print(foo(1));
print(foo(1));
%OptimizeFunctionOnNextCall(foo);
print(foo(1));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fa7460a^!)  
[src/compiler/js-builtin-reducer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-builtin-reducer.cc?cl=fa7460a)  
[src/compiler/opcodes.h](https://cs.chromium.org/chromium/src/v8/src/compiler/opcodes.h?cl=fa7460a)  
[src/compiler/representation-change.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/representation-change.cc?cl=fa7460a)  
[src/compiler/simplified-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-lowering.cc?cl=fa7460a)  
[src/compiler/simplified-operator.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator.cc?cl=fa7460a)  
[src/compiler/simplified-operator.h](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator.h?cl=fa7460a)  
[src/compiler/typer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/typer.cc?cl=fa7460a)  
[src/compiler/verifier.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/verifier.cc?cl=fa7460a)  
[test/mjsunit/regress/regress-5006.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-5006.js?cl=fa7460a)  
[test/unittests/compiler/js-builtin-reducer-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/compiler/js-builtin-reducer-unittest.cc?cl=fa7460a)  
[test/unittests/compiler/node-test-utils.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/compiler/node-test-utils.cc?cl=fa7460a)  
[test/unittests/compiler/node-test-utils.h](https://cs.chromium.org/chromium/src/v8/test/unittests/compiler/node-test-utils.h?cl=fa7460a)  
  
---   

## **v8 issue:4971**  
   
**[Issue: Deoptimizer::GetOutputInfo failure when handling stack overflow with Proxies/super constructor calls](https://crbug.com/v8/4971)**  
**[Commit: [fullcodegen] Add missing bailout points for super calls.](https://chromium.googlesource.com/v8/v8/+/afb69f7)**  
  
Date(Commit): Mon May 09 13:44:40 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1960083002](https://codereview.chromium.org/1960083002)  
Regress: [mjsunit/regress/regress-4971.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4971.js)  
```javascript
(function TestDeoptInNamedSuperGetter() {
  class C { m() { return 23 } }
  class D extends C { f() { return super.boom() } }

  var should_deoptimize_caller = false;
  Object.defineProperty(C.prototype, "boom", { get: function() {
    if (should_deoptimize_caller) %DeoptimizeFunction(D.prototype.f);
    return this.m
  }})

  assertEquals(23, new D().f());
  assertEquals(23, new D().f());
  %OptimizeFunctionOnNextCall(D.prototype.f);
  assertEquals(23, new D().f());
  should_deoptimize_caller = true;
  assertEquals(23, new D().f());
})();

(function TestDeoptInKeyedSuperGetter() {
  class C { m() { return 23 } }
  class D extends C { f(name) { return super[name]() } }

  var should_deoptimize_caller = false;
  Object.defineProperty(C.prototype, "boom", { get: function() {
    if (should_deoptimize_caller) %DeoptimizeFunction(D.prototype.f);
    return this.m
  }})

  assertEquals(23, new D().f("boom"));
  assertEquals(23, new D().f("boom"));
  %OptimizeFunctionOnNextCall(D.prototype.f);
  assertEquals(23, new D().f("boom"));
  should_deoptimize_caller = true;
  assertEquals(23, new D().f("boom"));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/afb69f7^!)  
[src/full-codegen/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm/full-codegen-arm.cc?cl=afb69f7)  
[src/full-codegen/arm64/full-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm64/full-codegen-arm64.cc?cl=afb69f7)  
[src/full-codegen/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/ia32/full-codegen-ia32.cc?cl=afb69f7)  
[src/full-codegen/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips/full-codegen-mips.cc?cl=afb69f7)  
[src/full-codegen/mips64/full-codegen-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips64/full-codegen-mips64.cc?cl=afb69f7)  
[src/full-codegen/ppc/full-codegen-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/ppc/full-codegen-ppc.cc?cl=afb69f7)  
[src/full-codegen/s390/full-codegen-s390.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/s390/full-codegen-s390.cc?cl=afb69f7)  
[src/full-codegen/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/x64/full-codegen-x64.cc?cl=afb69f7)  
[src/full-codegen/x87/full-codegen-x87.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/x87/full-codegen-x87.cc?cl=afb69f7)  
[test/mjsunit/regress/regress-4971.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4971.js?cl=afb69f7)  
  
---   

## **v8 issue:4970**  
   
**[Issue: Check failed: is_sloppy(scope->language_mode()) || is_strict(info->language_mode()).](https://crbug.com/v8/4970)**  
**[Commit: Fix 'eval' in class extends clauses to be always-strict](https://chromium.googlesource.com/v8/v8/+/c8a342a)**  
  
Date(Commit): Tue May 03 22:36:29 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1931003003](https://codereview.chromium.org/1931003003)  
Regress: [mjsunit/regress/regress-4970.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4970.js)  
```javascript
function g() {
  var f;
  class C extends eval("f = () => delete C; Array") {}
  f();
}

assertThrows(g, SyntaxError);
%OptimizeFunctionOnNextCall(g);
assertThrows(g, SyntaxError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c8a342a^!)  
[src/compiler/ast-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.cc?cl=c8a342a)  
[src/full-codegen/full-codegen.h](https://cs.chromium.org/chromium/src/v8/src/full-codegen/full-codegen.h?cl=c8a342a)  
[src/interpreter/bytecode-generator.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/bytecode-generator.cc?cl=c8a342a)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=c8a342a)  
[test/mjsunit/regress/regress-4970.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4970.js?cl=c8a342a)  
  
---   

## **v8 issue:4967**  
   
**[Issue: Check failed: !(!HasStackOverflow()) || (operand_stack_depth_ >= count)](https://crbug.com/v8/4967)**  
**[Commit: [full-codegen] Fix stack depth tracking when reporting unsupported super usages](https://chromium.googlesource.com/v8/v8/+/567aa1b)**  
  
Date(Commit): Mon May 02 17:28:54 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1929213002](https://codereview.chromium.org/1929213002)  
Regress: [mjsunit/regress/regress-4967.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4967.js)  
```javascript
assertThrows(() => {
  new class extends Object {
    constructor() { (() => delete super[super()])(); }
  }
}, ReferenceError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/567aa1b^!)  
[src/full-codegen/full-codegen.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/full-codegen.cc?cl=567aa1b)  
[test/mjsunit/regress/regress-4967.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4967.js?cl=567aa1b)  
  
---   

## **v8 issue:4972**  
   
**[Issue: Check failed: (value & kHeapObjectTag) == 0.](https://crbug.com/v8/4972)**  
**[Commit: [runtime] Don't crash when creating an instance of a class inherited from a Proxy.](https://chromium.googlesource.com/v8/v8/+/b83edcc)**  
  
Date(Commit): Fri Apr 29 15:07:35 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1925803005](https://codereview.chromium.org/1925803005)  
Regress: [mjsunit/regress/regress-v8-4972.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-4972.js)  
```javascript
new class extends new Proxy(class {},{}) {}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b83edcc^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=b83edcc)  
[test/mjsunit/regress/regress-v8-4972.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-4972.js?cl=b83edcc)  
  
---   

## **v8 issue:4964**  
   
**[Issue: Illegal access with ArrayBuffer.prototype.slice and detached buffer](https://crbug.com/v8/4964)**  
**[Commit: Add checks for detached ArrayBuffers to ArrayBuffer.prototype.slice](https://chromium.googlesource.com/v8/v8/+/3d66e5d)**  
  
Date(Commit): Thu Apr 28 22:50:56 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1929123002](https://codereview.chromium.org/1929123002)  
Regress: [mjsunit/regress/regress-4964.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4964.js)  
```javascript
var ab = new ArrayBuffer(10);
ab.constructor = { get [Symbol.species]() { %ArrayBufferDetach(ab); return ArrayBuffer; } };
assertThrows(() => ab.slice(0), TypeError);


class DetachedArrayBuffer extends ArrayBuffer {
  constructor(...args) {
    super(...args);
    %ArrayBufferDetach(this);
  }
}

var ab2 = new ArrayBuffer(10);
ab2.constructor = DetachedArrayBuffer;
assertThrows(() => ab2.slice(0), TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3d66e5d^!)  
[src/js/arraybuffer.js](https://cs.chromium.org/chromium/src/v8/src/js/arraybuffer.js?cl=3d66e5d)  
[src/messages.h](https://cs.chromium.org/chromium/src/v8/src/messages.h?cl=3d66e5d)  
[src/runtime/runtime-typedarray.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-typedarray.cc?cl=3d66e5d)  
[test/cctest/interpreter/bytecode_expectations/ForOf.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/ForOf.golden?cl=3d66e5d)  
[test/cctest/interpreter/bytecode_expectations/Generators.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/Generators.golden?cl=3d66e5d)  
[test/cctest/interpreter/bytecode_expectations/IfConditions.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/IfConditions.golden?cl=3d66e5d)  
[test/mjsunit/regress/regress-353004.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-353004.js?cl=3d66e5d)  
[test/mjsunit/regress/regress-4964.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4964.js?cl=3d66e5d)  
  
---   

## **v8 issue:4945**  
   
**[Issue: Fix "in" operator parsing.](https://crbug.com/v8/4945)**  
**[Commit: Forward accept_IN to ParseYieldExpression](https://chromium.googlesource.com/v8/v8/+/967a046)**  
  
Date(Commit): Tue Apr 26 17:24:49 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1916183003](https://codereview.chromium.org/1916183003)  
Regress: [mjsunit/regress/regress-4945.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4945.js)  
```javascript
function* g(o) {
  yield 'x' in o;
}

assertTrue(g({x: 1}).next().value);
assertFalse(g({}).next().value);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/967a046^!)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=967a046)  
[test/cctest/test-parsing.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-parsing.cc?cl=967a046)  
[test/mjsunit/regress/regress-4945.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4945.js?cl=967a046)  
  
---   

## **v8 issue:4908**  
   
**[Issue: Crash related to arrow function parameters](https://crbug.com/v8/4908)**  
**[Commit: More accurately record an end position for default parameters in arrows](https://chromium.googlesource.com/v8/v8/+/e96cbdc)**  
  
Date(Commit): Wed Apr 20 20:49:16 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1900343002](https://codereview.chromium.org/1900343002)  
Regress: [mjsunit/regress/regress-4908.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4908.js)  
```javascript
(function() { ((s = 17, y = s) => s)() })();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e96cbdc^!)  
[src/parsing/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.cc?cl=e96cbdc)  
[src/parsing/parser.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.h?cl=e96cbdc)  
[test/mjsunit/regress/regress-4908.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4908.js?cl=e96cbdc)  
  
---   

## **v8 issue:4759**  
   
**[Issue: Rest element does not accept valid user-defined iterables](https://crbug.com/v8/4759)**  
**[Commit: Fix treatment of rest pattern in array destructuring.](https://chromium.googlesource.com/v8/v8/+/4edf16d)**  
  
Date(Commit): Tue Apr 05 08:56:51 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1852703002](https://codereview.chromium.org/1852703002)  
Regress: [mjsunit/es6/regress/regress-4759.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4759.js)  
```javascript
function iterable(done) {
  return {
    [Symbol.iterator]: function() {
      return {
        next: function() {
          if (done) return { done: true };
          done = true;
          return { value: 42, done: false };
        }
      }
    }
  }
}

var [...result] = iterable(true);
assertEquals([], result);

var [...result] = iterable(false);
assertEquals([42], result);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4edf16d^!)  
[src/contexts.h](https://cs.chromium.org/chromium/src/v8/src/contexts.h?cl=4edf16d)  
[src/js/runtime.js](https://cs.chromium.org/chromium/src/v8/src/js/runtime.js?cl=4edf16d)  
[src/parsing/pattern-rewriter.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/pattern-rewriter.cc?cl=4edf16d)  
[test/cctest/interpreter/bytecode_expectations/CallRuntime.golden](https://cs.chromium.org/chromium/src/v8/test/cctest/interpreter/bytecode_expectations/CallRuntime.golden?cl=4edf16d)  
[test/mjsunit/es6/regress/regress-4759.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-4759.js?cl=4edf16d)  
  
---   

## **v8 issue:4839**  
   
**[Issue: Ember.js 2.4.x (only on v8) crash: May be inlining related](https://crbug.com/v8/4839)**  
**[Commit: [crankshaft] Fix inlining to always connect both branches of test context.](https://chromium.googlesource.com/v8/v8/+/c2e82d6)**  
  
Date(Commit): Thu Mar 17 10:00:21 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1811693002](https://codereview.chromium.org/1811693002)  
Regress: [mjsunit/regress/regress-v8-4839.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-v8-4839.js)  
```javascript
function dummy() { }

(function InlinedFunctionTestContext() {
  var f = function() { }

  function g() {
   var s = "hey";
   dummy();  
   if (f()) return s;
  }

  g();
  g();
  g();
  %OptimizeFunctionOnNextCall(g);
  f = function() { return true; }
  assertEquals("hey", g());
})();

(function InlinedConstructorReturnTestContext() {
  function c() { return 1; }

  var f = function() { return !(new c());  }

  function g() {
   var s = "hey";
   dummy();  
   if (f()) return s;
  }

  g();
  g();
  g();
  %OptimizeFunctionOnNextCall(g);
  f = function() { return true; }
  assertEquals("hey", g());
})();

(function InlinedConstructorNoReturnTestContext() {
  function c() { }

  var f = function() { return !(new c());  }

  function g() {
   var s = "hey";
   dummy();  
   if (f()) return s;
  }

  g();
  g();
  g();
  %OptimizeFunctionOnNextCall(g);
  f = function() { return true; }
  assertEquals("hey", g());
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c2e82d6^!)  
[src/crankshaft/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.cc?cl=c2e82d6)  
[test/mjsunit/regress/regress-v8-4839.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-v8-4839.js?cl=c2e82d6)  
  
---   

## **v8 issue:4825**  
   
**[Issue: ElementsAccessor::CollectElementIndices() gets wrong results for SLOW_SLOPPY_ARGUMENTS_ELEMENTS](https://crbug.com/v8/4825)**  
**[Commit: [runtime] fix getting element keys from SLOW_SLOPPY_ARGUMENTS_ELEMENTS](https://chromium.googlesource.com/v8/v8/+/3088979)**  
  
Date(Commit): Mon Mar 14 17:10:50 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1778023004](https://codereview.chromium.org/1778023004)  
Regress: [mjsunit/regress/regress-4825.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4825.js)  
```javascript
function enumerate(o) {
  var keys = [];
  for (var key in o) keys.push(key);
  return keys;
}

(function testSlowSloppyArgumentsElements()  {
  function slowSloppyArguments(a, b, c) {
    %HeapObjectVerify(arguments);
    arguments[10000] = "last";
    arguments[4000] = "first";
    arguments[6000] = "second";
    arguments[5999] = "x";
    arguments[3999] = "y";
    %HeapObjectVerify(arguments);
    return arguments;
  }
  assertEquals(["0", "1", "2", "3999", "4000", "5999", "6000", "10000"],
               Object.keys(slowSloppyArguments(1, 2, 3)));

  assertEquals(["0", "1", "2", "3999", "4000", "5999", "6000", "10000"],
               enumerate(slowSloppyArguments(1,2,3)));
})();

(function testSlowSloppyArgumentsElementsNotEnumerable() {
  function slowSloppyArguments(a, b, c) {
    Object.defineProperty(arguments, 10000, {
      enumerable: false, configurable: false, value: "NOPE"
    });
    %HeapObjectVerify(arguments);
    arguments[4000] = "first";
    arguments[6000] = "second";
    arguments[5999] = "x";
    arguments[3999] = "y";
    %HeapObjectVerify(arguments);
    return arguments;
  }

  assertEquals(["0", "1", "2", "3999", "4000", "5999", "6000"],
               Object.keys(slowSloppyArguments(1, 2, 3)));

  assertEquals(["0", "1", "2", "3999", "4000", "5999", "6000"],
                enumerate(slowSloppyArguments(1,2,3)));
})();


(function testFastSloppyArgumentsElements()  {
  function fastSloppyArguments(a, b, c) {
    arguments[5] = 1;
    arguments[7] = 0;
    arguments[3] = 2;
    %HeapObjectVerify(arguments);
    return arguments;
  }
  assertEquals(["0", "1", "2", "3", "5", "7"],
               Object.keys(fastSloppyArguments(1, 2, 3)));

  assertEquals(
      ["0", "1", "2", "3", "5", "7"], enumerate(fastSloppyArguments(1, 2, 3)));

  function fastSloppyArguments2(a, b, c) {
    delete arguments[0];
    %DebugPrint(arguments);
    %HeapObjectVerify(arguments);
    arguments[0] = "test";
    %DebugPrint(arguments);
    %HeapObjectVerify(arguments);
    return arguments;
  }

  assertEquals(["0", "1", "2"], Object.keys(fastSloppyArguments2(1, 2, 3)));
  assertEquals(["0", "1", "2"], enumerate(fastSloppyArguments2(1, 2, 3)));
})();

(function testFastSloppyArgumentsElementsNotEnumerable() {
  function fastSloppyArguments(a, b, c) {
    Object.defineProperty(arguments, 5, {
      enumerable: false, configurable: false, value: "NOPE"
    });
    %HeapObjectVerify(arguments);
    arguments[7] = 0;
    arguments[3] = 2;
    %HeapObjectVerify(arguments);
    return arguments;
  }
  assertEquals(
      ["0", "1", "2", "3", "7"], Object.keys(fastSloppyArguments(1, 2, 3)));

  assertEquals(
      ["0", "1", "2", "3", "7"], enumerate(fastSloppyArguments(1,2,3)));

  function fastSloppyArguments2(a, b, c) {
    delete arguments[0];
    %HeapObjectVerify(arguments);
    Object.defineProperty(arguments, 1, {
      enumerable: false, configurable: false, value: "NOPE"
    });
    arguments[0] = "test";
    %HeapObjectVerify(arguments);
    return arguments;
  }

  assertEquals(["0", "2"], Object.keys(fastSloppyArguments2(1, 2, 3)));
  assertEquals(["0", "2"], enumerate(fastSloppyArguments2(1, 2, 3)));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3088979^!)  
[src/elements.cc](https://cs.chromium.org/chromium/src/v8/src/elements.cc?cl=3088979)  
[test/mjsunit/regress/regress-4825.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4825.js?cl=3088979)  
  
---   

## **v8 issue:4800**  
   
**[Issue: ARM/ARM64: some double registers are corrupted after deopt or stub failure](https://crbug.com/v8/4800)**  
**[Commit: [arm/arm64][stubs] Fix d16-d31 preservation on stub failure](https://chromium.googlesource.com/v8/v8/+/32b3d3e)**  
  
Date(Commit): Wed Mar 09 17:36:07 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1769833006](https://codereview.chromium.org/1769833006)  
Regress: [mjsunit/regress/regress-4800.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4800.js)  
```javascript
function f(x, len) {
  var distraction = [];
  var result = new Array(25);

  
  var d0 = x + 0.5;
  var d1 = x + 1.5;
  var d2 = x + 2.5;
  var d3 = x + 3.5;
  var d4 = x + 4.5;
  var d5 = x + 5.5;
  var d6 = x + 6.5;
  var d7 = x + 7.5;
  var d8 = x + 8.5;
  var d9 = x + 9.5;
  var d10 = x + 10.5;
  var d11 = x + 11.5;
  var d12 = x + 12.5;
  var d13 = x + 13.5;
  var d14 = x + 14.5;
  var d15 = x + 15.5;
  var d16 = x + 16.5;
  var d17 = x + 17.5;
  var d18 = x + 18.5;
  var d19 = x + 19.5;
  var d20 = x + 20.5;
  var d21 = x + 21.5;
  var d22 = x + 22.5;
  var d23 = x + 23.5;
  var d24 = x + 24.5;

  
  distraction[len] = 0;

  
  result[0] = d0;
  result[1] = d1;
  result[2] = d2;
  result[3] = d3;
  result[4] = d4;
  result[5] = d5;
  result[6] = d6;
  result[7] = d7;
  result[8] = d8;
  result[9] = d9;
  result[10] = d10;
  result[11] = d11;
  result[12] = d12;
  result[13] = d13;
  result[14] = d14;
  result[15] = d15;
  result[16] = d16;
  result[17] = d17;
  result[18] = d18;
  result[19] = d19;
  result[20] = d20;
  result[21] = d21;
  result[22] = d22;
  result[23] = d23;
  result[24] = d24;

  for (var i = 0; i < result.length; i++) {
    assertEquals(x + i + 0.5, result[i]);
  }
}

f(0, 10);
f(0, 10);
%OptimizeFunctionOnNextCall(f);
f(0, 80000);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/32b3d3e^!)  
[src/arm/deoptimizer-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/deoptimizer-arm.cc?cl=32b3d3e)  
[src/arm64/deoptimizer-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/deoptimizer-arm64.cc?cl=32b3d3e)  
[test/mjsunit/regress/regress-4800.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4800.js?cl=32b3d3e)  
  
---   

## **v8 issue:4769**  
   
**[Issue: Builtins that should not rely on iteration do.](https://crbug.com/v8/4769)**  
**[Commit: [json] Fix iteration over object keys in InternalizeJSONProperty.](https://chromium.googlesource.com/v8/v8/+/0ad4459)**  
  
Date(Commit): Tue Mar 01 11:53:28 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1748633002](https://codereview.chromium.org/1748633002)  
Regress: [mjsunit/regress/regress-4769.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4769.js)  
```javascript
Object.getPrototypeOf([])[Symbol.iterator] = () => assertUnreachable();

JSON.stringify({foo: [42]});
JSON.stringify({foo: [42]}, []);
JSON.stringify({foo: [42]}, undefined, ' ');
JSON.stringify({foo: [42]}, [], ' ');  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0ad4459^!)  
[src/js/json.js](https://cs.chromium.org/chromium/src/v8/src/js/json.js?cl=0ad4459)  
[test/mjsunit/regress/regress-4769.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4769.js?cl=0ad4459)  
  
---   

## **v8 issue:4788**  
   
**[Issue: No Permission](https://crbug.com/v8/4788)**  
**[Commit: [turbofan] Don't use the CompareIC in JSGenericLowering.](https://chromium.googlesource.com/v8/v8/+/d00da47)**  
  
Date(Commit): Fri Feb 26 18:41:35 2016  
Type: None  
Code Review: [https://codereview.chromium.org/1738153002](https://codereview.chromium.org/1738153002)  
Regress: [mjsunit/regress/regress-4788-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4788-1.js), [mjsunit/regress/regress-4788-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4788-2.js)  
```javascript
var f = (function() {
  "use asm";
  function foo(x) {
    return x == 0;
  }
  return foo;
})();

function deopt(f) {
  return {
    toString : function() {
      %DeoptimizeFunction(f);
      return "2";
    }
  };
}

%OptimizeFunctionOnNextCall(f);
assertFalse(f(deopt(f)));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d00da47^!)  
[src/arm/code-stubs-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/code-stubs-arm.cc?cl=d00da47)  
[src/arm64/code-stubs-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/code-stubs-arm64.cc?cl=d00da47)  
[src/compiler/js-generic-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-generic-lowering.cc?cl=d00da47)  
[src/compiler/js-generic-lowering.h](https://cs.chromium.org/chromium/src/v8/src/compiler/js-generic-lowering.h?cl=d00da47)  
[src/ia32/code-stubs-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/code-stubs-ia32.cc?cl=d00da47)  
[src/interpreter/interpreter.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/interpreter.cc?cl=d00da47)  
[src/mips/code-stubs-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/code-stubs-mips.cc?cl=d00da47)  
[src/mips64/code-stubs-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/code-stubs-mips64.cc?cl=d00da47)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=d00da47)  
[src/runtime/runtime-interpreter.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-interpreter.cc?cl=d00da47)  
[src/runtime/runtime-operators.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-operators.cc?cl=d00da47)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=d00da47)  
[src/x64/code-stubs-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/code-stubs-x64.cc?cl=d00da47)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=d00da47)  
[test/mjsunit/regress/regress-4788-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4788-1.js?cl=d00da47)  
[test/mjsunit/regress/regress-4788-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4788-2.js?cl=d00da47)  
[test/unittests/runtime/runtime-interpreter-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/runtime/runtime-interpreter-unittest.cc?cl=d00da47)  
  
---   

## **v8 issue:4659**  
   
**[Issue: AstValueFactory::GetString() should handle String::FlatContent::NON_FLAT](https://crbug.com/v8/4659)**  
**[Commit: Force SharedFunctionInfo::name() to be a flat string](https://chromium.googlesource.com/v8/v8/+/58a9bc5)**  
  
Date(Commit): Thu Feb 11 18:53:02 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1686193003](https://codereview.chromium.org/1686193003)  
Regress: [mjsunit/regress/regress-4659.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4659.js)  
```javascript
var obj = {
  get longerName(){
    return 42;
  }
};
assertEquals(42, obj.longerName);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/58a9bc5^!)  
[src/factory.cc](https://cs.chromium.org/chromium/src/v8/src/factory.cc?cl=58a9bc5)  
[test/mjsunit/regress/regress-4659.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4659.js?cl=58a9bc5)  
  
---   

## **v8 issue:4654**  
   
**[Issue: Unicode normalization omits NUL characters and anything after them in the string](https://crbug.com/v8/4654)**  
**[Commit: Fix Unicode string normalization with null bytes](https://chromium.googlesource.com/v8/v8/+/f3e41d9)**  
  
Date(Commit): Fri Jan 29 17:00:46 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1645223003](https://codereview.chromium.org/1645223003)  
Regress: [mjsunit/regress/regress-4654.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4654.js)  
```javascript
assertEquals('hello\u0000foobar', 'hello\u0000foobar'.normalize('NFC'));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f3e41d9^!)  
[src/runtime/runtime-i18n.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-i18n.cc?cl=f3e41d9)  
[test/mjsunit/regress/regress-4654.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4654.js?cl=f3e41d9)  
  
---   

## **v8 issue:4715**  
   
**[Issue: For-In is broken in Crankshaft](https://crbug.com/v8/4715)**  
**[Commit: [crankshaft] Make the for-in slow path compatible with the other compilers.](https://chromium.googlesource.com/v8/v8/+/3251a03)**  
  
Date(Commit): Fri Jan 29 07:50:51 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1650493002](https://codereview.chromium.org/1650493002)  
Regress: [mjsunit/regress/regress-4715.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4715.js)  
```javascript
var training = {};
training.a = "nop";
training.slow = "nop";
delete training.slow;  

var keepalive = {};
keepalive.a = "nop";  

function GetReal() {
  var r = {};
  r.a = "nop";
  r.b = "nop";
  r.c = "dictionarize",
  r.d = "gc";
  r.e = "result";
  return r;
};

function SideEffect(object, action) {
  if (action === "dictionarize") {
    delete object.a;
  } else if (action === "gc") {
    gc();
  }
}

function foo(object) {
  for (var key in object) {
    SideEffect(object, object[key]);
  }
  return key;
}


foo(training);
SideEffect({a: 0}, "dictionarize");
SideEffect({}, "gc");


%OptimizeFunctionOnNextCall(foo);

assertEquals("e", foo(GetReal()));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3251a03^!)  
[src/crankshaft/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.cc?cl=3251a03)  
[test/mjsunit/regress/regress-4715.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4715.js?cl=3251a03)  
  
---   

## **v8 issue:4693**  
   
**[Issue: Block-scoped sloppy mode function declaration issue with Cisco Spark](https://crbug.com/v8/4693)**  
**[Commit: Sloppy mode webcompat: allow conflicting function declarations in blocks](https://chromium.googlesource.com/v8/v8/+/8aeb608)**  
  
Date(Commit): Sat Jan 23 00:40:53 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1622723003](https://codereview.chromium.org/1622723003)  
Regress: [mjsunit/regress/regress-4693.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4693.js)  
```javascript
(function() {
  assertEquals(undefined, f);  
  if (true) {
    assertEquals(2, f());
    function f() { return 1 }
    assertEquals(2, f());
    function f() { return 2 }
    assertEquals(2, f());
  }
  assertEquals(2, f());  
})();


assertThrows(`
  (function() {
    "use strict";
    if (true) {
      function f() { return 1 }
      function f() { return 2 }
    }
  })();
`, SyntaxError);


assertThrows(`
  (function() {
    if (true) {
      let f;
      function f() { return 2 }
    }
  })();
`, SyntaxError);

assertThrows(`
  (function() {
    if (true) {
      function f() { return 2 }
      let f;
    }
  })();
`, SyntaxError);


assertThrows(`
  (function() {
    if (true) {
      const f;
      function f() { return 2 }
    }
  })();
`, SyntaxError);

assertThrows(`
  (function() {
    if (true) {
      function f() { return 2 }
      const f;
    }
  })();
`, SyntaxError);


(function() {
  assertEquals(undefined, f);  
  if (true) {
    assertEquals(undefined, f);
    { function f() { return 1 } }
    assertEquals(1, f());
    { function f() { return 2 } }
    assertEquals(2, f());
  }
  assertEquals(2, f());  
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8aeb608^!)  
[src/parsing/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.cc?cl=8aeb608)  
[test/mjsunit/regress/regress-4693.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4693.js?cl=8aeb608)  
[test/test262/test262.status](https://cs.chromium.org/chromium/src/v8/test/test262/test262.status?cl=8aeb608)  
  
---   

## **v8 issue:3650**  
   
**[Issue: for x in y de-optimizations](https://crbug.com/v8/3650)**  
**[Commit: [crankshaft] For-in index increment cannot overflow.](https://chromium.googlesource.com/v8/v8/+/c7d2adc)**  
  
Date(Commit): Fri Jan 22 07:55:11 2016  
Type: FeatureRequest  
Code Review: [https://codereview.chromium.org/1621623002](https://codereview.chromium.org/1621623002)  
Regress: [mjsunit/regress/regress-3650-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3650-1.js), [mjsunit/regress/regress-3650-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3650-2.js), [mjsunit/regress/regress-3650-3.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3650-3.js)  
```javascript
function f(t) {
  var result = [];
  for (var i in t) {
    for (var j in t) {
      result.push(i + j + t[i] + t[j]);
      continue;
    }
  }
  return result.join('');
}

var t = {a: "1", b: "2"};
assertEquals("aa11ab12ba21bb22", f(t));
%OptimizeFunctionOnNextCall(f);
assertEquals("aa11ab12ba21bb22", f(t));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c7d2adc^!)  
[src/crankshaft/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen.cc?cl=c7d2adc)  
[test/mjsunit/regress/regress-3650-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3650-1.js?cl=c7d2adc)  
  
---   

## **v8 issue:4267**  
   
**[Issue: Array length reduction should throw in strict mode if it can't delete an element](https://crbug.com/v8/4267)**  
**[Commit: Array length reduction should throw in strict mode if it can't delete an element.](https://chromium.googlesource.com/v8/v8/+/1d3e837)**  
  
Date(Commit): Thu Jan 21 14:23:09 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1587073003](https://codereview.chromium.org/1587073003)  
Regress: [mjsunit/regress/regress-4267.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4267.js)  
```javascript
"use strict";

var a = [];
Object.defineProperty(a, "0", {configurable: false, value: 10});
assertEquals(1, a.length);
var setter = ()=>{ a.length = 0; };
assertThrows(setter);
assertThrows(setter);
%OptimizeFunctionOnNextCall(setter);
assertThrows(setter);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1d3e837^!)  
[include/v8.h](https://cs.chromium.org/chromium/src/v8/include/v8.h?cl=1d3e837)  
[src/accessors.cc](https://cs.chromium.org/chromium/src/v8/src/accessors.cc?cl=1d3e837)  
[src/arguments.cc](https://cs.chromium.org/chromium/src/v8/src/arguments.cc?cl=1d3e837)  
[src/arguments.h](https://cs.chromium.org/chromium/src/v8/src/arguments.h?cl=1d3e837)  
[src/arm/code-stubs-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/code-stubs-arm.cc?cl=1d3e837)  
[src/arm/macro-assembler-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.h?cl=1d3e837)  
[src/arm64/code-stubs-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/code-stubs-arm64.cc?cl=1d3e837)  
[src/ia32/code-stubs-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/code-stubs-ia32.cc?cl=1d3e837)  
[src/ic/arm/handler-compiler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/ic/arm/handler-compiler-arm.cc?cl=1d3e837)  
[src/ic/arm64/handler-compiler-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/ic/arm64/handler-compiler-arm64.cc?cl=1d3e837)  
[src/ic/handler-compiler.h](https://cs.chromium.org/chromium/src/v8/src/ic/handler-compiler.h?cl=1d3e837)  
[src/ic/ia32/handler-compiler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ic/ia32/handler-compiler-ia32.cc?cl=1d3e837)  
[src/ic/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic/ic.cc?cl=1d3e837)  
[src/ic/mips/handler-compiler-mips.cc](https://cs.chromium.org/chromium/src/v8/src/ic/mips/handler-compiler-mips.cc?cl=1d3e837)  
[src/ic/mips64/handler-compiler-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/ic/mips64/handler-compiler-mips64.cc?cl=1d3e837)  
[src/ic/ppc/handler-compiler-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/ic/ppc/handler-compiler-ppc.cc?cl=1d3e837)  
[src/ic/x64/handler-compiler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/ic/x64/handler-compiler-x64.cc?cl=1d3e837)  
[src/ic/x87/handler-compiler-x87.cc](https://cs.chromium.org/chromium/src/v8/src/ic/x87/handler-compiler-x87.cc?cl=1d3e837)  
[src/mips/code-stubs-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/code-stubs-mips.cc?cl=1d3e837)  
[src/mips64/code-stubs-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/code-stubs-mips64.cc?cl=1d3e837)  
[src/objects-printer.cc](https://cs.chromium.org/chromium/src/v8/src/objects-printer.cc?cl=1d3e837)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=1d3e837)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=1d3e837)  
[src/ppc/code-stubs-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/ppc/code-stubs-ppc.cc?cl=1d3e837)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=1d3e837)  
[src/x64/code-stubs-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/code-stubs-x64.cc?cl=1d3e837)  
[src/x87/code-stubs-x87.cc](https://cs.chromium.org/chromium/src/v8/src/x87/code-stubs-x87.cc?cl=1d3e837)  
[test/cctest/test-api.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-api.cc?cl=1d3e837)  
[test/mjsunit/regress/regress-4267.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4267.js?cl=1d3e837)  
  
---   

## **v8 issue:4696**  
   
**[Issue: Spread rewriting doesn't work well](https://crbug.com/v8/4696)**  
**[Commit: Fix bug with spread rewriting](https://chromium.googlesource.com/v8/v8/+/52a01ae)**  
  
Date(Commit): Thu Jan 21 12:16:20 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1617713002](https://codereview.chromium.org/1617713002)  
Regress: [mjsunit/harmony/regress/regress-4696.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/harmony/regress/regress-4696.js)  
```javascript
(function testSpreadIndex() {
  var result = [...[17, 42]][1];
  assertEquals(result, 42);
})();

(function testSpreadProperty() {
  var result = [...[17, 42]].length;
  assertEquals(result, 2);
})();

(function testSpreadMethodCall() {
  var result = [...[17, 42]].join("+");
  assertEquals(result, "17+42");
})();

(function testSpreadSavedMethodCall() {
  var x = [...[17, 42]];
  var method = x.join;
  var result = method.call(x, "+");
  assertEquals(result, "17+42");
})();

(function testSpreadAsTemplateTag() {
  assertThrows(function() { [...[17, 42]] `foo`; }, TypeError)
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/52a01ae^!)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=52a01ae)  
[test/mjsunit/harmony/regress/regress-4696.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-4696.js?cl=52a01ae)  
  
---   

## **v8 issue:4509**  
   
**[Issue: Classes: type error in derived constructor returning non-undefined primitive value created in callee rather than caller context (and hence realm)](https://crbug.com/v8/4509)**  
**[Commit: [runtime] Throw exception for derived constructors in correct context.](https://chromium.googlesource.com/v8/v8/+/c86f189)**  
  
Date(Commit): Fri Jan 15 15:31:28 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1593553002](https://codereview.chromium.org/1593553002)  
Regress: [mjsunit/regress/regress-4509-Class-constructor-typeerror-realm.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4509-Class-constructor-typeerror-realm.js)  
```javascript
"use strict";
var realm = Realm.create();
var OtherTypeError = Realm.eval(realm, 'TypeError');

class Derived extends Object {
  constructor() {
    return null;
  }
}

assertThrows(() => { new Derived() }, TypeError);

var OtherDerived = Realm.eval(realm,
   "'use strict';" +
   "class Derived extends Object {" +
      "constructor() {" +
        "return null;" +
      "}};");


assertThrows(() => { new OtherDerived() }, TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c86f189^!)  
[src/arm/builtins-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/builtins-arm.cc?cl=c86f189)  
[src/arm64/builtins-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/builtins-arm64.cc?cl=c86f189)  
[src/builtins.h](https://cs.chromium.org/chromium/src/v8/src/builtins.h?cl=c86f189)  
[src/ia32/builtins-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/builtins-ia32.cc?cl=c86f189)  
[src/mips/builtins-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/builtins-mips.cc?cl=c86f189)  
[src/mips64/builtins-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/builtins-mips64.cc?cl=c86f189)  
[src/parsing/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.cc?cl=c86f189)  
[src/ppc/builtins-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/ppc/builtins-ppc.cc?cl=c86f189)  
[src/runtime/runtime-classes.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-classes.cc?cl=c86f189)  
[src/runtime/runtime-internal.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-internal.cc?cl=c86f189)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=c86f189)  
[src/x64/builtins-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/builtins-x64.cc?cl=c86f189)  
[src/x87/builtins-x87.cc](https://cs.chromium.org/chromium/src/v8/src/x87/builtins-x87.cc?cl=c86f189)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=c86f189)  
[test/mjsunit/regress/regress-4509-Class-constructor-typeerror-realm.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4509-Class-constructor-typeerror-realm.js?cl=c86f189)  
  
---   

## **v8 issue:4665**  
   
**[Issue: "Uncaught TypeError: this is not a typed array" thrown when modifying prototype](https://crbug.com/v8/4665)**  
**[Commit: Construct instances of base class from TypedArray.prototype.subarray](https://chromium.googlesource.com/v8/v8/+/e13f2ff)**  
  
Date(Commit): Thu Jan 14 19:23:26 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1583773005](https://codereview.chromium.org/1583773005)  
Regress: [mjsunit/regress/regress-4665.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4665.js)  
```javascript
function FirstBuffer () {}
FirstBuffer.prototype.__proto__ = Uint8Array.prototype
FirstBuffer.__proto__ = Uint8Array

var buf = new Uint8Array(10)
buf.__proto__ = FirstBuffer.prototype

assertThrows(() => buf.subarray(2), TypeError);



let seen_args = [];

function SecondBuffer (arg) {
  seen_args.push(arg);
  var arr = new Uint8Array(arg)
  arr.__proto__ = SecondBuffer.prototype
  return arr
}
SecondBuffer.prototype.__proto__ = Uint8Array.prototype
SecondBuffer.__proto__ = Uint8Array

var buf3 = new SecondBuffer(10)
assertEquals([10], seen_args);

var buf4 = buf3.subarray(2)

assertEquals(10, buf4.length);
assertEquals([10, buf3.buffer], seen_args);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e13f2ff^!)  
[src/js/typedarray.js](https://cs.chromium.org/chromium/src/v8/src/js/typedarray.js?cl=e13f2ff)  
[test/mjsunit/es6/legacy-subclassing.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/legacy-subclassing.js?cl=e13f2ff)  
[test/mjsunit/regress/regress-4665.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4665.js?cl=e13f2ff)  
  
---   

## **v8 issue:4577**  
   
**[Issue: Lexical variables named "arguments" erroneously disallowed in sloppy mode](https://crbug.com/v8/4577)**  
**[Commit: Add test showing broken-ness of non-simple parameter named 'arguments'](https://chromium.googlesource.com/v8/v8/+/067c27b)**  
  
Date(Commit): Fri Jan 08 20:29:46 2016  
Type: Bug  
Code Review: [https://codereview.chromium.org/1576503002](https://codereview.chromium.org/1576503002)  
Regress: [mjsunit/regress/regress-4577.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4577.js)  
```javascript
function f(...arguments) {
  return Array.isArray(arguments);
}
assertTrue(f());

function g({arguments}) {
  return arguments === 42;
}
assertTrue(g({arguments: 42}));

function foo() {
  let arguments = 2;
  return arguments;
}
assertEquals(2, foo());

assertThrows(function(x = arguments, arguments) {}, ReferenceError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/067c27b^!)  
[test/mjsunit/bugs/bug-4577.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-4577.js?cl=067c27b)  
  
---   

## **v8 issue:4640**  
   
**[Issue: illegal access exception from Date strings](https://crbug.com/v8/4640)**  
**[Commit: Fix 'illegal access' in Date constructor edge case](https://chromium.googlesource.com/v8/v8/+/a9c7910)**  
  
Date(Commit): Wed Dec 30 23:54:59 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1545883003](https://codereview.chromium.org/1545883003)  
Regress: [mjsunit/regress/regress-4640.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4640.js)  
```javascript
assertTrue(new Date('275760-10-14') == 'Invalid Date');
assertTrue(new Date('275760-09-23') == 'Invalid Date');
assertTrue(new Date('+275760-09-24') == 'Invalid Date');
assertTrue(new Date('+275760-10-13') == 'Invalid Date');


assertTrue(new Date('275760-09-24') == 'Invalid Date');
assertTrue(new Date('275760-10-13') == 'Invalid Date');
assertTrue(new Date('+275760-10-13 ') == 'Invalid Date');


assertTrue(new Date('100000-10-13') != 'Invalid Date');
assertTrue(new Date('+100000-10-13') != 'Invalid Date');
assertTrue(new Date('+100000-10-13 ') != 'Invalid Date');  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a9c7910^!)  
[src/date.h](https://cs.chromium.org/chromium/src/v8/src/date.h?cl=a9c7910)  
[test/mjsunit/regress/regress-4640.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4640.js?cl=a9c7910)  
  
---   

## **v8 issue:4595**  
   
**[Issue: Performance regression in Chrome 47 / V8 4.7.80.23 on generated ES6 code](https://crbug.com/v8/4595)**  
**[Commit: Fix FuncNameInferrer usage in ParseAssignmentExpression](https://chromium.googlesource.com/v8/v8/+/eb67f85)**  
  
Date(Commit): Thu Dec 10 19:19:35 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1507283003](https://codereview.chromium.org/1507283003)  
Regress: [mjsunit/regress/regress-4595.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4595.js)  
```javascript
var obj = {
foo0: () => {},
foo1: () => {},
foo2: () => {},
foo3: () => {},
foo4: () => {},
foo5: () => {},
foo6: () => {},
foo7: () => {},
foo8: () => {},
foo9: () => {},
foo10: () => {},
foo11: () => {},
foo12: () => {},
foo13: () => {},
foo14: () => {},
foo15: () => {},
foo16: () => {},
foo17: () => {},
foo18: () => {},
foo19: () => {},
foo20: () => {},
foo21: () => {},
foo22: () => {},
foo23: () => {},
foo24: () => {},
foo25: () => {},
foo26: () => {},
foo27: () => {},
foo28: () => {},
foo29: () => {},
foo30: () => {},
foo31: () => {},
foo32: () => {},
foo33: () => {},
foo34: () => {},
foo35: () => {},
foo36: () => {},
foo37: () => {},
foo38: () => {},
foo39: () => {},
foo40: () => {},
foo41: () => {},
foo42: () => {},
foo43: () => {},
foo44: () => {},
foo45: () => {},
foo46: () => {},
foo47: () => {},
foo48: () => {},
foo49: () => {},
foo50: () => {},
foo51: () => {},
foo52: () => {},
foo53: () => {},
foo54: () => {},
foo55: () => {},
foo56: () => {},
foo57: () => {},
foo58: () => {},
foo59: () => {},
foo60: () => {},
foo61: () => {},
foo62: () => {},
foo63: () => {},
foo64: () => {},
foo65: () => {},
foo66: () => {},
foo67: () => {},
foo68: () => {},
foo69: () => {},
foo70: () => {},
foo71: () => {},
foo72: () => {},
foo73: () => {},
foo74: () => {},
foo75: () => {},
foo76: () => {},
foo77: () => {},
foo78: () => {},
foo79: () => {},
foo80: () => {},
foo81: () => {},
foo82: () => {},
foo83: () => {},
foo84: () => {},
foo85: () => {},
foo86: () => {},
foo87: () => {},
foo88: () => {},
foo89: () => {},
foo90: () => {},
foo91: () => {},
foo92: () => {},
foo93: () => {},
foo94: () => {},
foo95: () => {},
foo96: () => {},
foo97: () => {},
foo98: () => {},
foo99: () => {},
foo100: () => {},
foo101: () => {},
foo102: () => {},
foo103: () => {},
foo104: () => {},
foo105: () => {},
foo106: () => {},
foo107: () => {},
foo108: () => {},
foo109: () => {},
foo110: () => {},
foo111: () => {},
foo112: () => {},
foo113: () => {},
foo114: () => {},
foo115: () => {},
foo116: () => {},
foo117: () => {},
foo118: () => {},
foo119: () => {},
foo120: () => {},
foo121: () => {},
foo122: () => {},
foo123: () => {},
foo124: () => {},
foo125: () => {},
foo126: () => {},
foo127: () => {},
foo128: () => {},
foo129: () => {},
foo130: () => {},
foo131: () => {},
foo132: () => {},
foo133: () => {},
foo134: () => {},
foo135: () => {},
foo136: () => {},
foo137: () => {},
foo138: () => {},
foo139: () => {},
foo140: () => {},
foo141: () => {},
foo142: () => {},
foo143: () => {},
foo144: () => {},
foo145: () => {},
foo146: () => {},
foo147: () => {},
foo148: () => {},
foo149: () => {},
foo150: () => {},
foo151: () => {},
foo152: () => {},
foo153: () => {},
foo154: () => {},
foo155: () => {},
foo156: () => {},
foo157: () => {},
foo158: () => {},
foo159: () => {},
foo160: () => {},
foo161: () => {},
foo162: () => {},
foo163: () => {},
foo164: () => {},
foo165: () => {},
foo166: () => {},
foo167: () => {},
foo168: () => {},
foo169: () => {},
foo170: () => {},
foo171: () => {},
foo172: () => {},
foo173: () => {},
foo174: () => {},
foo175: () => {},
foo176: () => {},
foo177: () => {},
foo178: () => {},
foo179: () => {},
foo180: () => {},
foo181: () => {},
foo182: () => {},
foo183: () => {},
foo184: () => {},
foo185: () => {},
foo186: () => {},
foo187: () => {},
foo188: () => {},
foo189: () => {},
foo190: () => {},
foo191: () => {},
foo192: () => {},
foo193: () => {},
foo194: () => {},
foo195: () => {},
foo196: () => {},
foo197: () => {},
foo198: () => {},
foo199: () => {},
foo200: () => {},
foo201: () => {},
foo202: () => {},
foo203: () => {},
foo204: () => {},
foo205: () => {},
foo206: () => {},
foo207: () => {},
foo208: () => {},
foo209: () => {},
foo210: () => {},
foo211: () => {},
foo212: () => {},
foo213: () => {},
foo214: () => {},
foo215: () => {},
foo216: () => {},
foo217: () => {},
foo218: () => {},
foo219: () => {},
foo220: () => {},
foo221: () => {},
foo222: () => {},
foo223: () => {},
foo224: () => {},
foo225: () => {},
foo226: () => {},
foo227: () => {},
foo228: () => {},
foo229: () => {},
foo230: () => {},
foo231: () => {},
foo232: () => {},
foo233: () => {},
foo234: () => {},
foo235: () => {},
foo236: () => {},
foo237: () => {},
foo238: () => {},
foo239: () => {},
foo240: () => {},
foo241: () => {},
foo242: () => {},
foo243: () => {},
foo244: () => {},
foo245: () => {},
foo246: () => {},
foo247: () => {},
foo248: () => {},
foo249: () => {},
foo250: () => {},
foo251: () => {},
foo252: () => {},
foo253: () => {},
foo254: () => {},
foo255: () => {},
foo256: () => {},
foo257: () => {},
foo258: () => {},
foo259: () => {},
foo260: () => {},
foo261: () => {},
foo262: () => {},
foo263: () => {},
foo264: () => {},
foo265: () => {},
foo266: () => {},
foo267: () => {},
foo268: () => {},
foo269: () => {},
foo270: () => {},
foo271: () => {},
foo272: () => {},
foo273: () => {},
foo274: () => {},
foo275: () => {},
foo276: () => {},
foo277: () => {},
foo278: () => {},
foo279: () => {},
foo280: () => {},
foo281: () => {},
foo282: () => {},
foo283: () => {},
foo284: () => {},
foo285: () => {},
foo286: () => {},
foo287: () => {},
foo288: () => {},
foo289: () => {},
foo290: () => {},
foo291: () => {},
foo292: () => {},
foo293: () => {},
foo294: () => {},
foo295: () => {},
foo296: () => {},
foo297: () => {},
foo298: () => {},
foo299: () => {},
foo300: () => {},
foo301: () => {},
foo302: () => {},
foo303: () => {},
foo304: () => {},
foo305: () => {},
foo306: () => {},
foo307: () => {},
foo308: () => {},
foo309: () => {},
foo310: () => {},
foo311: () => {},
foo312: () => {},
foo313: () => {},
foo314: () => {},
foo315: () => {},
foo316: () => {},
foo317: () => {},
foo318: () => {},
foo319: () => {},
foo320: () => {},
foo321: () => {},
foo322: () => {},
foo323: () => {},
foo324: () => {},
foo325: () => {},
foo326: () => {},
foo327: () => {},
foo328: () => {},
foo329: () => {},
foo330: () => {},
foo331: () => {},
foo332: () => {},
foo333: () => {},
foo334: () => {},
foo335: () => {},
foo336: () => {},
foo337: () => {},
foo338: () => {},
foo339: () => {},
foo340: () => {},
foo341: () => {},
foo342: () => {},
foo343: () => {},
foo344: () => {},
foo345: () => {},
foo346: () => {},
foo347: () => {},
foo348: () => {},
foo349: () => {},
foo350: () => {},
foo351: () => {},
foo352: () => {},
foo353: () => {},
foo354: () => {},
foo355: () => {},
foo356: () => {},
foo357: () => {},
foo358: () => {},
foo359: () => {},
foo360: () => {},
foo361: () => {},
foo362: () => {},
foo363: () => {},
foo364: () => {},
foo365: () => {},
foo366: () => {},
foo367: () => {},
foo368: () => {},
foo369: () => {},
foo370: () => {},
foo371: () => {},
foo372: () => {},
foo373: () => {},
foo374: () => {},
foo375: () => {},
foo376: () => {},
foo377: () => {},
foo378: () => {},
foo379: () => {},
foo380: () => {},
foo381: () => {},
foo382: () => {},
foo383: () => {},
foo384: () => {},
foo385: () => {},
foo386: () => {},
foo387: () => {},
foo388: () => {},
foo389: () => {},
foo390: () => {},
foo391: () => {},
foo392: () => {},
foo393: () => {},
foo394: () => {},
foo395: () => {},
foo396: () => {},
foo397: () => {},
foo398: () => {},
foo399: () => {},
foo400: () => {},
foo401: () => {},
foo402: () => {},
foo403: () => {},
foo404: () => {},
foo405: () => {},
foo406: () => {},
foo407: () => {},
foo408: () => {},
foo409: () => {},
foo410: () => {},
foo411: () => {},
foo412: () => {},
foo413: () => {},
foo414: () => {},
foo415: () => {},
foo416: () => {},
foo417: () => {},
foo418: () => {},
foo419: () => {},
foo420: () => {},
foo421: () => {},
foo422: () => {},
foo423: () => {},
foo424: () => {},
foo425: () => {},
foo426: () => {},
foo427: () => {},
foo428: () => {},
foo429: () => {},
foo430: () => {},
foo431: () => {},
foo432: () => {},
foo433: () => {},
foo434: () => {},
foo435: () => {},
foo436: () => {},
foo437: () => {},
foo438: () => {},
foo439: () => {},
foo440: () => {},
foo441: () => {},
foo442: () => {},
foo443: () => {},
foo444: () => {},
foo445: () => {},
foo446: () => {},
foo447: () => {},
foo448: () => {},
foo449: () => {},
foo450: () => {},
foo451: () => {},
foo452: () => {},
foo453: () => {},
foo454: () => {},
foo455: () => {},
foo456: () => {},
foo457: () => {},
foo458: () => {},
foo459: () => {},
foo460: () => {},
foo461: () => {},
foo462: () => {},
foo463: () => {},
foo464: () => {},
foo465: () => {},
foo466: () => {},
foo467: () => {},
foo468: () => {},
foo469: () => {},
foo470: () => {},
foo471: () => {},
foo472: () => {},
foo473: () => {},
foo474: () => {},
foo475: () => {},
foo476: () => {},
foo477: () => {},
foo478: () => {},
foo479: () => {},
foo480: () => {},
foo481: () => {},
foo482: () => {},
foo483: () => {},
foo484: () => {},
foo485: () => {},
foo486: () => {},
foo487: () => {},
foo488: () => {},
foo489: () => {},
foo490: () => {},
foo491: () => {},
foo492: () => {},
foo493: () => {},
foo494: () => {},
foo495: () => {},
foo496: () => {},
foo497: () => {},
foo498: () => {},
foo499: () => {},
foo500: () => {},
foo501: () => {},
foo502: () => {},
foo503: () => {},
foo504: () => {},
foo505: () => {},
foo506: () => {},
foo507: () => {},
foo508: () => {},
foo509: () => {},
foo510: () => {},
foo511: () => {},
foo512: () => {},
foo513: () => {},
foo514: () => {},
foo515: () => {},
foo516: () => {},
foo517: () => {},
foo518: () => {},
foo519: () => {},
foo520: () => {},
foo521: () => {},
foo522: () => {},
foo523: () => {},
foo524: () => {},
foo525: () => {},
foo526: () => {},
foo527: () => {},
foo528: () => {},
foo529: () => {},
foo530: () => {},
foo531: () => {},
foo532: () => {},
foo533: () => {},
foo534: () => {},
foo535: () => {},
foo536: () => {},
foo537: () => {},
foo538: () => {},
foo539: () => {},
foo540: () => {},
foo541: () => {},
foo542: () => {},
foo543: () => {},
foo544: () => {},
foo545: () => {},
foo546: () => {},
foo547: () => {},
foo548: () => {},
foo549: () => {},
foo550: () => {},
foo551: () => {},
foo552: () => {},
foo553: () => {},
foo554: () => {},
foo555: () => {},
foo556: () => {},
foo557: () => {},
foo558: () => {},
foo559: () => {},
foo560: () => {},
foo561: () => {},
foo562: () => {},
foo563: () => {},
foo564: () => {},
foo565: () => {},
foo566: () => {},
foo567: () => {},
foo568: () => {},
foo569: () => {},
foo570: () => {},
foo571: () => {},
foo572: () => {},
foo573: () => {},
foo574: () => {},
foo575: () => {},
foo576: () => {},
foo577: () => {},
foo578: () => {},
foo579: () => {},
foo580: () => {},
foo581: () => {},
foo582: () => {},
foo583: () => {},
foo584: () => {},
foo585: () => {},
foo586: () => {},
foo587: () => {},
foo588: () => {},
foo589: () => {},
foo590: () => {},
foo591: () => {},
foo592: () => {},
foo593: () => {},
foo594: () => {},
foo595: () => {},
foo596: () => {},
foo597: () => {},
foo598: () => {},
foo599: () => {},
foo600: () => {},
foo601: () => {},
foo602: () => {},
foo603: () => {},
foo604: () => {},
foo605: () => {},
foo606: () => {},
foo607: () => {},
foo608: () => {},
foo609: () => {},
foo610: () => {},
foo611: () => {},
foo612: () => {},
foo613: () => {},
foo614: () => {},
foo615: () => {},
foo616: () => {},
foo617: () => {},
foo618: () => {},
foo619: () => {},
foo620: () => {},
foo621: () => {},
foo622: () => {},
foo623: () => {},
foo624: () => {},
foo625: () => {},
foo626: () => {},
foo627: () => {},
foo628: () => {},
foo629: () => {},
foo630: () => {},
foo631: () => {},
foo632: () => {},
foo633: () => {},
foo634: () => {},
foo635: () => {},
foo636: () => {},
foo637: () => {},
foo638: () => {},
foo639: () => {},
foo640: () => {},
foo641: () => {},
foo642: () => {},
foo643: () => {},
foo644: () => {},
foo645: () => {},
foo646: () => {},
foo647: () => {},
foo648: () => {},
foo649: () => {},
foo650: () => {},
foo651: () => {},
foo652: () => {},
foo653: () => {},
foo654: () => {},
foo655: () => {},
foo656: () => {},
foo657: () => {},
foo658: () => {},
foo659: () => {},
foo660: () => {},
foo661: () => {},
foo662: () => {},
foo663: () => {},
foo664: () => {},
foo665: () => {},
foo666: () => {},
foo667: () => {},
foo668: () => {},
foo669: () => {},
foo670: () => {},
foo671: () => {},
foo672: () => {},
foo673: () => {},
foo674: () => {},
foo675: () => {},
foo676: () => {},
foo677: () => {},
foo678: () => {},
foo679: () => {},
foo680: () => {},
foo681: () => {},
foo682: () => {},
foo683: () => {},
foo684: () => {},
foo685: () => {},
foo686: () => {},
foo687: () => {},
foo688: () => {},
foo689: () => {},
foo690: () => {},
foo691: () => {},
foo692: () => {},
foo693: () => {},
foo694: () => {},
foo695: () => {},
foo696: () => {},
foo697: () => {},
foo698: () => {},
foo699: () => {},
foo700: () => {},
foo701: () => {},
foo702: () => {},
foo703: () => {},
foo704: () => {},
foo705: () => {},
foo706: () => {},
foo707: () => {},
foo708: () => {},
foo709: () => {},
foo710: () => {},
foo711: () => {},
foo712: () => {},
foo713: () => {},
foo714: () => {},
foo715: () => {},
foo716: () => {},
foo717: () => {},
foo718: () => {},
foo719: () => {},
foo720: () => {},
foo721: () => {},
foo722: () => {},
foo723: () => {},
foo724: () => {},
foo725: () => {},
foo726: () => {},
foo727: () => {},
foo728: () => {},
foo729: () => {},
foo730: () => {},
foo731: () => {},
foo732: () => {},
foo733: () => {},
foo734: () => {},
foo735: () => {},
foo736: () => {},
foo737: () => {},
foo738: () => {},
foo739: () => {},
foo740: () => {},
foo741: () => {},
foo742: () => {},
foo743: () => {},
foo744: () => {},
foo745: () => {},
foo746: () => {},
foo747: () => {},
foo748: () => {},
foo749: () => {},
foo750: () => {},
foo751: () => {},
foo752: () => {},
foo753: () => {},
foo754: () => {},
foo755: () => {},
foo756: () => {},
foo757: () => {},
foo758: () => {},
foo759: () => {},
foo760: () => {},
foo761: () => {},
foo762: () => {},
foo763: () => {},
foo764: () => {},
foo765: () => {},
foo766: () => {},
foo767: () => {},
foo768: () => {},
foo769: () => {},
foo770: () => {},
foo771: () => {},
foo772: () => {},
foo773: () => {},
foo774: () => {},
foo775: () => {},
foo776: () => {},
foo777: () => {},
foo778: () => {},
foo779: () => {},
foo780: () => {},
foo781: () => {},
foo782: () => {},
foo783: () => {},
foo784: () => {},
foo785: () => {},
foo786: () => {},
foo787: () => {},
foo788: () => {},
foo789: () => {},
foo790: () => {},
foo791: () => {},
foo792: () => {},
foo793: () => {},
foo794: () => {},
foo795: () => {},
foo796: () => {},
foo797: () => {},
foo798: () => {},
foo799: () => {},
foo800: () => {},
foo801: () => {},
foo802: () => {},
foo803: () => {},
foo804: () => {},
foo805: () => {},
foo806: () => {},
foo807: () => {},
foo808: () => {},
foo809: () => {},
foo810: () => {},
foo811: () => {},
foo812: () => {},
foo813: () => {},
foo814: () => {},
foo815: () => {},
foo816: () => {},
foo817: () => {},
foo818: () => {},
foo819: () => {},
foo820: () => {},
foo821: () => {},
foo822: () => {},
foo823: () => {},
foo824: () => {},
foo825: () => {},
foo826: () => {},
foo827: () => {},
foo828: () => {},
foo829: () => {},
foo830: () => {},
foo831: () => {},
foo832: () => {},
foo833: () => {},
foo834: () => {},
foo835: () => {},
foo836: () => {},
foo837: () => {},
foo838: () => {},
foo839: () => {},
foo840: () => {},
foo841: () => {},
foo842: () => {},
foo843: () => {},
foo844: () => {},
foo845: () => {},
foo846: () => {},
foo847: () => {},
foo848: () => {},
foo849: () => {},
foo850: () => {},
foo851: () => {},
foo852: () => {},
foo853: () => {},
foo854: () => {},
foo855: () => {},
foo856: () => {},
foo857: () => {},
foo858: () => {},
foo859: () => {},
foo860: () => {},
foo861: () => {},
foo862: () => {},
foo863: () => {},
foo864: () => {},
foo865: () => {},
foo866: () => {},
foo867: () => {},
foo868: () => {},
foo869: () => {},
foo870: () => {},
foo871: () => {},
foo872: () => {},
foo873: () => {},
foo874: () => {},
foo875: () => {},
foo876: () => {},
foo877: () => {},
foo878: () => {},
foo879: () => {},
foo880: () => {},
foo881: () => {},
foo882: () => {},
foo883: () => {},
foo884: () => {},
foo885: () => {},
foo886: () => {},
foo887: () => {},
foo888: () => {},
foo889: () => {},
foo890: () => {},
foo891: () => {},
foo892: () => {},
foo893: () => {},
foo894: () => {},
foo895: () => {},
foo896: () => {},
foo897: () => {},
foo898: () => {},
foo899: () => {},
foo900: () => {},
foo901: () => {},
foo902: () => {},
foo903: () => {},
foo904: () => {},
foo905: () => {},
foo906: () => {},
foo907: () => {},
foo908: () => {},
foo909: () => {},
foo910: () => {},
foo911: () => {},
foo912: () => {},
foo913: () => {},
foo914: () => {},
foo915: () => {},
foo916: () => {},
foo917: () => {},
foo918: () => {},
foo919: () => {},
foo920: () => {},
foo921: () => {},
foo922: () => {},
foo923: () => {},
foo924: () => {},
foo925: () => {},
foo926: () => {},
foo927: () => {},
foo928: () => {},
foo929: () => {},
foo930: () => {},
foo931: () => {},
foo932: () => {},
foo933: () => {},
foo934: () => {},
foo935: () => {},
foo936: () => {},
foo937: () => {},
foo938: () => {},
foo939: () => {},
foo940: () => {},
foo941: () => {},
foo942: () => {},
foo943: () => {},
foo944: () => {},
foo945: () => {},
foo946: () => {},
foo947: () => {},
foo948: () => {},
foo949: () => {},
foo950: () => {},
foo951: () => {},
foo952: () => {},
foo953: () => {},
foo954: () => {},
foo955: () => {},
foo956: () => {},
foo957: () => {},
foo958: () => {},
foo959: () => {},
foo960: () => {},
foo961: () => {},
foo962: () => {},
foo963: () => {},
foo964: () => {},
foo965: () => {},
foo966: () => {},
foo967: () => {},
foo968: () => {},
foo969: () => {},
foo970: () => {},
foo971: () => {},
foo972: () => {},
foo973: () => {},
foo974: () => {},
foo975: () => {},
foo976: () => {},
foo977: () => {},
foo978: () => {},
foo979: () => {},
foo980: () => {},
foo981: () => {},
foo982: () => {},
foo983: () => {},
foo984: () => {},
foo985: () => {},
foo986: () => {},
foo987: () => {},
foo988: () => {},
foo989: () => {},
foo990: () => {},
foo991: () => {},
foo992: () => {},
foo993: () => {},
foo994: () => {},
foo995: () => {},
foo996: () => {},
foo997: () => {},
foo998: () => {},
foo999: () => {},
foo1000: () => {},
foo1001: () => {},
foo1002: () => {},
foo1003: () => {},
foo1004: () => {},
foo1005: () => {},
foo1006: () => {},
foo1007: () => {},
foo1008: () => {},
foo1009: () => {},
foo1010: () => {},
foo1011: () => {},
foo1012: () => {},
foo1013: () => {},
foo1014: () => {},
foo1015: () => {},
foo1016: () => {},
foo1017: () => {},
foo1018: () => {},
foo1019: () => {},
foo1020: () => {},
foo1021: () => {},
foo1022: () => {},
foo1023: () => {},
foo1024: () => {},
foo1025: () => {},
foo1026: () => {},
foo1027: () => {},
foo1028: () => {},
foo1029: () => {},
foo1030: () => {},
foo1031: () => {},
foo1032: () => {},
foo1033: () => {},
foo1034: () => {},
foo1035: () => {},
foo1036: () => {},
foo1037: () => {},
foo1038: () => {},
foo1039: () => {},
foo1040: () => {},
foo1041: () => {},
foo1042: () => {},
foo1043: () => {},
foo1044: () => {},
foo1045: () => {},
foo1046: () => {},
foo1047: () => {},
foo1048: () => {},
foo1049: () => {},
foo1050: () => {},
foo1051: () => {},
foo1052: () => {},
foo1053: () => {},
foo1054: () => {},
foo1055: () => {},
foo1056: () => {},
foo1057: () => {},
foo1058: () => {},
foo1059: () => {},
foo1060: () => {},
foo1061: () => {},
foo1062: () => {},
foo1063: () => {},
foo1064: () => {},
foo1065: () => {},
foo1066: () => {},
foo1067: () => {},
foo1068: () => {},
foo1069: () => {},
foo1070: () => {},
foo1071: () => {},
foo1072: () => {},
foo1073: () => {},
foo1074: () => {},
foo1075: () => {},
foo1076: () => {},
foo1077: () => {},
foo1078: () => {},
foo1079: () => {},
foo1080: () => {},
foo1081: () => {},
foo1082: () => {},
foo1083: () => {},
foo1084: () => {},
foo1085: () => {},
foo1086: () => {},
foo1087: () => {},
foo1088: () => {},
foo1089: () => {},
foo1090: () => {},
foo1091: () => {},
foo1092: () => {},
foo1093: () => {},
foo1094: () => {},
foo1095: () => {},
foo1096: () => {},
foo1097: () => {},
foo1098: () => {},
foo1099: () => {},
foo1100: () => {},
foo1101: () => {},
foo1102: () => {},
foo1103: () => {},
foo1104: () => {},
foo1105: () => {},
foo1106: () => {},
foo1107: () => {},
foo1108: () => {},
foo1109: () => {},
foo1110: () => {},
foo1111: () => {},
foo1112: () => {},
foo1113: () => {},
foo1114: () => {},
foo1115: () => {},
foo1116: () => {},
foo1117: () => {},
foo1118: () => {},
foo1119: () => {},
foo1120: () => {},
foo1121: () => {},
foo1122: () => {},
foo1123: () => {},
foo1124: () => {},
foo1125: () => {},
foo1126: () => {},
foo1127: () => {},
foo1128: () => {},
foo1129: () => {},
foo1130: () => {},
foo1131: () => {},
foo1132: () => {},
foo1133: () => {},
foo1134: () => {},
foo1135: () => {},
foo1136: () => {},
foo1137: () => {},
foo1138: () => {},
foo1139: () => {},
foo1140: () => {},
foo1141: () => {},
foo1142: () => {},
foo1143: () => {},
foo1144: () => {},
foo1145: () => {},
foo1146: () => {},
foo1147: () => {},
foo1148: () => {},
foo1149: () => {},
foo1150: () => {},
foo1151: () => {},
foo1152: () => {},
foo1153: () => {},
foo1154: () => {},
foo1155: () => {},
foo1156: () => {},
foo1157: () => {},
foo1158: () => {},
foo1159: () => {},
foo1160: () => {},
foo1161: () => {},
foo1162: () => {},
foo1163: () => {},
foo1164: () => {},
foo1165: () => {},
foo1166: () => {},
foo1167: () => {},
foo1168: () => {},
foo1169: () => {},
foo1170: () => {},
foo1171: () => {},
foo1172: () => {},
foo1173: () => {},
foo1174: () => {},
foo1175: () => {},
foo1176: () => {},
foo1177: () => {},
foo1178: () => {},
foo1179: () => {},
foo1180: () => {},
foo1181: () => {},
foo1182: () => {},
foo1183: () => {},
foo1184: () => {},
foo1185: () => {},
foo1186: () => {},
foo1187: () => {},
foo1188: () => {},
foo1189: () => {},
foo1190: () => {},
foo1191: () => {},
foo1192: () => {},
foo1193: () => {},
foo1194: () => {},
foo1195: () => {},
foo1196: () => {},
foo1197: () => {},
foo1198: () => {},
foo1199: () => {},
foo1200: () => {},
foo1201: () => {},
foo1202: () => {},
foo1203: () => {},
foo1204: () => {},
foo1205: () => {},
foo1206: () => {},
foo1207: () => {},
foo1208: () => {},
foo1209: () => {},
foo1210: () => {},
foo1211: () => {},
foo1212: () => {},
foo1213: () => {},
foo1214: () => {},
foo1215: () => {},
foo1216: () => {},
foo1217: () => {},
foo1218: () => {},
foo1219: () => {},
foo1220: () => {},
foo1221: () => {},
foo1222: () => {},
foo1223: () => {},
foo1224: () => {},
foo1225: () => {},
foo1226: () => {},
foo1227: () => {},
foo1228: () => {},
foo1229: () => {},
foo1230: () => {},
foo1231: () => {},
foo1232: () => {},
foo1233: () => {},
foo1234: () => {},
foo1235: () => {},
foo1236: () => {},
foo1237: () => {},
foo1238: () => {},
foo1239: () => {},
foo1240: () => {},
foo1241: () => {},
foo1242: () => {},
foo1243: () => {},
foo1244: () => {},
foo1245: () => {},
foo1246: () => {},
foo1247: () => {},
foo1248: () => {},
foo1249: () => {},
foo1250: () => {},
foo1251: () => {},
foo1252: () => {},
foo1253: () => {},
foo1254: () => {},
foo1255: () => {},
foo1256: () => {},
foo1257: () => {},
foo1258: () => {},
foo1259: () => {},
foo1260: () => {},
foo1261: () => {},
foo1262: () => {},
foo1263: () => {},
foo1264: () => {},
foo1265: () => {},
foo1266: () => {},
foo1267: () => {},
foo1268: () => {},
foo1269: () => {},
foo1270: () => {},
foo1271: () => {},
foo1272: () => {},
foo1273: () => {},
foo1274: () => {},
foo1275: () => {},
foo1276: () => {},
foo1277: () => {},
foo1278: () => {},
foo1279: () => {},
foo1280: () => {},
foo1281: () => {},
foo1282: () => {},
foo1283: () => {},
foo1284: () => {},
foo1285: () => {},
foo1286: () => {},
foo1287: () => {},
foo1288: () => {},
foo1289: () => {},
foo1290: () => {},
foo1291: () => {},
foo1292: () => {},
foo1293: () => {},
foo1294: () => {},
foo1295: () => {},
foo1296: () => {},
foo1297: () => {},
foo1298: () => {},
foo1299: () => {},
foo1300: () => {},
foo1301: () => {},
foo1302: () => {},
foo1303: () => {},
foo1304: () => {},
foo1305: () => {},
foo1306: () => {},
foo1307: () => {},
foo1308: () => {},
foo1309: () => {},
foo1310: () => {},
foo1311: () => {},
foo1312: () => {},
foo1313: () => {},
foo1314: () => {},
foo1315: () => {},
foo1316: () => {},
foo1317: () => {},
foo1318: () => {},
foo1319: () => {},
foo1320: () => {},
foo1321: () => {},
foo1322: () => {},
foo1323: () => {},
foo1324: () => {},
foo1325: () => {},
foo1326: () => {},
foo1327: () => {},
foo1328: () => {},
foo1329: () => {},
foo1330: () => {},
foo1331: () => {},
foo1332: () => {},
foo1333: () => {},
foo1334: () => {},
foo1335: () => {},
foo1336: () => {},
foo1337: () => {},
foo1338: () => {},
foo1339: () => {},
foo1340: () => {},
foo1341: () => {},
foo1342: () => {},
foo1343: () => {},
foo1344: () => {},
foo1345: () => {},
foo1346: () => {},
foo1347: () => {},
foo1348: () => {},
foo1349: () => {},
foo1350: () => {},
foo1351: () => {},
foo1352: () => {},
foo1353: () => {},
foo1354: () => {},
foo1355: () => {},
foo1356: () => {},
foo1357: () => {},
foo1358: () => {},
foo1359: () => {},
foo1360: () => {},
foo1361: () => {},
foo1362: () => {},
foo1363: () => {},
foo1364: () => {},
foo1365: () => {},
foo1366: () => {},
foo1367: () => {},
foo1368: () => {},
foo1369: () => {},
foo1370: () => {},
foo1371: () => {},
foo1372: () => {},
foo1373: () => {},
foo1374: () => {},
foo1375: () => {},
foo1376: () => {},
foo1377: () => {},
foo1378: () => {},
foo1379: () => {},
foo1380: () => {},
foo1381: () => {},
foo1382: () => {},
foo1383: () => {},
foo1384: () => {},
foo1385: () => {},
foo1386: () => {},
foo1387: () => {},
foo1388: () => {},
foo1389: () => {},
foo1390: () => {},
foo1391: () => {},
foo1392: () => {},
foo1393: () => {},
foo1394: () => {},
foo1395: () => {},
foo1396: () => {},
foo1397: () => {},
foo1398: () => {},
foo1399: () => {},
foo1400: () => {},
foo1401: () => {},
foo1402: () => {},
foo1403: () => {},
foo1404: () => {},
foo1405: () => {},
foo1406: () => {},
foo1407: () => {},
foo1408: () => {},
foo1409: () => {},
foo1410: () => {},
foo1411: () => {},
foo1412: () => {},
foo1413: () => {},
foo1414: () => {},
foo1415: () => {},
foo1416: () => {},
foo1417: () => {},
foo1418: () => {},
foo1419: () => {},
foo1420: () => {},
foo1421: () => {},
foo1422: () => {},
foo1423: () => {},
foo1424: () => {},
foo1425: () => {},
foo1426: () => {},
foo1427: () => {},
foo1428: () => {},
foo1429: () => {},
foo1430: () => {},
foo1431: () => {},
foo1432: () => {},
foo1433: () => {},
foo1434: () => {},
foo1435: () => {},
foo1436: () => {},
foo1437: () => {},
foo1438: () => {},
foo1439: () => {},
foo1440: () => {},
foo1441: () => {},
foo1442: () => {},
foo1443: () => {},
foo1444: () => {},
foo1445: () => {},
foo1446: () => {},
foo1447: () => {},
foo1448: () => {},
foo1449: () => {},
foo1450: () => {},
foo1451: () => {},
foo1452: () => {},
foo1453: () => {},
foo1454: () => {},
foo1455: () => {},
foo1456: () => {},
foo1457: () => {},
foo1458: () => {},
foo1459: () => {},
foo1460: () => {},
foo1461: () => {},
foo1462: () => {},
foo1463: () => {},
foo1464: () => {},
foo1465: () => {},
foo1466: () => {},
foo1467: () => {},
foo1468: () => {},
foo1469: () => {},
foo1470: () => {},
foo1471: () => {},
foo1472: () => {},
foo1473: () => {},
foo1474: () => {},
foo1475: () => {},
foo1476: () => {},
foo1477: () => {},
foo1478: () => {},
foo1479: () => {},
foo1480: () => {},
foo1481: () => {},
foo1482: () => {},
foo1483: () => {},
foo1484: () => {},
foo1485: () => {},
foo1486: () => {},
foo1487: () => {},
foo1488: () => {},
foo1489: () => {},
foo1490: () => {},
foo1491: () => {},
foo1492: () => {},
foo1493: () => {},
foo1494: () => {},
foo1495: () => {},
foo1496: () => {},
foo1497: () => {},
foo1498: () => {},
foo1499: () => {},
foo1500: () => {},
foo1501: () => {},
foo1502: () => {},
foo1503: () => {},
foo1504: () => {},
foo1505: () => {},
foo1506: () => {},
foo1507: () => {},
foo1508: () => {},
foo1509: () => {},
foo1510: () => {},
foo1511: () => {},
foo1512: () => {},
foo1513: () => {},
foo1514: () => {},
foo1515: () => {},
foo1516: () => {},
foo1517: () => {},
foo1518: () => {},
foo1519: () => {},
foo1520: () => {},
foo1521: () => {},
foo1522: () => {},
foo1523: () => {},
foo1524: () => {},
foo1525: () => {},
foo1526: () => {},
foo1527: () => {},
foo1528: () => {},
foo1529: () => {},
foo1530: () => {},
foo1531: () => {},
foo1532: () => {},
foo1533: () => {},
foo1534: () => {},
foo1535: () => {},
foo1536: () => {},
foo1537: () => {},
foo1538: () => {},
foo1539: () => {},
foo1540: () => {},
foo1541: () => {},
foo1542: () => {},
foo1543: () => {},
foo1544: () => {},
foo1545: () => {},
foo1546: () => {},
foo1547: () => {},
foo1548: () => {},
foo1549: () => {},
foo1550: () => {},
foo1551: () => {},
foo1552: () => {},
foo1553: () => {},
foo1554: () => {},
foo1555: () => {},
foo1556: () => {},
foo1557: () => {},
foo1558: () => {},
foo1559: () => {},
foo1560: () => {},
foo1561: () => {},
foo1562: () => {},
foo1563: () => {},
foo1564: () => {},
foo1565: () => {},
foo1566: () => {},
foo1567: () => {},
foo1568: () => {},
foo1569: () => {},
foo1570: () => {},
foo1571: () => {},
foo1572: () => {},
foo1573: () => {},
foo1574: () => {},
foo1575: () => {},
foo1576: () => {},
foo1577: () => {},
foo1578: () => {},
foo1579: () => {},
foo1580: () => {},
foo1581: () => {},
foo1582: () => {},
foo1583: () => {},
foo1584: () => {},
foo1585: () => {},
foo1586: () => {},
foo1587: () => {},
foo1588: () => {},
foo1589: () => {},
foo1590: () => {},
foo1591: () => {},
foo1592: () => {},
foo1593: () => {},
foo1594: () => {},
foo1595: () => {},
foo1596: () => {},
foo1597: () => {},
foo1598: () => {},
foo1599: () => {},
foo1600: () => {},
foo1601: () => {},
foo1602: () => {},
foo1603: () => {},
foo1604: () => {},
foo1605: () => {},
foo1606: () => {},
foo1607: () => {},
foo1608: () => {},
foo1609: () => {},
foo1610: () => {},
foo1611: () => {},
foo1612: () => {},
foo1613: () => {},
foo1614: () => {},
foo1615: () => {},
foo1616: () => {},
foo1617: () => {},
foo1618: () => {},
foo1619: () => {},
foo1620: () => {},
foo1621: () => {},
foo1622: () => {},
foo1623: () => {},
foo1624: () => {},
foo1625: () => {},
foo1626: () => {},
foo1627: () => {},
foo1628: () => {},
foo1629: () => {},
foo1630: () => {},
foo1631: () => {},
foo1632: () => {},
foo1633: () => {},
foo1634: () => {},
foo1635: () => {},
foo1636: () => {},
foo1637: () => {},
foo1638: () => {},
foo1639: () => {},
foo1640: () => {},
foo1641: () => {},
foo1642: () => {},
foo1643: () => {},
foo1644: () => {},
foo1645: () => {},
foo1646: () => {},
foo1647: () => {},
foo1648: () => {},
foo1649: () => {},
foo1650: () => {},
foo1651: () => {},
foo1652: () => {},
foo1653: () => {},
foo1654: () => {},
foo1655: () => {},
foo1656: () => {},
foo1657: () => {},
foo1658: () => {},
foo1659: () => {},
foo1660: () => {},
foo1661: () => {},
foo1662: () => {},
foo1663: () => {},
foo1664: () => {},
foo1665: () => {},
foo1666: () => {},
foo1667: () => {},
foo1668: () => {},
foo1669: () => {},
foo1670: () => {},
foo1671: () => {},
foo1672: () => {},
foo1673: () => {},
foo1674: () => {},
foo1675: () => {},
foo1676: () => {},
foo1677: () => {},
foo1678: () => {},
foo1679: () => {},
foo1680: () => {},
foo1681: () => {},
foo1682: () => {},
foo1683: () => {},
foo1684: () => {},
foo1685: () => {},
foo1686: () => {},
foo1687: () => {},
foo1688: () => {},
foo1689: () => {},
foo1690: () => {},
foo1691: () => {},
foo1692: () => {},
foo1693: () => {},
foo1694: () => {},
foo1695: () => {},
foo1696: () => {},
foo1697: () => {},
foo1698: () => {},
foo1699: () => {},
foo1700: () => {},
foo1701: () => {},
foo1702: () => {},
foo1703: () => {},
foo1704: () => {},
foo1705: () => {},
foo1706: () => {},
foo1707: () => {},
foo1708: () => {},
foo1709: () => {},
foo1710: () => {},
foo1711: () => {},
foo1712: () => {},
foo1713: () => {},
foo1714: () => {},
foo1715: () => {},
foo1716: () => {},
foo1717: () => {},
foo1718: () => {},
foo1719: () => {},
foo1720: () => {},
foo1721: () => {},
foo1722: () => {},
foo1723: () => {},
foo1724: () => {},
foo1725: () => {},
foo1726: () => {},
foo1727: () => {},
foo1728: () => {},
foo1729: () => {},
foo1730: () => {},
foo1731: () => {},
foo1732: () => {},
foo1733: () => {},
foo1734: () => {},
foo1735: () => {},
foo1736: () => {},
foo1737: () => {},
foo1738: () => {},
foo1739: () => {},
foo1740: () => {},
foo1741: () => {},
foo1742: () => {},
foo1743: () => {},
foo1744: () => {},
foo1745: () => {},
foo1746: () => {},
foo1747: () => {},
foo1748: () => {},
foo1749: () => {},
foo1750: () => {},
foo1751: () => {},
foo1752: () => {},
foo1753: () => {},
foo1754: () => {},
foo1755: () => {},
foo1756: () => {},
foo1757: () => {},
foo1758: () => {},
foo1759: () => {},
foo1760: () => {},
foo1761: () => {},
foo1762: () => {},
foo1763: () => {},
foo1764: () => {},
foo1765: () => {},
foo1766: () => {},
foo1767: () => {},
foo1768: () => {},
foo1769: () => {},
foo1770: () => {},
foo1771: () => {},
foo1772: () => {},
foo1773: () => {},
foo1774: () => {},
foo1775: () => {},
foo1776: () => {},
foo1777: () => {},
foo1778: () => {},
foo1779: () => {},
foo1780: () => {},
foo1781: () => {},
foo1782: () => {},
foo1783: () => {},
foo1784: () => {},
foo1785: () => {},
foo1786: () => {},
foo1787: () => {},
foo1788: () => {},
foo1789: () => {},
foo1790: () => {},
foo1791: () => {},
foo1792: () => {},
foo1793: () => {},
foo1794: () => {},
foo1795: () => {},
foo1796: () => {},
foo1797: () => {},
foo1798: () => {},
foo1799: () => {},
foo1800: () => {},
foo1801: () => {},
foo1802: () => {},
foo1803: () => {},
foo1804: () => {},
foo1805: () => {},
foo1806: () => {},
foo1807: () => {},
foo1808: () => {},
foo1809: () => {},
foo1810: () => {},
foo1811: () => {},
foo1812: () => {},
foo1813: () => {},
foo1814: () => {},
foo1815: () => {},
foo1816: () => {},
foo1817: () => {},
foo1818: () => {},
foo1819: () => {},
foo1820: () => {},
foo1821: () => {},
foo1822: () => {},
foo1823: () => {},
foo1824: () => {},
foo1825: () => {},
foo1826: () => {},
foo1827: () => {},
foo1828: () => {},
foo1829: () => {},
foo1830: () => {},
foo1831: () => {},
foo1832: () => {},
foo1833: () => {},
foo1834: () => {},
foo1835: () => {},
foo1836: () => {},
foo1837: () => {},
foo1838: () => {},
foo1839: () => {},
foo1840: () => {},
foo1841: () => {},
foo1842: () => {},
foo1843: () => {},
foo1844: () => {},
foo1845: () => {},
foo1846: () => {},
foo1847: () => {},
foo1848: () => {},
foo1849: () => {},
foo1850: () => {},
foo1851: () => {},
foo1852: () => {},
foo1853: () => {},
foo1854: () => {},
foo1855: () => {},
foo1856: () => {},
foo1857: () => {},
foo1858: () => {},
foo1859: () => {},
foo1860: () => {},
foo1861: () => {},
foo1862: () => {},
foo1863: () => {},
foo1864: () => {},
foo1865: () => {},
foo1866: () => {},
foo1867: () => {},
foo1868: () => {},
foo1869: () => {},
foo1870: () => {},
foo1871: () => {},
foo1872: () => {},
foo1873: () => {},
foo1874: () => {},
foo1875: () => {},
foo1876: () => {},
foo1877: () => {},
foo1878: () => {},
foo1879: () => {},
foo1880: () => {},
foo1881: () => {},
foo1882: () => {},
foo1883: () => {},
foo1884: () => {},
foo1885: () => {},
foo1886: () => {},
foo1887: () => {},
foo1888: () => {},
foo1889: () => {},
foo1890: () => {},
foo1891: () => {},
foo1892: () => {},
foo1893: () => {},
foo1894: () => {},
foo1895: () => {},
foo1896: () => {},
foo1897: () => {},
foo1898: () => {},
foo1899: () => {},
foo1900: () => {},
foo1901: () => {},
foo1902: () => {},
foo1903: () => {},
foo1904: () => {},
foo1905: () => {},
foo1906: () => {},
foo1907: () => {},
foo1908: () => {},
foo1909: () => {},
foo1910: () => {},
foo1911: () => {},
foo1912: () => {},
foo1913: () => {},
foo1914: () => {},
foo1915: () => {},
foo1916: () => {},
foo1917: () => {},
foo1918: () => {},
foo1919: () => {},
foo1920: () => {},
foo1921: () => {},
foo1922: () => {},
foo1923: () => {},
foo1924: () => {},
foo1925: () => {},
foo1926: () => {},
foo1927: () => {},
foo1928: () => {},
foo1929: () => {},
foo1930: () => {},
foo1931: () => {},
foo1932: () => {},
foo1933: () => {},
foo1934: () => {},
foo1935: () => {},
foo1936: () => {},
foo1937: () => {},
foo1938: () => {},
foo1939: () => {},
foo1940: () => {},
foo1941: () => {},
foo1942: () => {},
foo1943: () => {},
foo1944: () => {},
foo1945: () => {},
foo1946: () => {},
foo1947: () => {},
foo1948: () => {},
foo1949: () => {},
foo1950: () => {},
foo1951: () => {},
foo1952: () => {},
foo1953: () => {},
foo1954: () => {},
foo1955: () => {},
foo1956: () => {},
foo1957: () => {},
foo1958: () => {},
foo1959: () => {},
foo1960: () => {},
foo1961: () => {},
foo1962: () => {},
foo1963: () => {},
foo1964: () => {},
foo1965: () => {},
foo1966: () => {},
foo1967: () => {},
foo1968: () => {},
foo1969: () => {},
foo1970: () => {},
foo1971: () => {},
foo1972: () => {},
foo1973: () => {},
foo1974: () => {},
foo1975: () => {},
foo1976: () => {},
foo1977: () => {},
foo1978: () => {},
foo1979: () => {},
foo1980: () => {},
foo1981: () => {},
foo1982: () => {},
foo1983: () => {},
foo1984: () => {},
foo1985: () => {},
foo1986: () => {},
foo1987: () => {},
foo1988: () => {},
foo1989: () => {},
foo1990: () => {},
foo1991: () => {},
foo1992: () => {},
foo1993: () => {},
foo1994: () => {},
foo1995: () => {},
foo1996: () => {},
foo1997: () => {},
foo1998: () => {},
foo1999: () => {},
foo2000: () => {},
foo2001: () => {},
foo2002: () => {},
foo2003: () => {},
foo2004: () => {},
foo2005: () => {},
foo2006: () => {},
foo2007: () => {},
foo2008: () => {},
foo2009: () => {},
foo2010: () => {},
foo2011: () => {},
foo2012: () => {},
foo2013: () => {},
foo2014: () => {},
foo2015: () => {},
foo2016: () => {},
foo2017: () => {},
foo2018: () => {},
foo2019: () => {},
foo2020: () => {},
foo2021: () => {},
foo2022: () => {},
foo2023: () => {},
foo2024: () => {},
foo2025: () => {},
foo2026: () => {},
foo2027: () => {},
foo2028: () => {},
foo2029: () => {},
foo2030: () => {},
foo2031: () => {},
foo2032: () => {},
foo2033: () => {},
foo2034: () => {},
foo2035: () => {},
foo2036: () => {},
foo2037: () => {},
foo2038: () => {},
foo2039: () => {},
foo2040: () => {},
foo2041: () => {},
foo2042: () => {},
foo2043: () => {},
foo2044: () => {},
foo2045: () => {},
foo2046: () => {},
foo2047: () => {},
foo2048: () => {},
foo2049: () => {},
foo2050: () => {},
foo2051: () => {},
foo2052: () => {},
foo2053: () => {},
foo2054: () => {},
foo2055: () => {},
foo2056: () => {},
foo2057: () => {},
foo2058: () => {},
foo2059: () => {},
foo2060: () => {},
foo2061: () => {},
foo2062: () => {},
foo2063: () => {},
foo2064: () => {},
foo2065: () => {},
foo2066: () => {},
foo2067: () => {},
foo2068: () => {},
foo2069: () => {},
foo2070: () => {},
foo2071: () => {},
foo2072: () => {},
foo2073: () => {},
foo2074: () => {},
foo2075: () => {},
foo2076: () => {},
foo2077: () => {},
foo2078: () => {},
foo2079: () => {},
foo2080: () => {},
foo2081: () => {},
foo2082: () => {},
foo2083: () => {},
foo2084: () => {},
foo2085: () => {},
foo2086: () => {},
foo2087: () => {},
foo2088: () => {},
foo2089: () => {},
foo2090: () => {},
foo2091: () => {},
foo2092: () => {},
foo2093: () => {},
foo2094: () => {},
foo2095: () => {},
foo2096: () => {},
foo2097: () => {},
foo2098: () => {},
foo2099: () => {},
foo2100: () => {},
foo2101: () => {},
foo2102: () => {},
foo2103: () => {},
foo2104: () => {},
foo2105: () => {},
foo2106: () => {},
foo2107: () => {},
foo2108: () => {},
foo2109: () => {},
foo2110: () => {},
foo2111: () => {},
foo2112: () => {},
foo2113: () => {},
foo2114: () => {},
foo2115: () => {},
foo2116: () => {},
foo2117: () => {},
foo2118: () => {},
foo2119: () => {},
foo2120: () => {},
foo2121: () => {},
foo2122: () => {},
foo2123: () => {},
foo2124: () => {},
foo2125: () => {},
foo2126: () => {},
foo2127: () => {},
foo2128: () => {},
foo2129: () => {},
foo2130: () => {},
foo2131: () => {},
foo2132: () => {},
foo2133: () => {},
foo2134: () => {},
foo2135: () => {},
foo2136: () => {},
foo2137: () => {},
foo2138: () => {},
foo2139: () => {},
foo2140: () => {},
foo2141: () => {},
foo2142: () => {},
foo2143: () => {},
foo2144: () => {},
foo2145: () => {},
foo2146: () => {},
foo2147: () => {},
foo2148: () => {},
foo2149: () => {},
foo2150: () => {},
foo2151: () => {},
foo2152: () => {},
foo2153: () => {},
foo2154: () => {},
foo2155: () => {},
foo2156: () => {},
foo2157: () => {},
foo2158: () => {},
foo2159: () => {},
foo2160: () => {},
foo2161: () => {},
foo2162: () => {},
foo2163: () => {},
foo2164: () => {},
foo2165: () => {},
foo2166: () => {},
foo2167: () => {},
foo2168: () => {},
foo2169: () => {},
foo2170: () => {},
foo2171: () => {},
foo2172: () => {},
foo2173: () => {},
foo2174: () => {},
foo2175: () => {},
foo2176: () => {},
foo2177: () => {},
foo2178: () => {},
foo2179: () => {},
foo2180: () => {},
foo2181: () => {},
foo2182: () => {},
foo2183: () => {},
foo2184: () => {},
foo2185: () => {},
foo2186: () => {},
foo2187: () => {},
foo2188: () => {},
foo2189: () => {},
foo2190: () => {},
foo2191: () => {},
foo2192: () => {},
foo2193: () => {},
foo2194: () => {},
foo2195: () => {},
foo2196: () => {},
foo2197: () => {},
foo2198: () => {},
foo2199: () => {},
foo2200: () => {},
foo2201: () => {},
foo2202: () => {},
foo2203: () => {},
foo2204: () => {},
foo2205: () => {},
foo2206: () => {},
foo2207: () => {},
foo2208: () => {},
foo2209: () => {},
foo2210: () => {},
foo2211: () => {},
foo2212: () => {},
foo2213: () => {},
foo2214: () => {},
foo2215: () => {},
foo2216: () => {},
foo2217: () => {},
foo2218: () => {},
foo2219: () => {},
foo2220: () => {},
foo2221: () => {},
foo2222: () => {},
foo2223: () => {},
foo2224: () => {},
foo2225: () => {},
foo2226: () => {},
foo2227: () => {},
foo2228: () => {},
foo2229: () => {},
foo2230: () => {},
foo2231: () => {},
foo2232: () => {},
foo2233: () => {},
foo2234: () => {},
foo2235: () => {},
foo2236: () => {},
foo2237: () => {},
foo2238: () => {},
foo2239: () => {},
foo2240: () => {},
foo2241: () => {},
foo2242: () => {},
foo2243: () => {},
foo2244: () => {},
foo2245: () => {},
foo2246: () => {},
foo2247: () => {},
foo2248: () => {},
foo2249: () => {},
foo2250: () => {},
foo2251: () => {},
foo2252: () => {},
foo2253: () => {},
foo2254: () => {},
foo2255: () => {},
foo2256: () => {},
foo2257: () => {},
foo2258: () => {},
foo2259: () => {},
foo2260: () => {},
foo2261: () => {},
foo2262: () => {},
foo2263: () => {},
foo2264: () => {},
foo2265: () => {},
foo2266: () => {},
foo2267: () => {},
foo2268: () => {},
foo2269: () => {},
foo2270: () => {},
foo2271: () => {},
foo2272: () => {},
foo2273: () => {},
foo2274: () => {},
foo2275: () => {},
foo2276: () => {},
foo2277: () => {},
foo2278: () => {},
foo2279: () => {},
foo2280: () => {},
foo2281: () => {},
foo2282: () => {},
foo2283: () => {},
foo2284: () => {},
foo2285: () => {},
foo2286: () => {},
foo2287: () => {},
foo2288: () => {},
foo2289: () => {},
foo2290: () => {},
foo2291: () => {},
foo2292: () => {},
foo2293: () => {},
foo2294: () => {},
foo2295: () => {},
foo2296: () => {},
foo2297: () => {},
foo2298: () => {},
foo2299: () => {},
foo2300: () => {},
foo2301: () => {},
foo2302: () => {},
foo2303: () => {},
foo2304: () => {},
foo2305: () => {},
foo2306: () => {},
foo2307: () => {},
foo2308: () => {},
foo2309: () => {},
foo2310: () => {},
foo2311: () => {},
foo2312: () => {},
foo2313: () => {},
foo2314: () => {},
foo2315: () => {},
foo2316: () => {},
foo2317: () => {},
foo2318: () => {},
foo2319: () => {},
foo2320: () => {},
foo2321: () => {},
foo2322: () => {},
foo2323: () => {},
foo2324: () => {},
foo2325: () => {},
foo2326: () => {},
foo2327: () => {},
foo2328: () => {},
foo2329: () => {},
foo2330: () => {},
foo2331: () => {},
foo2332: () => {},
foo2333: () => {},
foo2334: () => {},
foo2335: () => {},
foo2336: () => {},
foo2337: () => {},
foo2338: () => {},
foo2339: () => {},
foo2340: () => {},
foo2341: () => {},
foo2342: () => {},
foo2343: () => {},
foo2344: () => {},
foo2345: () => {},
foo2346: () => {},
foo2347: () => {},
foo2348: () => {},
foo2349: () => {},
foo2350: () => {},
foo2351: () => {},
foo2352: () => {},
foo2353: () => {},
foo2354: () => {},
foo2355: () => {},
foo2356: () => {},
foo2357: () => {},
foo2358: () => {},
foo2359: () => {},
foo2360: () => {},
foo2361: () => {},
foo2362: () => {},
foo2363: () => {},
foo2364: () => {},
foo2365: () => {},
foo2366: () => {},
foo2367: () => {},
foo2368: () => {},
foo2369: () => {},
foo2370: () => {},
foo2371: () => {},
foo2372: () => {},
foo2373: () => {},
foo2374: () => {},
foo2375: () => {},
foo2376: () => {},
foo2377: () => {},
foo2378: () => {},
foo2379: () => {},
foo2380: () => {},
foo2381: () => {},
foo2382: () => {},
foo2383: () => {},
foo2384: () => {},
foo2385: () => {},
foo2386: () => {},
foo2387: () => {},
foo2388: () => {},
foo2389: () => {},
foo2390: () => {},
foo2391: () => {},
foo2392: () => {},
foo2393: () => {},
foo2394: () => {},
foo2395: () => {},
foo2396: () => {},
foo2397: () => {},
foo2398: () => {},
foo2399: () => {},
foo2400: () => {},
foo2401: () => {},
foo2402: () => {},
foo2403: () => {},
foo2404: () => {},
foo2405: () => {},
foo2406: () => {},
foo2407: () => {},
foo2408: () => {},
foo2409: () => {},
foo2410: () => {},
foo2411: () => {},
foo2412: () => {},
foo2413: () => {},
foo2414: () => {},
foo2415: () => {},
foo2416: () => {},
foo2417: () => {},
foo2418: () => {},
foo2419: () => {},
foo2420: () => {},
foo2421: () => {},
foo2422: () => {},
foo2423: () => {},
foo2424: () => {},
foo2425: () => {},
foo2426: () => {},
foo2427: () => {},
foo2428: () => {},
foo2429: () => {},
foo2430: () => {},
foo2431: () => {},
foo2432: () => {},
foo2433: () => {},
foo2434: () => {},
foo2435: () => {},
foo2436: () => {},
foo2437: () => {},
foo2438: () => {},
foo2439: () => {},
foo2440: () => {},
foo2441: () => {},
foo2442: () => {},
foo2443: () => {},
foo2444: () => {},
foo2445: () => {},
foo2446: () => {},
foo2447: () => {},
foo2448: () => {},
foo2449: () => {},
foo2450: () => {},
foo2451: () => {},
foo2452: () => {},
foo2453: () => {},
foo2454: () => {},
foo2455: () => {},
foo2456: () => {},
foo2457: () => {},
foo2458: () => {},
foo2459: () => {},
foo2460: () => {},
foo2461: () => {},
foo2462: () => {},
foo2463: () => {},
foo2464: () => {},
foo2465: () => {},
foo2466: () => {},
foo2467: () => {},
foo2468: () => {},
foo2469: () => {},
foo2470: () => {},
foo2471: () => {},
foo2472: () => {},
foo2473: () => {},
foo2474: () => {},
foo2475: () => {},
foo2476: () => {},
foo2477: () => {},
foo2478: () => {},
foo2479: () => {},
foo2480: () => {},
foo2481: () => {},
foo2482: () => {},
foo2483: () => {},
foo2484: () => {},
foo2485: () => {},
foo2486: () => {},
foo2487: () => {},
foo2488: () => {},
foo2489: () => {},
foo2490: () => {},
foo2491: () => {},
foo2492: () => {},
foo2493: () => {},
foo2494: () => {},
foo2495: () => {},
foo2496: () => {},
foo2497: () => {},
foo2498: () => {},
foo2499: () => {},
foo2500: () => {},
foo2501: () => {},
foo2502: () => {},
foo2503: () => {},
foo2504: () => {},
foo2505: () => {},
foo2506: () => {},
foo2507: () => {},
foo2508: () => {},
foo2509: () => {},
foo2510: () => {},
foo2511: () => {},
foo2512: () => {},
foo2513: () => {},
foo2514: () => {},
foo2515: () => {},
foo2516: () => {},
foo2517: () => {},
foo2518: () => {},
foo2519: () => {},
foo2520: () => {},
foo2521: () => {},
foo2522: () => {},
foo2523: () => {},
foo2524: () => {},
foo2525: () => {},
foo2526: () => {},
foo2527: () => {},
foo2528: () => {},
foo2529: () => {},
foo2530: () => {},
foo2531: () => {},
foo2532: () => {},
foo2533: () => {},
foo2534: () => {},
foo2535: () => {},
foo2536: () => {},
foo2537: () => {},
foo2538: () => {},
foo2539: () => {},
foo2540: () => {},
foo2541: () => {},
foo2542: () => {},
foo2543: () => {},
foo2544: () => {},
foo2545: () => {},
foo2546: () => {},
foo2547: () => {},
foo2548: () => {},
foo2549: () => {},
foo2550: () => {},
foo2551: () => {},
foo2552: () => {},
foo2553: () => {},
foo2554: () => {},
foo2555: () => {},
foo2556: () => {},
foo2557: () => {},
foo2558: () => {},
foo2559: () => {},
foo2560: () => {},
foo2561: () => {},
foo2562: () => {},
foo2563: () => {},
foo2564: () => {},
foo2565: () => {},
foo2566: () => {},
foo2567: () => {},
foo2568: () => {},
foo2569: () => {},
foo2570: () => {},
foo2571: () => {},
foo2572: () => {},
foo2573: () => {},
foo2574: () => {},
foo2575: () => {},
foo2576: () => {},
foo2577: () => {},
foo2578: () => {},
foo2579: () => {},
foo2580: () => {},
foo2581: () => {},
foo2582: () => {},
foo2583: () => {},
foo2584: () => {},
foo2585: () => {},
foo2586: () => {},
foo2587: () => {},
foo2588: () => {},
foo2589: () => {},
foo2590: () => {},
foo2591: () => {},
foo2592: () => {},
foo2593: () => {},
foo2594: () => {},
foo2595: () => {},
foo2596: () => {},
foo2597: () => {},
foo2598: () => {},
foo2599: () => {},
foo2600: () => {},
foo2601: () => {},
foo2602: () => {},
foo2603: () => {},
foo2604: () => {},
foo2605: () => {},
foo2606: () => {},
foo2607: () => {},
foo2608: () => {},
foo2609: () => {},
foo2610: () => {},
foo2611: () => {},
foo2612: () => {},
foo2613: () => {},
foo2614: () => {},
foo2615: () => {},
foo2616: () => {},
foo2617: () => {},
foo2618: () => {},
foo2619: () => {},
foo2620: () => {},
foo2621: () => {},
foo2622: () => {},
foo2623: () => {},
foo2624: () => {},
foo2625: () => {},
foo2626: () => {},
foo2627: () => {},
foo2628: () => {},
foo2629: () => {},
foo2630: () => {},
foo2631: () => {},
foo2632: () => {},
foo2633: () => {},
foo2634: () => {},
foo2635: () => {},
foo2636: () => {},
foo2637: () => {},
foo2638: () => {},
foo2639: () => {},
foo2640: () => {},
foo2641: () => {},
foo2642: () => {},
foo2643: () => {},
foo2644: () => {},
foo2645: () => {},
foo2646: () => {},
foo2647: () => {},
foo2648: () => {},
foo2649: () => {},
foo2650: () => {},
foo2651: () => {},
foo2652: () => {},
foo2653: () => {},
foo2654: () => {},
foo2655: () => {},
foo2656: () => {},
foo2657: () => {},
foo2658: () => {},
foo2659: () => {},
foo2660: () => {},
foo2661: () => {},
foo2662: () => {},
foo2663: () => {},
foo2664: () => {},
foo2665: () => {},
foo2666: () => {},
foo2667: () => {},
foo2668: () => {},
foo2669: () => {},
foo2670: () => {},
foo2671: () => {},
foo2672: () => {},
foo2673: () => {},
foo2674: () => {},
foo2675: () => {},
foo2676: () => {},
foo2677: () => {},
foo2678: () => {},
foo2679: () => {},
foo2680: () => {},
foo2681: () => {},
foo2682: () => {},
foo2683: () => {},
foo2684: () => {},
foo2685: () => {},
foo2686: () => {},
foo2687: () => {},
foo2688: () => {},
foo2689: () => {},
foo2690: () => {},
foo2691: () => {},
foo2692: () => {},
foo2693: () => {},
foo2694: () => {},
foo2695: () => {},
foo2696: () => {},
foo2697: () => {},
foo2698: () => {},
foo2699: () => {},
foo2700: () => {},
foo2701: () => {},
foo2702: () => {},
foo2703: () => {},
foo2704: () => {},
foo2705: () => {},
foo2706: () => {},
foo2707: () => {},
foo2708: () => {},
foo2709: () => {},
foo2710: () => {},
foo2711: () => {},
foo2712: () => {},
foo2713: () => {},
foo2714: () => {},
foo2715: () => {},
foo2716: () => {},
foo2717: () => {},
foo2718: () => {},
foo2719: () => {},
foo2720: () => {},
foo2721: () => {},
foo2722: () => {},
foo2723: () => {},
foo2724: () => {},
foo2725: () => {},
foo2726: () => {},
foo2727: () => {},
foo2728: () => {},
foo2729: () => {},
foo2730: () => {},
foo2731: () => {},
foo2732: () => {},
foo2733: () => {},
foo2734: () => {},
foo2735: () => {},
foo2736: () => {},
foo2737: () => {},
foo2738: () => {},
foo2739: () => {},
foo2740: () => {},
foo2741: () => {},
foo2742: () => {},
foo2743: () => {},
foo2744: () => {},
foo2745: () => {},
foo2746: () => {},
foo2747: () => {},
foo2748: () => {},
foo2749: () => {},
foo2750: () => {},
foo2751: () => {},
foo2752: () => {},
foo2753: () => {},
foo2754: () => {},
foo2755: () => {},
foo2756: () => {},
foo2757: () => {},
foo2758: () => {},
foo2759: () => {},
foo2760: () => {},
foo2761: () => {},
foo2762: () => {},
foo2763: () => {},
foo2764: () => {},
foo2765: () => {},
foo2766: () => {},
foo2767: () => {},
foo2768: () => {},
foo2769: () => {},
foo2770: () => {},
foo2771: () => {},
foo2772: () => {},
foo2773: () => {},
foo2774: () => {},
foo2775: () => {},
foo2776: () => {},
foo2777: () => {},
foo2778: () => {},
foo2779: () => {},
foo2780: () => {},
foo2781: () => {},
foo2782: () => {},
foo2783: () => {},
foo2784: () => {},
foo2785: () => {},
foo2786: () => {},
foo2787: () => {},
foo2788: () => {},
foo2789: () => {},
foo2790: () => {},
foo2791: () => {},
foo2792: () => {},
foo2793: () => {},
foo2794: () => {},
foo2795: () => {},
foo2796: () => {},
foo2797: () => {},
foo2798: () => {},
foo2799: () => {},
foo2800: () => {},
foo2801: () => {},
foo2802: () => {},
foo2803: () => {},
foo2804: () => {},
foo2805: () => {},
foo2806: () => {},
foo2807: () => {},
foo2808: () => {},
foo2809: () => {},
foo2810: () => {},
foo2811: () => {},
foo2812: () => {},
foo2813: () => {},
foo2814: () => {},
foo2815: () => {},
foo2816: () => {},
foo2817: () => {},
foo2818: () => {},
foo2819: () => {},
foo2820: () => {},
foo2821: () => {},
foo2822: () => {},
foo2823: () => {},
foo2824: () => {},
foo2825: () => {},
foo2826: () => {},
foo2827: () => {},
foo2828: () => {},
foo2829: () => {},
foo2830: () => {},
foo2831: () => {},
foo2832: () => {},
foo2833: () => {},
foo2834: () => {},
foo2835: () => {},
foo2836: () => {},
foo2837: () => {},
foo2838: () => {},
foo2839: () => {},
foo2840: () => {},
foo2841: () => {},
foo2842: () => {},
foo2843: () => {},
foo2844: () => {},
foo2845: () => {},
foo2846: () => {},
foo2847: () => {},
foo2848: () => {},
foo2849: () => {},
foo2850: () => {},
foo2851: () => {},
foo2852: () => {},
foo2853: () => {},
foo2854: () => {},
foo2855: () => {},
foo2856: () => {},
foo2857: () => {},
foo2858: () => {},
foo2859: () => {},
foo2860: () => {},
foo2861: () => {},
foo2862: () => {},
foo2863: () => {},
foo2864: () => {},
foo2865: () => {},
foo2866: () => {},
foo2867: () => {},
foo2868: () => {},
foo2869: () => {},
foo2870: () => {},
foo2871: () => {},
foo2872: () => {},
foo2873: () => {},
foo2874: () => {},
foo2875: () => {},
foo2876: () => {},
foo2877: () => {},
foo2878: () => {},
foo2879: () => {},
foo2880: () => {},
foo2881: () => {},
foo2882: () => {},
foo2883: () => {},
foo2884: () => {},
foo2885: () => {},
foo2886: () => {},
foo2887: () => {},
foo2888: () => {},
foo2889: () => {},
foo2890: () => {},
foo2891: () => {},
foo2892: () => {},
foo2893: () => {},
foo2894: () => {},
foo2895: () => {},
foo2896: () => {},
foo2897: () => {},
foo2898: () => {},
foo2899: () => {},
foo2900: () => {},
foo2901: () => {},
foo2902: () => {},
foo2903: () => {},
foo2904: () => {},
foo2905: () => {},
foo2906: () => {},
foo2907: () => {},
foo2908: () => {},
foo2909: () => {},
foo2910: () => {},
foo2911: () => {},
foo2912: () => {},
foo2913: () => {},
foo2914: () => {},
foo2915: () => {},
foo2916: () => {},
foo2917: () => {},
foo2918: () => {},
foo2919: () => {},
foo2920: () => {},
foo2921: () => {},
foo2922: () => {},
foo2923: () => {},
foo2924: () => {},
foo2925: () => {},
foo2926: () => {},
foo2927: () => {},
foo2928: () => {},
foo2929: () => {},
foo2930: () => {},
foo2931: () => {},
foo2932: () => {},
foo2933: () => {},
foo2934: () => {},
foo2935: () => {},
foo2936: () => {},
foo2937: () => {},
foo2938: () => {},
foo2939: () => {},
foo2940: () => {},
foo2941: () => {},
foo2942: () => {},
foo2943: () => {},
foo2944: () => {},
foo2945: () => {},
foo2946: () => {},
foo2947: () => {},
foo2948: () => {},
foo2949: () => {},
foo2950: () => {},
foo2951: () => {},
foo2952: () => {},
foo2953: () => {},
foo2954: () => {},
foo2955: () => {},
foo2956: () => {},
foo2957: () => {},
foo2958: () => {},
foo2959: () => {},
foo2960: () => {},
foo2961: () => {},
foo2962: () => {},
foo2963: () => {},
foo2964: () => {},
foo2965: () => {},
foo2966: () => {},
foo2967: () => {},
foo2968: () => {},
foo2969: () => {},
foo2970: () => {},
foo2971: () => {},
foo2972: () => {},
foo2973: () => {},
foo2974: () => {},
foo2975: () => {},
foo2976: () => {},
foo2977: () => {},
foo2978: () => {},
foo2979: () => {},
foo2980: () => {},
foo2981: () => {},
foo2982: () => {},
foo2983: () => {},
foo2984: () => {},
foo2985: () => {},
foo2986: () => {},
foo2987: () => {},
foo2988: () => {},
foo2989: () => {},
foo2990: () => {},
foo2991: () => {},
foo2992: () => {},
foo2993: () => {},
foo2994: () => {},
foo2995: () => {},
foo2996: () => {},
foo2997: () => {},
foo2998: () => {},
foo2999: () => {},
foo3000: () => {},
foo3001: () => {},
foo3002: () => {},
foo3003: () => {},
foo3004: () => {},
foo3005: () => {},
foo3006: () => {},
foo3007: () => {},
foo3008: () => {},
foo3009: () => {},
foo3010: () => {},
foo3011: () => {},
foo3012: () => {},
foo3013: () => {},
foo3014: () => {},
foo3015: () => {},
foo3016: () => {},
foo3017: () => {},
foo3018: () => {},
foo3019: () => {},
foo3020: () => {},
foo3021: () => {},
foo3022: () => {},
foo3023: () => {},
foo3024: () => {},
foo3025: () => {},
foo3026: () => {},
foo3027: () => {},
foo3028: () => {},
foo3029: () => {},
foo3030: () => {},
foo3031: () => {},
foo3032: () => {},
foo3033: () => {},
foo3034: () => {},
foo3035: () => {},
foo3036: () => {},
foo3037: () => {},
foo3038: () => {},
foo3039: () => {},
foo3040: () => {},
foo3041: () => {},
foo3042: () => {},
foo3043: () => {},
foo3044: () => {},
foo3045: () => {},
foo3046: () => {},
foo3047: () => {},
foo3048: () => {},
foo3049: () => {},
foo3050: () => {},
foo3051: () => {},
foo3052: () => {},
foo3053: () => {},
foo3054: () => {},
foo3055: () => {},
foo3056: () => {},
foo3057: () => {},
foo3058: () => {},
foo3059: () => {},
foo3060: () => {},
foo3061: () => {},
foo3062: () => {},
foo3063: () => {},
foo3064: () => {},
foo3065: () => {},
foo3066: () => {},
foo3067: () => {},
foo3068: () => {},
foo3069: () => {},
foo3070: () => {},
foo3071: () => {},
foo3072: () => {},
foo3073: () => {},
foo3074: () => {},
foo3075: () => {},
foo3076: () => {},
foo3077: () => {},
foo3078: () => {},
foo3079: () => {},
foo3080: () => {},
foo3081: () => {},
foo3082: () => {},
foo3083: () => {},
foo3084: () => {},
foo3085: () => {},
foo3086: () => {},
foo3087: () => {},
foo3088: () => {},
foo3089: () => {},
foo3090: () => {},
foo3091: () => {},
foo3092: () => {},
foo3093: () => {},
foo3094: () => {},
foo3095: () => {},
foo3096: () => {},
foo3097: () => {},
foo3098: () => {},
foo3099: () => {},
foo3100: () => {},
foo3101: () => {},
foo3102: () => {},
foo3103: () => {},
foo3104: () => {},
foo3105: () => {},
foo3106: () => {},
foo3107: () => {},
foo3108: () => {},
foo3109: () => {},
foo3110: () => {},
foo3111: () => {},
foo3112: () => {},
foo3113: () => {},
foo3114: () => {},
foo3115: () => {},
foo3116: () => {},
foo3117: () => {},
foo3118: () => {},
foo3119: () => {},
foo3120: () => {},
foo3121: () => {},
foo3122: () => {},
foo3123: () => {},
foo3124: () => {},
foo3125: () => {},
foo3126: () => {},
foo3127: () => {},
foo3128: () => {},
foo3129: () => {},
foo3130: () => {},
foo3131: () => {},
foo3132: () => {},
foo3133: () => {},
foo3134: () => {},
foo3135: () => {},
foo3136: () => {},
foo3137: () => {},
foo3138: () => {},
foo3139: () => {},
foo3140: () => {},
foo3141: () => {},
foo3142: () => {},
foo3143: () => {},
foo3144: () => {},
foo3145: () => {},
foo3146: () => {},
foo3147: () => {},
foo3148: () => {},
foo3149: () => {},
foo3150: () => {},
foo3151: () => {},
foo3152: () => {},
foo3153: () => {},
foo3154: () => {},
foo3155: () => {},
foo3156: () => {},
foo3157: () => {},
foo3158: () => {},
foo3159: () => {},
foo3160: () => {},
foo3161: () => {},
foo3162: () => {},
foo3163: () => {},
foo3164: () => {},
foo3165: () => {},
foo3166: () => {},
foo3167: () => {},
foo3168: () => {},
foo3169: () => {},
foo3170: () => {},
foo3171: () => {},
foo3172: () => {},
foo3173: () => {},
foo3174: () => {},
foo3175: () => {},
foo3176: () => {},
foo3177: () => {},
foo3178: () => {},
foo3179: () => {},
foo3180: () => {},
foo3181: () => {},
foo3182: () => {},
foo3183: () => {},
foo3184: () => {},
foo3185: () => {},
foo3186: () => {},
foo3187: () => {},
foo3188: () => {},
foo3189: () => {},
foo3190: () => {},
foo3191: () => {},
foo3192: () => {},
foo3193: () => {},
foo3194: () => {},
foo3195: () => {},
foo3196: () => {},
foo3197: () => {},
foo3198: () => {},
foo3199: () => {},
foo3200: () => {},
foo3201: () => {},
foo3202: () => {},
foo3203: () => {},
foo3204: () => {},
foo3205: () => {},
foo3206: () => {},
foo3207: () => {},
foo3208: () => {},
foo3209: () => {},
foo3210: () => {},
foo3211: () => {},
foo3212: () => {},
foo3213: () => {},
foo3214: () => {},
foo3215: () => {},
foo3216: () => {},
foo3217: () => {},
foo3218: () => {},
foo3219: () => {},
foo3220: () => {},
foo3221: () => {},
foo3222: () => {},
foo3223: () => {},
foo3224: () => {},
foo3225: () => {},
foo3226: () => {},
foo3227: () => {},
foo3228: () => {},
foo3229: () => {},
foo3230: () => {},
foo3231: () => {},
foo3232: () => {},
foo3233: () => {},
foo3234: () => {},
foo3235: () => {},
foo3236: () => {},
foo3237: () => {},
foo3238: () => {},
foo3239: () => {},
foo3240: () => {},
foo3241: () => {},
foo3242: () => {},
foo3243: () => {},
foo3244: () => {},
foo3245: () => {},
foo3246: () => {},
foo3247: () => {},
foo3248: () => {},
foo3249: () => {},
foo3250: () => {},
foo3251: () => {},
foo3252: () => {},
foo3253: () => {},
foo3254: () => {},
foo3255: () => {},
foo3256: () => {},
foo3257: () => {},
foo3258: () => {},
foo3259: () => {},
foo3260: () => {},
foo3261: () => {},
foo3262: () => {},
foo3263: () => {},
foo3264: () => {},
foo3265: () => {},
foo3266: () => {},
foo3267: () => {},
foo3268: () => {},
foo3269: () => {},
foo3270: () => {},
foo3271: () => {},
foo3272: () => {},
foo3273: () => {},
foo3274: () => {},
foo3275: () => {},
foo3276: () => {},
foo3277: () => {},
foo3278: () => {},
foo3279: () => {},
foo3280: () => {},
foo3281: () => {},
foo3282: () => {},
foo3283: () => {},
foo3284: () => {},
foo3285: () => {},
foo3286: () => {},
foo3287: () => {},
foo3288: () => {},
foo3289: () => {},
foo3290: () => {},
foo3291: () => {},
foo3292: () => {},
foo3293: () => {},
foo3294: () => {},
foo3295: () => {},
foo3296: () => {},
foo3297: () => {},
foo3298: () => {},
foo3299: () => {},
foo3300: () => {},
foo3301: () => {},
foo3302: () => {},
foo3303: () => {},
foo3304: () => {},
foo3305: () => {},
foo3306: () => {},
foo3307: () => {},
foo3308: () => {},
foo3309: () => {},
foo3310: () => {},
foo3311: () => {},
foo3312: () => {},
foo3313: () => {},
foo3314: () => {},
foo3315: () => {},
foo3316: () => {},
foo3317: () => {},
foo3318: () => {},
foo3319: () => {},
foo3320: () => {},
foo3321: () => {},
foo3322: () => {},
foo3323: () => {},
foo3324: () => {},
foo3325: () => {},
foo3326: () => {},
foo3327: () => {},
foo3328: () => {},
foo3329: () => {},
foo3330: () => {},
foo3331: () => {},
foo3332: () => {},
foo3333: () => {},
foo3334: () => {},
foo3335: () => {},
foo3336: () => {},
foo3337: () => {},
foo3338: () => {},
foo3339: () => {},
foo3340: () => {},
foo3341: () => {},
foo3342: () => {},
foo3343: () => {},
foo3344: () => {},
foo3345: () => {},
foo3346: () => {},
foo3347: () => {},
foo3348: () => {},
foo3349: () => {},
foo3350: () => {},
foo3351: () => {},
foo3352: () => {},
foo3353: () => {},
foo3354: () => {},
foo3355: () => {},
foo3356: () => {},
foo3357: () => {},
foo3358: () => {},
foo3359: () => {},
foo3360: () => {},
foo3361: () => {},
foo3362: () => {},
foo3363: () => {},
foo3364: () => {},
foo3365: () => {},
foo3366: () => {},
foo3367: () => {},
foo3368: () => {},
foo3369: () => {},
foo3370: () => {},
foo3371: () => {},
foo3372: () => {},
foo3373: () => {},
foo3374: () => {},
foo3375: () => {},
foo3376: () => {},
foo3377: () => {},
foo3378: () => {},
foo3379: () => {},
foo3380: () => {},
foo3381: () => {},
foo3382: () => {},
foo3383: () => {},
foo3384: () => {},
foo3385: () => {},
foo3386: () => {},
foo3387: () => {},
foo3388: () => {},
foo3389: () => {},
foo3390: () => {},
foo3391: () => {},
foo3392: () => {},
foo3393: () => {},
foo3394: () => {},
foo3395: () => {},
foo3396: () => {},
foo3397: () => {},
foo3398: () => {},
foo3399: () => {},
foo3400: () => {},
foo3401: () => {},
foo3402: () => {},
foo3403: () => {},
foo3404: () => {},
foo3405: () => {},
foo3406: () => {},
foo3407: () => {},
foo3408: () => {},
foo3409: () => {},
foo3410: () => {},
foo3411: () => {},
foo3412: () => {},
foo3413: () => {},
foo3414: () => {},
foo3415: () => {},
foo3416: () => {},
foo3417: () => {},
foo3418: () => {},
foo3419: () => {},
foo3420: () => {},
foo3421: () => {},
foo3422: () => {},
foo3423: () => {},
foo3424: () => {},
foo3425: () => {},
foo3426: () => {},
foo3427: () => {},
foo3428: () => {},
foo3429: () => {},
foo3430: () => {},
foo3431: () => {},
foo3432: () => {},
foo3433: () => {},
foo3434: () => {},
foo3435: () => {},
foo3436: () => {},
foo3437: () => {},
foo3438: () => {},
foo3439: () => {},
foo3440: () => {},
foo3441: () => {},
foo3442: () => {},
foo3443: () => {},
foo3444: () => {},
foo3445: () => {},
foo3446: () => {},
foo3447: () => {},
foo3448: () => {},
foo3449: () => {},
foo3450: () => {},
foo3451: () => {},
foo3452: () => {},
foo3453: () => {},
foo3454: () => {},
foo3455: () => {},
foo3456: () => {},
foo3457: () => {},
foo3458: () => {},
foo3459: () => {},
foo3460: () => {},
foo3461: () => {},
foo3462: () => {},
foo3463: () => {},
foo3464: () => {},
foo3465: () => {},
foo3466: () => {},
foo3467: () => {},
foo3468: () => {},
foo3469: () => {},
foo3470: () => {},
foo3471: () => {},
foo3472: () => {},
foo3473: () => {},
foo3474: () => {},
foo3475: () => {},
foo3476: () => {},
foo3477: () => {},
foo3478: () => {},
foo3479: () => {},
foo3480: () => {},
foo3481: () => {},
foo3482: () => {},
foo3483: () => {},
foo3484: () => {},
foo3485: () => {},
foo3486: () => {},
foo3487: () => {},
foo3488: () => {},
foo3489: () => {},
foo3490: () => {},
foo3491: () => {},
foo3492: () => {},
foo3493: () => {},
foo3494: () => {},
foo3495: () => {},
foo3496: () => {},
foo3497: () => {},
foo3498: () => {},
foo3499: () => {},
foo3500: () => {},
foo3501: () => {},
foo3502: () => {},
foo3503: () => {},
foo3504: () => {},
foo3505: () => {},
foo3506: () => {},
foo3507: () => {},
foo3508: () => {},
foo3509: () => {},
foo3510: () => {},
foo3511: () => {},
foo3512: () => {},
foo3513: () => {},
foo3514: () => {},
foo3515: () => {},
foo3516: () => {},
foo3517: () => {},
foo3518: () => {},
foo3519: () => {},
foo3520: () => {},
foo3521: () => {},
foo3522: () => {},
foo3523: () => {},
foo3524: () => {},
foo3525: () => {},
foo3526: () => {},
foo3527: () => {},
foo3528: () => {},
foo3529: () => {},
foo3530: () => {},
foo3531: () => {},
foo3532: () => {},
foo3533: () => {},
foo3534: () => {},
foo3535: () => {},
foo3536: () => {},
foo3537: () => {},
foo3538: () => {},
foo3539: () => {},
foo3540: () => {},
foo3541: () => {},
foo3542: () => {},
foo3543: () => {},
foo3544: () => {},
foo3545: () => {},
foo3546: () => {},
foo3547: () => {},
foo3548: () => {},
foo3549: () => {},
foo3550: () => {},
foo3551: () => {},
foo3552: () => {},
foo3553: () => {},
foo3554: () => {},
foo3555: () => {},
foo3556: () => {},
foo3557: () => {},
foo3558: () => {},
foo3559: () => {},
foo3560: () => {},
foo3561: () => {},
foo3562: () => {},
foo3563: () => {},
foo3564: () => {},
foo3565: () => {},
foo3566: () => {},
foo3567: () => {},
foo3568: () => {},
foo3569: () => {},
foo3570: () => {},
foo3571: () => {},
foo3572: () => {},
foo3573: () => {},
foo3574: () => {},
foo3575: () => {},
foo3576: () => {},
foo3577: () => {},
foo3578: () => {},
foo3579: () => {},
foo3580: () => {},
foo3581: () => {},
foo3582: () => {},
foo3583: () => {},
foo3584: () => {},
foo3585: () => {},
foo3586: () => {},
foo3587: () => {},
foo3588: () => {},
foo3589: () => {},
foo3590: () => {},
foo3591: () => {},
foo3592: () => {},
foo3593: () => {},
foo3594: () => {},
foo3595: () => {},
foo3596: () => {},
foo3597: () => {},
foo3598: () => {},
foo3599: () => {},
foo3600: () => {},
foo3601: () => {},
foo3602: () => {},
foo3603: () => {},
foo3604: () => {},
foo3605: () => {},
foo3606: () => {},
foo3607: () => {},
foo3608: () => {},
foo3609: () => {},
foo3610: () => {},
foo3611: () => {},
foo3612: () => {},
foo3613: () => {},
foo3614: () => {},
foo3615: () => {},
foo3616: () => {},
foo3617: () => {},
foo3618: () => {},
foo3619: () => {},
foo3620: () => {},
foo3621: () => {},
foo3622: () => {},
foo3623: () => {},
foo3624: () => {},
foo3625: () => {},
foo3626: () => {},
foo3627: () => {},
foo3628: () => {},
foo3629: () => {},
foo3630: () => {},
foo3631: () => {},
foo3632: () => {},
foo3633: () => {},
foo3634: () => {},
foo3635: () => {},
foo3636: () => {},
foo3637: () => {},
foo3638: () => {},
foo3639: () => {},
foo3640: () => {},
foo3641: () => {},
foo3642: () => {},
foo3643: () => {},
foo3644: () => {},
foo3645: () => {},
foo3646: () => {},
foo3647: () => {},
foo3648: () => {},
foo3649: () => {},
foo3650: () => {},
foo3651: () => {},
foo3652: () => {},
foo3653: () => {},
foo3654: () => {},
foo3655: () => {},
foo3656: () => {},
foo3657: () => {},
foo3658: () => {},
foo3659: () => {},
foo3660: () => {},
foo3661: () => {},
foo3662: () => {},
foo3663: () => {},
foo3664: () => {},
foo3665: () => {},
foo3666: () => {},
foo3667: () => {},
foo3668: () => {},
foo3669: () => {},
foo3670: () => {},
foo3671: () => {},
foo3672: () => {},
foo3673: () => {},
foo3674: () => {},
foo3675: () => {},
foo3676: () => {},
foo3677: () => {},
foo3678: () => {},
foo3679: () => {},
foo3680: () => {},
foo3681: () => {},
foo3682: () => {},
foo3683: () => {},
foo3684: () => {},
foo3685: () => {},
foo3686: () => {},
foo3687: () => {},
foo3688: () => {},
foo3689: () => {},
foo3690: () => {},
foo3691: () => {},
foo3692: () => {},
foo3693: () => {},
foo3694: () => {},
foo3695: () => {},
foo3696: () => {},
foo3697: () => {},
foo3698: () => {},
foo3699: () => {},
foo3700: () => {},
foo3701: () => {},
foo3702: () => {},
foo3703: () => {},
foo3704: () => {},
foo3705: () => {},
foo3706: () => {},
foo3707: () => {},
foo3708: () => {},
foo3709: () => {},
foo3710: () => {},
foo3711: () => {},
foo3712: () => {},
foo3713: () => {},
foo3714: () => {},
foo3715: () => {},
foo3716: () => {},
foo3717: () => {},
foo3718: () => {},
foo3719: () => {},
foo3720: () => {},
foo3721: () => {},
foo3722: () => {},
foo3723: () => {},
foo3724: () => {},
foo3725: () => {},
foo3726: () => {},
foo3727: () => {},
foo3728: () => {},
foo3729: () => {},
foo3730: () => {},
foo3731: () => {},
foo3732: () => {},
foo3733: () => {},
foo3734: () => {},
foo3735: () => {},
foo3736: () => {},
foo3737: () => {},
foo3738: () => {},
foo3739: () => {},
foo3740: () => {},
foo3741: () => {},
foo3742: () => {},
foo3743: () => {},
foo3744: () => {},
foo3745: () => {},
foo3746: () => {},
foo3747: () => {},
foo3748: () => {},
foo3749: () => {},
foo3750: () => {},
foo3751: () => {},
foo3752: () => {},
foo3753: () => {},
foo3754: () => {},
foo3755: () => {},
foo3756: () => {},
foo3757: () => {},
foo3758: () => {},
foo3759: () => {},
foo3760: () => {},
foo3761: () => {},
foo3762: () => {},
foo3763: () => {},
foo3764: () => {},
foo3765: () => {},
foo3766: () => {},
foo3767: () => {},
foo3768: () => {},
foo3769: () => {},
foo3770: () => {},
foo3771: () => {},
foo3772: () => {},
foo3773: () => {},
foo3774: () => {},
foo3775: () => {},
foo3776: () => {},
foo3777: () => {},
foo3778: () => {},
foo3779: () => {},
foo3780: () => {},
foo3781: () => {},
foo3782: () => {},
foo3783: () => {},
foo3784: () => {},
foo3785: () => {},
foo3786: () => {},
foo3787: () => {},
foo3788: () => {},
foo3789: () => {},
foo3790: () => {},
foo3791: () => {},
foo3792: () => {},
foo3793: () => {},
foo3794: () => {},
foo3795: () => {},
foo3796: () => {},
foo3797: () => {},
foo3798: () => {},
foo3799: () => {},
foo3800: () => {},
foo3801: () => {},
foo3802: () => {},
foo3803: () => {},
foo3804: () => {},
foo3805: () => {},
foo3806: () => {},
foo3807: () => {},
foo3808: () => {},
foo3809: () => {},
foo3810: () => {},
foo3811: () => {},
foo3812: () => {},
foo3813: () => {},
foo3814: () => {},
foo3815: () => {},
foo3816: () => {},
foo3817: () => {},
foo3818: () => {},
foo3819: () => {},
foo3820: () => {},
foo3821: () => {},
foo3822: () => {},
foo3823: () => {},
foo3824: () => {},
foo3825: () => {},
foo3826: () => {},
foo3827: () => {},
foo3828: () => {},
foo3829: () => {},
foo3830: () => {},
foo3831: () => {},
foo3832: () => {},
foo3833: () => {},
foo3834: () => {},
foo3835: () => {},
foo3836: () => {},
foo3837: () => {},
foo3838: () => {},
foo3839: () => {},
foo3840: () => {},
foo3841: () => {},
foo3842: () => {},
foo3843: () => {},
foo3844: () => {},
foo3845: () => {},
foo3846: () => {},
foo3847: () => {},
foo3848: () => {},
foo3849: () => {},
foo3850: () => {},
foo3851: () => {},
foo3852: () => {},
foo3853: () => {},
foo3854: () => {},
foo3855: () => {},
foo3856: () => {},
foo3857: () => {},
foo3858: () => {},
foo3859: () => {},
foo3860: () => {},
foo3861: () => {},
foo3862: () => {},
foo3863: () => {},
foo3864: () => {},
foo3865: () => {},
foo3866: () => {},
foo3867: () => {},
foo3868: () => {},
foo3869: () => {},
foo3870: () => {},
foo3871: () => {},
foo3872: () => {},
foo3873: () => {},
foo3874: () => {},
foo3875: () => {},
foo3876: () => {},
foo3877: () => {},
foo3878: () => {},
foo3879: () => {},
foo3880: () => {},
foo3881: () => {},
foo3882: () => {},
foo3883: () => {},
foo3884: () => {},
foo3885: () => {},
foo3886: () => {},
foo3887: () => {},
foo3888: () => {},
foo3889: () => {},
foo3890: () => {},
foo3891: () => {},
foo3892: () => {},
foo3893: () => {},
foo3894: () => {},
foo3895: () => {},
foo3896: () => {},
foo3897: () => {},
foo3898: () => {},
foo3899: () => {},
foo3900: () => {},
foo3901: () => {},
foo3902: () => {},
foo3903: () => {},
foo3904: () => {},
foo3905: () => {},
foo3906: () => {},
foo3907: () => {},
foo3908: () => {},
foo3909: () => {},
foo3910: () => {},
foo3911: () => {},
foo3912: () => {},
foo3913: () => {},
foo3914: () => {},
foo3915: () => {},
foo3916: () => {},
foo3917: () => {},
foo3918: () => {},
foo3919: () => {},
foo3920: () => {},
foo3921: () => {},
foo3922: () => {},
foo3923: () => {},
foo3924: () => {},
foo3925: () => {},
foo3926: () => {},
foo3927: () => {},
foo3928: () => {},
foo3929: () => {},
foo3930: () => {},
foo3931: () => {},
foo3932: () => {},
foo3933: () => {},
foo3934: () => {},
foo3935: () => {},
foo3936: () => {},
foo3937: () => {},
foo3938: () => {},
foo3939: () => {},
foo3940: () => {},
foo3941: () => {},
foo3942: () => {},
foo3943: () => {},
foo3944: () => {},
foo3945: () => {},
foo3946: () => {},
foo3947: () => {},
foo3948: () => {},
foo3949: () => {},
foo3950: () => {},
foo3951: () => {},
foo3952: () => {},
foo3953: () => {},
foo3954: () => {},
foo3955: () => {},
foo3956: () => {},
foo3957: () => {},
foo3958: () => {},
foo3959: () => {},
foo3960: () => {},
foo3961: () => {},
foo3962: () => {},
foo3963: () => {},
foo3964: () => {},
foo3965: () => {},
foo3966: () => {},
foo3967: () => {},
foo3968: () => {},
foo3969: () => {},
foo3970: () => {},
foo3971: () => {},
foo3972: () => {},
foo3973: () => {},
foo3974: () => {},
foo3975: () => {},
foo3976: () => {},
foo3977: () => {},
foo3978: () => {},
foo3979: () => {},
foo3980: () => {},
foo3981: () => {},
foo3982: () => {},
foo3983: () => {},
foo3984: () => {},
foo3985: () => {},
foo3986: () => {},
foo3987: () => {},
foo3988: () => {},
foo3989: () => {},
foo3990: () => {},
foo3991: () => {},
foo3992: () => {},
foo3993: () => {},
foo3994: () => {},
foo3995: () => {},
foo3996: () => {},
foo3997: () => {},
foo3998: () => {},
foo3999: () => {},
foo4000: () => {},
foo4001: () => {},
foo4002: () => {},
foo4003: () => {},
foo4004: () => {},
foo4005: () => {},
foo4006: () => {},
foo4007: () => {},
foo4008: () => {},
foo4009: () => {},
foo4010: () => {},
foo4011: () => {},
foo4012: () => {},
foo4013: () => {},
foo4014: () => {},
foo4015: () => {},
foo4016: () => {},
foo4017: () => {},
foo4018: () => {},
foo4019: () => {},
foo4020: () => {},
foo4021: () => {},
foo4022: () => {},
foo4023: () => {},
foo4024: () => {},
foo4025: () => {},
foo4026: () => {},
foo4027: () => {},
foo4028: () => {},
foo4029: () => {},
foo4030: () => {},
foo4031: () => {},
foo4032: () => {},
foo4033: () => {},
foo4034: () => {},
foo4035: () => {},
foo4036: () => {},
foo4037: () => {},
foo4038: () => {},
foo4039: () => {},
foo4040: () => {},
foo4041: () => {},
foo4042: () => {},
foo4043: () => {},
foo4044: () => {},
foo4045: () => {},
foo4046: () => {},
foo4047: () => {},
foo4048: () => {},
foo4049: () => {},
foo4050: () => {},
foo4051: () => {},
foo4052: () => {},
foo4053: () => {},
foo4054: () => {},
foo4055: () => {},
foo4056: () => {},
foo4057: () => {},
foo4058: () => {},
foo4059: () => {},
foo4060: () => {},
foo4061: () => {},
foo4062: () => {},
foo4063: () => {},
foo4064: () => {},
foo4065: () => {},
foo4066: () => {},
foo4067: () => {},
foo4068: () => {},
foo4069: () => {},
foo4070: () => {},
foo4071: () => {},
foo4072: () => {},
foo4073: () => {},
foo4074: () => {},
foo4075: () => {},
foo4076: () => {},
foo4077: () => {},
foo4078: () => {},
foo4079: () => {},
foo4080: () => {},
foo4081: () => {},
foo4082: () => {},
foo4083: () => {},
foo4084: () => {},
foo4085: () => {},
foo4086: () => {},
foo4087: () => {},
foo4088: () => {},
foo4089: () => {},
foo4090: () => {},
foo4091: () => {},
foo4092: () => {},
foo4093: () => {},
foo4094: () => {},
foo4095: () => {},
foo4096: () => {},
foo4097: () => {},
foo4098: () => {},
foo4099: () => {},
foo4100: () => {},
foo4101: () => {},
foo4102: () => {},
foo4103: () => {},
foo4104: () => {},
foo4105: () => {},
foo4106: () => {},
foo4107: () => {},
foo4108: () => {},
foo4109: () => {},
foo4110: () => {},
foo4111: () => {},
foo4112: () => {},
foo4113: () => {},
foo4114: () => {},
foo4115: () => {},
foo4116: () => {},
foo4117: () => {},
foo4118: () => {},
foo4119: () => {},
foo4120: () => {},
foo4121: () => {},
foo4122: () => {},
foo4123: () => {},
foo4124: () => {},
foo4125: () => {},
foo4126: () => {},
foo4127: () => {},
foo4128: () => {},
foo4129: () => {},
foo4130: () => {},
foo4131: () => {},
foo4132: () => {},
foo4133: () => {},
foo4134: () => {},
foo4135: () => {},
foo4136: () => {},
foo4137: () => {},
foo4138: () => {},
foo4139: () => {},
foo4140: () => {},
foo4141: () => {},
foo4142: () => {},
foo4143: () => {},
foo4144: () => {},
foo4145: () => {},
foo4146: () => {},
foo4147: () => {},
foo4148: () => {},
foo4149: () => {},
foo4150: () => {},
foo4151: () => {},
foo4152: () => {},
foo4153: () => {},
foo4154: () => {},
foo4155: () => {},
foo4156: () => {},
foo4157: () => {},
foo4158: () => {},
foo4159: () => {},
foo4160: () => {},
foo4161: () => {},
foo4162: () => {},
foo4163: () => {},
foo4164: () => {},
foo4165: () => {},
foo4166: () => {},
foo4167: () => {},
foo4168: () => {},
foo4169: () => {},
foo4170: () => {},
foo4171: () => {},
foo4172: () => {},
foo4173: () => {},
foo4174: () => {},
foo4175: () => {},
foo4176: () => {},
foo4177: () => {},
foo4178: () => {},
foo4179: () => {},
foo4180: () => {},
foo4181: () => {},
foo4182: () => {},
foo4183: () => {},
foo4184: () => {},
foo4185: () => {},
foo4186: () => {},
foo4187: () => {},
foo4188: () => {},
foo4189: () => {},
foo4190: () => {},
foo4191: () => {},
foo4192: () => {},
foo4193: () => {},
foo4194: () => {},
foo4195: () => {},
foo4196: () => {},
foo4197: () => {},
foo4198: () => {},
foo4199: () => {},
foo4200: () => {},
foo4201: () => {},
foo4202: () => {},
foo4203: () => {},
foo4204: () => {},
foo4205: () => {},
foo4206: () => {},
foo4207: () => {},
foo4208: () => {},
foo4209: () => {},
foo4210: () => {},
foo4211: () => {},
foo4212: () => {},
foo4213: () => {},
foo4214: () => {},
foo4215: () => {},
foo4216: () => {},
foo4217: () => {},
foo4218: () => {},
foo4219: () => {},
foo4220: () => {},
foo4221: () => {},
foo4222: () => {},
foo4223: () => {},
foo4224: () => {},
foo4225: () => {},
foo4226: () => {},
foo4227: () => {},
foo4228: () => {},
foo4229: () => {},
foo4230: () => {},
foo4231: () => {},
foo4232: () => {},
foo4233: () => {},
foo4234: () => {},
foo4235: () => {},
foo4236: () => {},
foo4237: () => {},
foo4238: () => {},
foo4239: () => {},
foo4240: () => {},
foo4241: () => {},
foo4242: () => {},
foo4243: () => {},
foo4244: () => {},
foo4245: () => {},
foo4246: () => {},
foo4247: () => {},
foo4248: () => {},
foo4249: () => {},
foo4250: () => {},
foo4251: () => {},
foo4252: () => {},
foo4253: () => {},
foo4254: () => {},
foo4255: () => {},
foo4256: () => {},
foo4257: () => {},
foo4258: () => {},
foo4259: () => {},
foo4260: () => {},
foo4261: () => {},
foo4262: () => {},
foo4263: () => {},
foo4264: () => {},
foo4265: () => {},
foo4266: () => {},
foo4267: () => {},
foo4268: () => {},
foo4269: () => {},
foo4270: () => {},
foo4271: () => {},
foo4272: () => {},
foo4273: () => {},
foo4274: () => {},
foo4275: () => {},
foo4276: () => {},
foo4277: () => {},
foo4278: () => {},
foo4279: () => {},
foo4280: () => {},
foo4281: () => {},
foo4282: () => {},
foo4283: () => {},
foo4284: () => {},
foo4285: () => {},
foo4286: () => {},
foo4287: () => {},
foo4288: () => {},
foo4289: () => {},
foo4290: () => {},
foo4291: () => {},
foo4292: () => {},
foo4293: () => {},
foo4294: () => {},
foo4295: () => {},
foo4296: () => {},
foo4297: () => {},
foo4298: () => {},
foo4299: () => {},
foo4300: () => {},
foo4301: () => {},
foo4302: () => {},
foo4303: () => {},
foo4304: () => {},
foo4305: () => {},
foo4306: () => {},
foo4307: () => {},
foo4308: () => {},
foo4309: () => {},
foo4310: () => {},
foo4311: () => {},
foo4312: () => {},
foo4313: () => {},
foo4314: () => {},
foo4315: () => {},
foo4316: () => {},
foo4317: () => {},
foo4318: () => {},
foo4319: () => {},
foo4320: () => {},
foo4321: () => {},
foo4322: () => {},
foo4323: () => {},
foo4324: () => {},
foo4325: () => {},
foo4326: () => {},
foo4327: () => {},
foo4328: () => {},
foo4329: () => {},
foo4330: () => {},
foo4331: () => {},
foo4332: () => {},
foo4333: () => {},
foo4334: () => {},
foo4335: () => {},
foo4336: () => {},
foo4337: () => {},
foo4338: () => {},
foo4339: () => {},
foo4340: () => {},
foo4341: () => {},
foo4342: () => {},
foo4343: () => {},
foo4344: () => {},
foo4345: () => {},
foo4346: () => {},
foo4347: () => {},
foo4348: () => {},
foo4349: () => {},
foo4350: () => {},
foo4351: () => {},
foo4352: () => {},
foo4353: () => {},
foo4354: () => {},
foo4355: () => {},
foo4356: () => {},
foo4357: () => {},
foo4358: () => {},
foo4359: () => {},
foo4360: () => {},
foo4361: () => {},
foo4362: () => {},
foo4363: () => {},
foo4364: () => {},
foo4365: () => {},
foo4366: () => {},
foo4367: () => {},
foo4368: () => {},
foo4369: () => {},
foo4370: () => {},
foo4371: () => {},
foo4372: () => {},
foo4373: () => {},
foo4374: () => {},
foo4375: () => {},
foo4376: () => {},
foo4377: () => {},
foo4378: () => {},
foo4379: () => {},
foo4380: () => {},
foo4381: () => {},
foo4382: () => {},
foo4383: () => {},
foo4384: () => {},
foo4385: () => {},
foo4386: () => {},
foo4387: () => {},
foo4388: () => {},
foo4389: () => {},
foo4390: () => {},
foo4391: () => {},
foo4392: () => {},
foo4393: () => {},
foo4394: () => {},
foo4395: () => {},
foo4396: () => {},
foo4397: () => {},
foo4398: () => {},
foo4399: () => {},
foo4400: () => {},
foo4401: () => {},
foo4402: () => {},
foo4403: () => {},
foo4404: () => {},
foo4405: () => {},
foo4406: () => {},
foo4407: () => {},
foo4408: () => {},
foo4409: () => {},
foo4410: () => {},
foo4411: () => {},
foo4412: () => {},
foo4413: () => {},
foo4414: () => {},
foo4415: () => {},
foo4416: () => {},
foo4417: () => {},
foo4418: () => {},
foo4419: () => {},
foo4420: () => {},
foo4421: () => {},
foo4422: () => {},
foo4423: () => {},
foo4424: () => {},
foo4425: () => {},
foo4426: () => {},
foo4427: () => {},
foo4428: () => {},
foo4429: () => {},
foo4430: () => {},
foo4431: () => {},
foo4432: () => {},
foo4433: () => {},
foo4434: () => {},
foo4435: () => {},
foo4436: () => {},
foo4437: () => {},
foo4438: () => {},
foo4439: () => {},
foo4440: () => {},
foo4441: () => {},
foo4442: () => {},
foo4443: () => {},
foo4444: () => {},
foo4445: () => {},
foo4446: () => {},
foo4447: () => {},
foo4448: () => {},
foo4449: () => {},
foo4450: () => {},
foo4451: () => {},
foo4452: () => {},
foo4453: () => {},
foo4454: () => {},
foo4455: () => {},
foo4456: () => {},
foo4457: () => {},
foo4458: () => {},
foo4459: () => {},
foo4460: () => {},
foo4461: () => {},
foo4462: () => {},
foo4463: () => {},
foo4464: () => {},
foo4465: () => {},
foo4466: () => {},
foo4467: () => {},
foo4468: () => {},
foo4469: () => {},
foo4470: () => {},
foo4471: () => {},
foo4472: () => {},
foo4473: () => {},
foo4474: () => {},
foo4475: () => {},
foo4476: () => {},
foo4477: () => {},
foo4478: () => {},
foo4479: () => {},
foo4480: () => {},
foo4481: () => {},
foo4482: () => {},
foo4483: () => {},
foo4484: () => {},
foo4485: () => {},
foo4486: () => {},
foo4487: () => {},
foo4488: () => {},
foo4489: () => {},
foo4490: () => {},
foo4491: () => {},
foo4492: () => {},
foo4493: () => {},
foo4494: () => {},
foo4495: () => {},
foo4496: () => {},
foo4497: () => {},
foo4498: () => {},
foo4499: () => {},
foo4500: () => {},
foo4501: () => {},
foo4502: () => {},
foo4503: () => {},
foo4504: () => {},
foo4505: () => {},
foo4506: () => {},
foo4507: () => {},
foo4508: () => {},
foo4509: () => {},
foo4510: () => {},
foo4511: () => {},
foo4512: () => {},
foo4513: () => {},
foo4514: () => {},
foo4515: () => {},
foo4516: () => {},
foo4517: () => {},
foo4518: () => {},
foo4519: () => {},
foo4520: () => {},
foo4521: () => {},
foo4522: () => {},
foo4523: () => {},
foo4524: () => {},
foo4525: () => {},
foo4526: () => {},
foo4527: () => {},
foo4528: () => {},
foo4529: () => {},
foo4530: () => {},
foo4531: () => {},
foo4532: () => {},
foo4533: () => {},
foo4534: () => {},
foo4535: () => {},
foo4536: () => {},
foo4537: () => {},
foo4538: () => {},
foo4539: () => {},
foo4540: () => {},
foo4541: () => {},
foo4542: () => {},
foo4543: () => {},
foo4544: () => {},
foo4545: () => {},
foo4546: () => {},
foo4547: () => {},
foo4548: () => {},
foo4549: () => {},
foo4550: () => {},
foo4551: () => {},
foo4552: () => {},
foo4553: () => {},
foo4554: () => {},
foo4555: () => {},
foo4556: () => {},
foo4557: () => {},
foo4558: () => {},
foo4559: () => {},
foo4560: () => {},
foo4561: () => {},
foo4562: () => {},
foo4563: () => {},
foo4564: () => {},
foo4565: () => {},
foo4566: () => {},
foo4567: () => {},
foo4568: () => {},
foo4569: () => {},
foo4570: () => {},
foo4571: () => {},
foo4572: () => {},
foo4573: () => {},
foo4574: () => {},
foo4575: () => {},
foo4576: () => {},
foo4577: () => {},
foo4578: () => {},
foo4579: () => {},
foo4580: () => {},
foo4581: () => {},
foo4582: () => {},
foo4583: () => {},
foo4584: () => {},
foo4585: () => {},
foo4586: () => {},
foo4587: () => {},
foo4588: () => {},
foo4589: () => {},
foo4590: () => {},
foo4591: () => {},
foo4592: () => {},
foo4593: () => {},
foo4594: () => {},
foo4595: () => {},
foo4596: () => {},
foo4597: () => {},
foo4598: () => {},
foo4599: () => {},
foo4600: () => {},
foo4601: () => {},
foo4602: () => {},
foo4603: () => {},
foo4604: () => {},
foo4605: () => {},
foo4606: () => {},
foo4607: () => {},
foo4608: () => {},
foo4609: () => {},
foo4610: () => {},
foo4611: () => {},
foo4612: () => {},
foo4613: () => {},
foo4614: () => {},
foo4615: () => {},
foo4616: () => {},
foo4617: () => {},
foo4618: () => {},
foo4619: () => {},
foo4620: () => {},
foo4621: () => {},
foo4622: () => {},
foo4623: () => {},
foo4624: () => {},
foo4625: () => {},
foo4626: () => {},
foo4627: () => {},
foo4628: () => {},
foo4629: () => {},
foo4630: () => {},
foo4631: () => {},
foo4632: () => {},
foo4633: () => {},
foo4634: () => {},
foo4635: () => {},
foo4636: () => {},
foo4637: () => {},
foo4638: () => {},
foo4639: () => {},
foo4640: () => {},
foo4641: () => {},
foo4642: () => {},
foo4643: () => {},
foo4644: () => {},
foo4645: () => {},
foo4646: () => {},
foo4647: () => {},
foo4648: () => {},
foo4649: () => {},
foo4650: () => {},
foo4651: () => {},
foo4652: () => {},
foo4653: () => {},
foo4654: () => {},
foo4655: () => {},
foo4656: () => {},
foo4657: () => {},
foo4658: () => {},
foo4659: () => {},
foo4660: () => {},
foo4661: () => {},
foo4662: () => {},
foo4663: () => {},
foo4664: () => {},
foo4665: () => {},
foo4666: () => {},
foo4667: () => {},
foo4668: () => {},
foo4669: () => {},
foo4670: () => {},
foo4671: () => {},
foo4672: () => {},
foo4673: () => {},
foo4674: () => {},
foo4675: () => {},
foo4676: () => {},
foo4677: () => {},
foo4678: () => {},
foo4679: () => {},
foo4680: () => {},
foo4681: () => {},
foo4682: () => {},
foo4683: () => {},
foo4684: () => {},
foo4685: () => {},
foo4686: () => {},
foo4687: () => {},
foo4688: () => {},
foo4689: () => {},
foo4690: () => {},
foo4691: () => {},
foo4692: () => {},
foo4693: () => {},
foo4694: () => {},
foo4695: () => {},
foo4696: () => {},
foo4697: () => {},
foo4698: () => {},
foo4699: () => {},
foo4700: () => {},
foo4701: () => {},
foo4702: () => {},
foo4703: () => {},
foo4704: () => {},
foo4705: () => {},
foo4706: () => {},
foo4707: () => {},
foo4708: () => {},
foo4709: () => {},
foo4710: () => {},
foo4711: () => {},
foo4712: () => {},
foo4713: () => {},
foo4714: () => {},
foo4715: () => {},
foo4716: () => {},
foo4717: () => {},
foo4718: () => {},
foo4719: () => {},
foo4720: () => {},
foo4721: () => {},
foo4722: () => {},
foo4723: () => {},
foo4724: () => {},
foo4725: () => {},
foo4726: () => {},
foo4727: () => {},
foo4728: () => {},
foo4729: () => {},
foo4730: () => {},
foo4731: () => {},
foo4732: () => {},
foo4733: () => {},
foo4734: () => {},
foo4735: () => {},
foo4736: () => {},
foo4737: () => {},
foo4738: () => {},
foo4739: () => {},
foo4740: () => {},
foo4741: () => {},
foo4742: () => {},
foo4743: () => {},
foo4744: () => {},
foo4745: () => {},
foo4746: () => {},
foo4747: () => {},
foo4748: () => {},
foo4749: () => {},
foo4750: () => {},
foo4751: () => {},
foo4752: () => {},
foo4753: () => {},
foo4754: () => {},
foo4755: () => {},
foo4756: () => {},
foo4757: () => {},
foo4758: () => {},
foo4759: () => {},
foo4760: () => {},
foo4761: () => {},
foo4762: () => {},
foo4763: () => {},
foo4764: () => {},
foo4765: () => {},
foo4766: () => {},
foo4767: () => {},
foo4768: () => {},
foo4769: () => {},
foo4770: () => {},
foo4771: () => {},
foo4772: () => {},
foo4773: () => {},
foo4774: () => {},
foo4775: () => {},
foo4776: () => {},
foo4777: () => {},
foo4778: () => {},
foo4779: () => {},
foo4780: () => {},
foo4781: () => {},
foo4782: () => {},
foo4783: () => {},
foo4784: () => {},
foo4785: () => {},
foo4786: () => {},
foo4787: () => {},
foo4788: () => {},
foo4789: () => {},
foo4790: () => {},
foo4791: () => {},
foo4792: () => {},
foo4793: () => {},
foo4794: () => {},
foo4795: () => {},
foo4796: () => {},
foo4797: () => {},
foo4798: () => {},
foo4799: () => {},
foo4800: () => {},
foo4801: () => {},
foo4802: () => {},
foo4803: () => {},
foo4804: () => {},
foo4805: () => {},
foo4806: () => {},
foo4807: () => {},
foo4808: () => {},
foo4809: () => {},
foo4810: () => {},
foo4811: () => {},
foo4812: () => {},
foo4813: () => {},
foo4814: () => {},
foo4815: () => {},
foo4816: () => {},
foo4817: () => {},
foo4818: () => {},
foo4819: () => {},
foo4820: () => {},
foo4821: () => {},
foo4822: () => {},
foo4823: () => {},
foo4824: () => {},
foo4825: () => {},
foo4826: () => {},
foo4827: () => {},
foo4828: () => {},
foo4829: () => {},
foo4830: () => {},
foo4831: () => {},
foo4832: () => {},
foo4833: () => {},
foo4834: () => {},
foo4835: () => {},
foo4836: () => {},
foo4837: () => {},
foo4838: () => {},
foo4839: () => {},
foo4840: () => {},
foo4841: () => {},
foo4842: () => {},
foo4843: () => {},
foo4844: () => {},
foo4845: () => {},
foo4846: () => {},
foo4847: () => {},
foo4848: () => {},
foo4849: () => {},
foo4850: () => {},
foo4851: () => {},
foo4852: () => {},
foo4853: () => {},
foo4854: () => {},
foo4855: () => {},
foo4856: () => {},
foo4857: () => {},
foo4858: () => {},
foo4859: () => {},
foo4860: () => {},
foo4861: () => {},
foo4862: () => {},
foo4863: () => {},
foo4864: () => {},
foo4865: () => {},
foo4866: () => {},
foo4867: () => {},
foo4868: () => {},
foo4869: () => {},
foo4870: () => {},
foo4871: () => {},
foo4872: () => {},
foo4873: () => {},
foo4874: () => {},
foo4875: () => {},
foo4876: () => {},
foo4877: () => {},
foo4878: () => {},
foo4879: () => {},
foo4880: () => {},
foo4881: () => {},
foo4882: () => {},
foo4883: () => {},
foo4884: () => {},
foo4885: () => {},
foo4886: () => {},
foo4887: () => {},
foo4888: () => {},
foo4889: () => {},
foo4890: () => {},
foo4891: () => {},
foo4892: () => {},
foo4893: () => {},
foo4894: () => {},
foo4895: () => {},
foo4896: () => {},
foo4897: () => {},
foo4898: () => {},
foo4899: () => {},
foo4900: () => {},
foo4901: () => {},
foo4902: () => {},
foo4903: () => {},
foo4904: () => {},
foo4905: () => {},
foo4906: () => {},
foo4907: () => {},
foo4908: () => {},
foo4909: () => {},
foo4910: () => {},
foo4911: () => {},
foo4912: () => {},
foo4913: () => {},
foo4914: () => {},
foo4915: () => {},
foo4916: () => {},
foo4917: () => {},
foo4918: () => {},
foo4919: () => {},
foo4920: () => {},
foo4921: () => {},
foo4922: () => {},
foo4923: () => {},
foo4924: () => {},
foo4925: () => {},
foo4926: () => {},
foo4927: () => {},
foo4928: () => {},
foo4929: () => {},
foo4930: () => {},
foo4931: () => {},
foo4932: () => {},
foo4933: () => {},
foo4934: () => {},
foo4935: () => {},
foo4936: () => {},
foo4937: () => {},
foo4938: () => {},
foo4939: () => {},
foo4940: () => {},
foo4941: () => {},
foo4942: () => {},
foo4943: () => {},
foo4944: () => {},
foo4945: () => {},
foo4946: () => {},
foo4947: () => {},
foo4948: () => {},
foo4949: () => {},
foo4950: () => {},
foo4951: () => {},
foo4952: () => {},
foo4953: () => {},
foo4954: () => {},
foo4955: () => {},
foo4956: () => {},
foo4957: () => {},
foo4958: () => {},
foo4959: () => {},
foo4960: () => {},
foo4961: () => {},
foo4962: () => {},
foo4963: () => {},
foo4964: () => {},
foo4965: () => {},
foo4966: () => {},
foo4967: () => {},
foo4968: () => {},
foo4969: () => {},
foo4970: () => {},
foo4971: () => {},
foo4972: () => {},
foo4973: () => {},
foo4974: () => {},
foo4975: () => {},
foo4976: () => {},
foo4977: () => {},
foo4978: () => {},
foo4979: () => {},
foo4980: () => {},
foo4981: () => {},
foo4982: () => {},
foo4983: () => {},
foo4984: () => {},
foo4985: () => {},
foo4986: () => {},
foo4987: () => {},
foo4988: () => {},
foo4989: () => {},
foo4990: () => {},
foo4991: () => {},
foo4992: () => {},
foo4993: () => {},
foo4994: () => {},
foo4995: () => {},
foo4996: () => {},
foo4997: () => {},
foo4998: () => {},
foo4999: () => {},
foo5000: () => {},
foo5001: () => {},
foo5002: () => {},
foo5003: () => {},
foo5004: () => {},
foo5005: () => {},
foo5006: () => {},
foo5007: () => {},
foo5008: () => {},
foo5009: () => {},
foo5010: () => {},
foo5011: () => {},
foo5012: () => {},
foo5013: () => {},
foo5014: () => {},
foo5015: () => {},
foo5016: () => {},
foo5017: () => {},
foo5018: () => {},
foo5019: () => {},
foo5020: () => {},
foo5021: () => {},
foo5022: () => {},
foo5023: () => {},
foo5024: () => {},
foo5025: () => {},
foo5026: () => {},
foo5027: () => {},
foo5028: () => {},
foo5029: () => {},
foo5030: () => {},
foo5031: () => {},
foo5032: () => {},
foo5033: () => {},
foo5034: () => {},
foo5035: () => {},
foo5036: () => {},
foo5037: () => {},
foo5038: () => {},
foo5039: () => {},
foo5040: () => {},
foo5041: () => {},
foo5042: () => {},
foo5043: () => {},
foo5044: () => {},
foo5045: () => {},
foo5046: () => {},
foo5047: () => {},
foo5048: () => {},
foo5049: () => {},
foo5050: () => {},
foo5051: () => {},
foo5052: () => {},
foo5053: () => {},
foo5054: () => {},
foo5055: () => {},
foo5056: () => {},
foo5057: () => {},
foo5058: () => {},
foo5059: () => {},
foo5060: () => {},
foo5061: () => {},
foo5062: () => {},
foo5063: () => {},
foo5064: () => {},
foo5065: () => {},
foo5066: () => {},
foo5067: () => {},
foo5068: () => {},
foo5069: () => {},
foo5070: () => {},
foo5071: () => {},
foo5072: () => {},
foo5073: () => {},
foo5074: () => {},
foo5075: () => {},
foo5076: () => {},
foo5077: () => {},
foo5078: () => {},
foo5079: () => {},
foo5080: () => {},
foo5081: () => {},
foo5082: () => {},
foo5083: () => {},
foo5084: () => {},
foo5085: () => {},
foo5086: () => {},
foo5087: () => {},
foo5088: () => {},
foo5089: () => {},
foo5090: () => {},
foo5091: () => {},
foo5092: () => {},
foo5093: () => {},
foo5094: () => {},
foo5095: () => {},
foo5096: () => {},
foo5097: () => {},
foo5098: () => {},
foo5099: () => {},
foo5100: () => {},
foo5101: () => {},
foo5102: () => {},
foo5103: () => {},
foo5104: () => {},
foo5105: () => {},
foo5106: () => {},
foo5107: () => {},
foo5108: () => {},
foo5109: () => {},
foo5110: () => {},
foo5111: () => {},
foo5112: () => {},
foo5113: () => {},
foo5114: () => {},
foo5115: () => {},
foo5116: () => {},
foo5117: () => {},
foo5118: () => {},
foo5119: () => {},
foo5120: () => {},
foo5121: () => {},
foo5122: () => {},
foo5123: () => {},
foo5124: () => {},
foo5125: () => {},
foo5126: () => {},
foo5127: () => {},
foo5128: () => {},
foo5129: () => {},
foo5130: () => {},
foo5131: () => {},
foo5132: () => {},
foo5133: () => {},
foo5134: () => {},
foo5135: () => {},
foo5136: () => {},
foo5137: () => {},
foo5138: () => {},
foo5139: () => {},
foo5140: () => {},
foo5141: () => {},
foo5142: () => {},
foo5143: () => {},
foo5144: () => {},
foo5145: () => {},
foo5146: () => {},
foo5147: () => {},
foo5148: () => {},
foo5149: () => {},
foo5150: () => {},
foo5151: () => {},
foo5152: () => {},
foo5153: () => {},
foo5154: () => {},
foo5155: () => {},
foo5156: () => {},
foo5157: () => {},
foo5158: () => {},
foo5159: () => {},
foo5160: () => {},
foo5161: () => {},
foo5162: () => {},
foo5163: () => {},
foo5164: () => {},
foo5165: () => {},
foo5166: () => {},
foo5167: () => {},
foo5168: () => {},
foo5169: () => {},
foo5170: () => {},
foo5171: () => {},
foo5172: () => {},
foo5173: () => {},
foo5174: () => {},
foo5175: () => {},
foo5176: () => {},
foo5177: () => {},
foo5178: () => {},
foo5179: () => {},
foo5180: () => {},
foo5181: () => {},
foo5182: () => {},
foo5183: () => {},
foo5184: () => {},
foo5185: () => {},
foo5186: () => {},
foo5187: () => {},
foo5188: () => {},
foo5189: () => {},
foo5190: () => {},
foo5191: () => {},
foo5192: () => {},
foo5193: () => {},
foo5194: () => {},
foo5195: () => {},
foo5196: () => {},
foo5197: () => {},
foo5198: () => {},
foo5199: () => {},
foo5200: () => {},
foo5201: () => {},
foo5202: () => {},
foo5203: () => {},
foo5204: () => {},
foo5205: () => {},
foo5206: () => {},
foo5207: () => {},
foo5208: () => {},
foo5209: () => {},
foo5210: () => {},
foo5211: () => {},
foo5212: () => {},
foo5213: () => {},
foo5214: () => {},
foo5215: () => {},
foo5216: () => {},
foo5217: () => {},
foo5218: () => {},
foo5219: () => {},
foo5220: () => {},
foo5221: () => {},
foo5222: () => {},
foo5223: () => {},
foo5224: () => {},
foo5225: () => {},
foo5226: () => {},
foo5227: () => {},
foo5228: () => {},
foo5229: () => {},
foo5230: () => {},
foo5231: () => {},
foo5232: () => {},
foo5233: () => {},
foo5234: () => {},
foo5235: () => {},
foo5236: () => {},
foo5237: () => {},
foo5238: () => {},
foo5239: () => {},
foo5240: () => {},
foo5241: () => {},
foo5242: () => {},
foo5243: () => {},
foo5244: () => {},
foo5245: () => {},
foo5246: () => {},
foo5247: () => {},
foo5248: () => {},
foo5249: () => {},
foo5250: () => {},
foo5251: () => {},
foo5252: () => {},
foo5253: () => {},
foo5254: () => {},
foo5255: () => {},
foo5256: () => {},
foo5257: () => {},
foo5258: () => {},
foo5259: () => {},
foo5260: () => {},
foo5261: () => {},
foo5262: () => {},
foo5263: () => {},
foo5264: () => {},
foo5265: () => {},
foo5266: () => {},
foo5267: () => {},
foo5268: () => {},
foo5269: () => {},
foo5270: () => {},
foo5271: () => {},
foo5272: () => {},
foo5273: () => {},
foo5274: () => {},
foo5275: () => {},
foo5276: () => {},
foo5277: () => {},
foo5278: () => {},
foo5279: () => {},
foo5280: () => {},
foo5281: () => {},
foo5282: () => {},
foo5283: () => {},
foo5284: () => {},
foo5285: () => {},
foo5286: () => {},
foo5287: () => {},
foo5288: () => {},
foo5289: () => {},
foo5290: () => {},
foo5291: () => {},
foo5292: () => {},
foo5293: () => {},
foo5294: () => {},
foo5295: () => {},
foo5296: () => {},
foo5297: () => {},
foo5298: () => {},
foo5299: () => {},
foo5300: () => {},
foo5301: () => {},
foo5302: () => {},
foo5303: () => {},
foo5304: () => {},
foo5305: () => {},
foo5306: () => {},
foo5307: () => {},
foo5308: () => {},
foo5309: () => {},
foo5310: () => {},
foo5311: () => {},
foo5312: () => {},
foo5313: () => {},
foo5314: () => {},
foo5315: () => {},
foo5316: () => {},
foo5317: () => {},
foo5318: () => {},
foo5319: () => {},
foo5320: () => {},
foo5321: () => {},
foo5322: () => {},
foo5323: () => {},
foo5324: () => {},
foo5325: () => {},
foo5326: () => {},
foo5327: () => {},
foo5328: () => {},
foo5329: () => {},
foo5330: () => {},
foo5331: () => {},
foo5332: () => {},
foo5333: () => {},
foo5334: () => {},
foo5335: () => {},
foo5336: () => {},
foo5337: () => {},
foo5338: () => {},
foo5339: () => {},
foo5340: () => {},
foo5341: () => {},
foo5342: () => {},
foo5343: () => {},
foo5344: () => {},
foo5345: () => {},
foo5346: () => {},
foo5347: () => {},
foo5348: () => {},
foo5349: () => {},
foo5350: () => {},
foo5351: () => {},
foo5352: () => {},
foo5353: () => {},
foo5354: () => {},
foo5355: () => {},
foo5356: () => {},
foo5357: () => {},
foo5358: () => {},
foo5359: () => {},
foo5360: () => {},
foo5361: () => {},
foo5362: () => {},
foo5363: () => {},
foo5364: () => {},
foo5365: () => {},
foo5366: () => {},
foo5367: () => {},
foo5368: () => {},
foo5369: () => {},
foo5370: () => {},
foo5371: () => {},
foo5372: () => {},
foo5373: () => {},
foo5374: () => {},
foo5375: () => {},
foo5376: () => {},
foo5377: () => {},
foo5378: () => {},
foo5379: () => {},
foo5380: () => {},
foo5381: () => {},
foo5382: () => {},
foo5383: () => {},
foo5384: () => {},
foo5385: () => {},
foo5386: () => {},
foo5387: () => {},
foo5388: () => {},
foo5389: () => {},
foo5390: () => {},
foo5391: () => {},
foo5392: () => {},
foo5393: () => {},
foo5394: () => {},
foo5395: () => {},
foo5396: () => {},
foo5397: () => {},
foo5398: () => {},
foo5399: () => {},
foo5400: () => {},
foo5401: () => {},
foo5402: () => {},
foo5403: () => {},
foo5404: () => {},
foo5405: () => {},
foo5406: () => {},
foo5407: () => {},
foo5408: () => {},
foo5409: () => {},
foo5410: () => {},
foo5411: () => {},
foo5412: () => {},
foo5413: () => {},
foo5414: () => {},
foo5415: () => {},
foo5416: () => {},
foo5417: () => {},
foo5418: () => {},
foo5419: () => {},
foo5420: () => {},
foo5421: () => {},
foo5422: () => {},
foo5423: () => {},
foo5424: () => {},
foo5425: () => {},
foo5426: () => {},
foo5427: () => {},
foo5428: () => {},
foo5429: () => {},
foo5430: () => {},
foo5431: () => {},
foo5432: () => {},
foo5433: () => {},
foo5434: () => {},
foo5435: () => {},
foo5436: () => {},
foo5437: () => {},
foo5438: () => {},
foo5439: () => {},
foo5440: () => {},
foo5441: () => {},
foo5442: () => {},
foo5443: () => {},
foo5444: () => {},
foo5445: () => {},
foo5446: () => {},
foo5447: () => {},
foo5448: () => {},
foo5449: () => {},
foo5450: () => {},
foo5451: () => {},
foo5452: () => {},
foo5453: () => {},
foo5454: () => {},
foo5455: () => {},
foo5456: () => {},
foo5457: () => {},
foo5458: () => {},
foo5459: () => {},
foo5460: () => {},
foo5461: () => {},
foo5462: () => {},
foo5463: () => {},
foo5464: () => {},
foo5465: () => {},
foo5466: () => {},
foo5467: () => {},
foo5468: () => {},
foo5469: () => {},
foo5470: () => {},
foo5471: () => {},
foo5472: () => {},
foo5473: () => {},
foo5474: () => {},
foo5475: () => {},
foo5476: () => {},
foo5477: () => {},
foo5478: () => {},
foo5479: () => {},
foo5480: () => {},
foo5481: () => {},
foo5482: () => {},
foo5483: () => {},
foo5484: () => {},
foo5485: () => {},
foo5486: () => {},
foo5487: () => {},
foo5488: () => {},
foo5489: () => {},
foo5490: () => {},
foo5491: () => {},
foo5492: () => {},
foo5493: () => {},
foo5494: () => {},
foo5495: () => {},
foo5496: () => {},
foo5497: () => {},
foo5498: () => {},
foo5499: () => {},
foo5500: () => {},
foo5501: () => {},
foo5502: () => {},
foo5503: () => {},
foo5504: () => {},
foo5505: () => {},
foo5506: () => {},
foo5507: () => {},
foo5508: () => {},
foo5509: () => {},
foo5510: () => {},
foo5511: () => {},
foo5512: () => {},
foo5513: () => {},
foo5514: () => {},
foo5515: () => {},
foo5516: () => {},
foo5517: () => {},
foo5518: () => {},
foo5519: () => {},
foo5520: () => {},
foo5521: () => {},
foo5522: () => {},
foo5523: () => {},
foo5524: () => {},
foo5525: () => {},
foo5526: () => {},
foo5527: () => {},
foo5528: () => {},
foo5529: () => {},
foo5530: () => {},
foo5531: () => {},
foo5532: () => {},
foo5533: () => {},
foo5534: () => {},
foo5535: () => {},
foo5536: () => {},
foo5537: () => {},
foo5538: () => {},
foo5539: () => {},
foo5540: () => {},
foo5541: () => {},
foo5542: () => {},
foo5543: () => {},
foo5544: () => {},
foo5545: () => {},
foo5546: () => {},
foo5547: () => {},
foo5548: () => {},
foo5549: () => {},
foo5550: () => {},
foo5551: () => {},
foo5552: () => {},
foo5553: () => {},
foo5554: () => {},
foo5555: () => {},
foo5556: () => {},
foo5557: () => {},
foo5558: () => {},
foo5559: () => {},
foo5560: () => {},
foo5561: () => {},
foo5562: () => {},
foo5563: () => {},
foo5564: () => {},
foo5565: () => {},
foo5566: () => {},
foo5567: () => {},
foo5568: () => {},
foo5569: () => {},
foo5570: () => {},
foo5571: () => {},
foo5572: () => {},
foo5573: () => {},
foo5574: () => {},
foo5575: () => {},
foo5576: () => {},
foo5577: () => {},
foo5578: () => {},
foo5579: () => {},
foo5580: () => {},
foo5581: () => {},
foo5582: () => {},
foo5583: () => {},
foo5584: () => {},
foo5585: () => {},
foo5586: () => {},
foo5587: () => {},
foo5588: () => {},
foo5589: () => {},
foo5590: () => {},
foo5591: () => {},
foo5592: () => {},
foo5593: () => {},
foo5594: () => {},
foo5595: () => {},
foo5596: () => {},
foo5597: () => {},
foo5598: () => {},
foo5599: () => {},
foo5600: () => {},
foo5601: () => {},
foo5602: () => {},
foo5603: () => {},
foo5604: () => {},
foo5605: () => {},
foo5606: () => {},
foo5607: () => {},
foo5608: () => {},
foo5609: () => {},
foo5610: () => {},
foo5611: () => {},
foo5612: () => {},
foo5613: () => {},
foo5614: () => {},
foo5615: () => {},
foo5616: () => {},
foo5617: () => {},
foo5618: () => {},
foo5619: () => {},
foo5620: () => {},
foo5621: () => {},
foo5622: () => {},
foo5623: () => {},
foo5624: () => {},
foo5625: () => {},
foo5626: () => {},
foo5627: () => {},
foo5628: () => {},
foo5629: () => {},
foo5630: () => {},
foo5631: () => {},
foo5632: () => {},
foo5633: () => {},
foo5634: () => {},
foo5635: () => {},
foo5636: () => {},
foo5637: () => {},
foo5638: () => {},
foo5639: () => {},
foo5640: () => {},
foo5641: () => {},
foo5642: () => {},
foo5643: () => {},
foo5644: () => {},
foo5645: () => {},
foo5646: () => {},
foo5647: () => {},
foo5648: () => {},
foo5649: () => {},
foo5650: () => {},
foo5651: () => {},
foo5652: () => {},
foo5653: () => {},
foo5654: () => {},
foo5655: () => {},
foo5656: () => {},
foo5657: () => {},
foo5658: () => {},
foo5659: () => {},
foo5660: () => {},
foo5661: () => {},
foo5662: () => {},
foo5663: () => {},
foo5664: () => {},
foo5665: () => {},
foo5666: () => {},
foo5667: () => {},
foo5668: () => {},
foo5669: () => {},
foo5670: () => {},
foo5671: () => {},
foo5672: () => {},
foo5673: () => {},
foo5674: () => {},
foo5675: () => {},
foo5676: () => {},
foo5677: () => {},
foo5678: () => {},
foo5679: () => {},
foo5680: () => {},
foo5681: () => {},
foo5682: () => {},
foo5683: () => {},
foo5684: () => {},
foo5685: () => {},
foo5686: () => {},
foo5687: () => {},
foo5688: () => {},
foo5689: () => {},
foo5690: () => {},
foo5691: () => {},
foo5692: () => {},
foo5693: () => {},
foo5694: () => {},
foo5695: () => {},
foo5696: () => {},
foo5697: () => {},
foo5698: () => {},
foo5699: () => {},
foo5700: () => {},
foo5701: () => {},
foo5702: () => {},
foo5703: () => {},
foo5704: () => {},
foo5705: () => {},
foo5706: () => {},
foo5707: () => {},
foo5708: () => {},
foo5709: () => {},
foo5710: () => {},
foo5711: () => {},
foo5712: () => {},
foo5713: () => {},
foo5714: () => {},
foo5715: () => {},
foo5716: () => {},
foo5717: () => {},
foo5718: () => {},
foo5719: () => {},
foo5720: () => {},
foo5721: () => {},
foo5722: () => {},
foo5723: () => {},
foo5724: () => {},
foo5725: () => {},
foo5726: () => {},
foo5727: () => {},
foo5728: () => {},
foo5729: () => {},
foo5730: () => {},
foo5731: () => {},
foo5732: () => {},
foo5733: () => {},
foo5734: () => {},
foo5735: () => {},
foo5736: () => {},
foo5737: () => {},
foo5738: () => {},
foo5739: () => {},
foo5740: () => {},
foo5741: () => {},
foo5742: () => {},
foo5743: () => {},
foo5744: () => {},
foo5745: () => {},
foo5746: () => {},
foo5747: () => {},
foo5748: () => {},
foo5749: () => {},
foo5750: () => {},
foo5751: () => {},
foo5752: () => {},
foo5753: () => {},
foo5754: () => {},
foo5755: () => {},
foo5756: () => {},
foo5757: () => {},
foo5758: () => {},
foo5759: () => {},
foo5760: () => {},
foo5761: () => {},
foo5762: () => {},
foo5763: () => {},
foo5764: () => {},
foo5765: () => {},
foo5766: () => {},
foo5767: () => {},
foo5768: () => {},
foo5769: () => {},
foo5770: () => {},
foo5771: () => {},
foo5772: () => {},
foo5773: () => {},
foo5774: () => {},
foo5775: () => {},
foo5776: () => {},
foo5777: () => {},
foo5778: () => {},
foo5779: () => {},
foo5780: () => {},
foo5781: () => {},
foo5782: () => {},
foo5783: () => {},
foo5784: () => {},
foo5785: () => {},
foo5786: () => {},
foo5787: () => {},
foo5788: () => {},
foo5789: () => {},
foo5790: () => {},
foo5791: () => {},
foo5792: () => {},
foo5793: () => {},
foo5794: () => {},
foo5795: () => {},
foo5796: () => {},
foo5797: () => {},
foo5798: () => {},
foo5799: () => {},
foo5800: () => {},
foo5801: () => {},
foo5802: () => {},
foo5803: () => {},
foo5804: () => {},
foo5805: () => {},
foo5806: () => {},
foo5807: () => {},
foo5808: () => {},
foo5809: () => {},
foo5810: () => {},
foo5811: () => {},
foo5812: () => {},
foo5813: () => {},
foo5814: () => {},
foo5815: () => {},
foo5816: () => {},
foo5817: () => {},
foo5818: () => {},
foo5819: () => {},
foo5820: () => {},
foo5821: () => {},
foo5822: () => {},
foo5823: () => {},
foo5824: () => {},
foo5825: () => {},
foo5826: () => {},
foo5827: () => {},
foo5828: () => {},
foo5829: () => {},
foo5830: () => {},
foo5831: () => {},
foo5832: () => {},
foo5833: () => {},
foo5834: () => {},
foo5835: () => {},
foo5836: () => {},
foo5837: () => {},
foo5838: () => {},
foo5839: () => {},
foo5840: () => {},
foo5841: () => {},
foo5842: () => {},
foo5843: () => {},
foo5844: () => {},
foo5845: () => {},
foo5846: () => {},
foo5847: () => {},
foo5848: () => {},
foo5849: () => {},
foo5850: () => {},
foo5851: () => {},
foo5852: () => {},
foo5853: () => {},
foo5854: () => {},
foo5855: () => {},
foo5856: () => {},
foo5857: () => {},
foo5858: () => {},
foo5859: () => {},
foo5860: () => {},
foo5861: () => {},
foo5862: () => {},
foo5863: () => {},
foo5864: () => {},
foo5865: () => {},
foo5866: () => {},
foo5867: () => {},
foo5868: () => {},
foo5869: () => {},
foo5870: () => {},
foo5871: () => {},
foo5872: () => {},
foo5873: () => {},
foo5874: () => {},
foo5875: () => {},
foo5876: () => {},
foo5877: () => {},
foo5878: () => {},
foo5879: () => {},
foo5880: () => {},
foo5881: () => {},
foo5882: () => {},
foo5883: () => {},
foo5884: () => {},
foo5885: () => {},
foo5886: () => {},
foo5887: () => {},
foo5888: () => {},
foo5889: () => {},
foo5890: () => {},
foo5891: () => {},
foo5892: () => {},
foo5893: () => {},
foo5894: () => {},
foo5895: () => {},
foo5896: () => {},
foo5897: () => {},
foo5898: () => {},
foo5899: () => {},
foo5900: () => {},
foo5901: () => {},
foo5902: () => {},
foo5903: () => {},
foo5904: () => {},
foo5905: () => {},
foo5906: () => {},
foo5907: () => {},
foo5908: () => {},
foo5909: () => {},
foo5910: () => {},
foo5911: () => {},
foo5912: () => {},
foo5913: () => {},
foo5914: () => {},
foo5915: () => {},
foo5916: () => {},
foo5917: () => {},
foo5918: () => {},
foo5919: () => {},
foo5920: () => {},
foo5921: () => {},
foo5922: () => {},
foo5923: () => {},
foo5924: () => {},
foo5925: () => {},
foo5926: () => {},
foo5927: () => {},
foo5928: () => {},
foo5929: () => {},
foo5930: () => {},
foo5931: () => {},
foo5932: () => {},
foo5933: () => {},
foo5934: () => {},
foo5935: () => {},
foo5936: () => {},
foo5937: () => {},
foo5938: () => {},
foo5939: () => {},
foo5940: () => {},
foo5941: () => {},
foo5942: () => {},
foo5943: () => {},
foo5944: () => {},
foo5945: () => {},
foo5946: () => {},
foo5947: () => {},
foo5948: () => {},
foo5949: () => {},
foo5950: () => {},
foo5951: () => {},
foo5952: () => {},
foo5953: () => {},
foo5954: () => {},
foo5955: () => {},
foo5956: () => {},
foo5957: () => {},
foo5958: () => {},
foo5959: () => {},
foo5960: () => {},
foo5961: () => {},
foo5962: () => {},
foo5963: () => {},
foo5964: () => {},
foo5965: () => {},
foo5966: () => {},
foo5967: () => {},
foo5968: () => {},
foo5969: () => {},
foo5970: () => {},
foo5971: () => {},
foo5972: () => {},
foo5973: () => {},
foo5974: () => {},
foo5975: () => {},
foo5976: () => {},
foo5977: () => {},
foo5978: () => {},
foo5979: () => {},
foo5980: () => {},
foo5981: () => {},
foo5982: () => {},
foo5983: () => {},
foo5984: () => {},
foo5985: () => {},
foo5986: () => {},
foo5987: () => {},
foo5988: () => {},
foo5989: () => {},
foo5990: () => {},
foo5991: () => {},
foo5992: () => {},
foo5993: () => {},
foo5994: () => {},
foo5995: () => {},
foo5996: () => {},
foo5997: () => {},
foo5998: () => {},
foo5999: () => {},
foo6000: () => {},
foo6001: () => {},
foo6002: () => {},
foo6003: () => {},
foo6004: () => {},
foo6005: () => {},
foo6006: () => {},
foo6007: () => {},
foo6008: () => {},
foo6009: () => {},
foo6010: () => {},
foo6011: () => {},
foo6012: () => {},
foo6013: () => {},
foo6014: () => {},
foo6015: () => {},
foo6016: () => {},
foo6017: () => {},
foo6018: () => {},
foo6019: () => {},
foo6020: () => {},
foo6021: () => {},
foo6022: () => {},
foo6023: () => {},
foo6024: () => {},
foo6025: () => {},
foo6026: () => {},
foo6027: () => {},
foo6028: () => {},
foo6029: () => {},
foo6030: () => {},
foo6031: () => {},
foo6032: () => {},
foo6033: () => {},
foo6034: () => {},
foo6035: () => {},
foo6036: () => {},
foo6037: () => {},
foo6038: () => {},
foo6039: () => {},
foo6040: () => {},
foo6041: () => {},
foo6042: () => {},
foo6043: () => {},
foo6044: () => {},
foo6045: () => {},
foo6046: () => {},
foo6047: () => {},
foo6048: () => {},
foo6049: () => {},
foo6050: () => {},
foo6051: () => {},
foo6052: () => {},
foo6053: () => {},
foo6054: () => {},
foo6055: () => {},
foo6056: () => {},
foo6057: () => {},
foo6058: () => {},
foo6059: () => {},
foo6060: () => {},
foo6061: () => {},
foo6062: () => {},
foo6063: () => {},
foo6064: () => {},
foo6065: () => {},
foo6066: () => {},
foo6067: () => {},
foo6068: () => {},
foo6069: () => {},
foo6070: () => {},
foo6071: () => {},
foo6072: () => {},
foo6073: () => {},
foo6074: () => {},
foo6075: () => {},
foo6076: () => {},
foo6077: () => {},
foo6078: () => {},
foo6079: () => {},
foo6080: () => {},
foo6081: () => {},
foo6082: () => {},
foo6083: () => {},
foo6084: () => {},
foo6085: () => {},
foo6086: () => {},
foo6087: () => {},
foo6088: () => {},
foo6089: () => {},
foo6090: () => {},
foo6091: () => {},
foo6092: () => {},
foo6093: () => {},
foo6094: () => {},
foo6095: () => {},
foo6096: () => {},
foo6097: () => {},
foo6098: () => {},
foo6099: () => {},
foo6100: () => {},
foo6101: () => {},
foo6102: () => {},
foo6103: () => {},
foo6104: () => {},
foo6105: () => {},
foo6106: () => {},
foo6107: () => {},
foo6108: () => {},
foo6109: () => {},
foo6110: () => {},
foo6111: () => {},
foo6112: () => {},
foo6113: () => {},
foo6114: () => {},
foo6115: () => {},
foo6116: () => {},
foo6117: () => {},
foo6118: () => {},
foo6119: () => {},
foo6120: () => {},
foo6121: () => {},
foo6122: () => {},
foo6123: () => {},
foo6124: () => {},
foo6125: () => {},
foo6126: () => {},
foo6127: () => {},
foo6128: () => {},
foo6129: () => {},
foo6130: () => {},
foo6131: () => {},
foo6132: () => {},
foo6133: () => {},
foo6134: () => {},
foo6135: () => {},
foo6136: () => {},
foo6137: () => {},
foo6138: () => {},
foo6139: () => {},
foo6140: () => {},
foo6141: () => {},
foo6142: () => {},
foo6143: () => {},
foo6144: () => {},
foo6145: () => {},
foo6146: () => {},
foo6147: () => {},
foo6148: () => {},
foo6149: () => {},
foo6150: () => {},
foo6151: () => {},
foo6152: () => {},
foo6153: () => {},
foo6154: () => {},
foo6155: () => {},
foo6156: () => {},
foo6157: () => {},
foo6158: () => {},
foo6159: () => {},
foo6160: () => {},
foo6161: () => {},
foo6162: () => {},
foo6163: () => {},
foo6164: () => {},
foo6165: () => {},
foo6166: () => {},
foo6167: () => {},
foo6168: () => {},
foo6169: () => {},
foo6170: () => {},
foo6171: () => {},
foo6172: () => {},
foo6173: () => {},
foo6174: () => {},
foo6175: () => {},
foo6176: () => {},
foo6177: () => {},
foo6178: () => {},
foo6179: () => {},
foo6180: () => {},
foo6181: () => {},
foo6182: () => {},
foo6183: () => {},
foo6184: () => {},
foo6185: () => {},
foo6186: () => {},
foo6187: () => {},
foo6188: () => {},
foo6189: () => {},
foo6190: () => {},
foo6191: () => {},
foo6192: () => {},
foo6193: () => {},
foo6194: () => {},
foo6195: () => {},
foo6196: () => {},
foo6197: () => {},
foo6198: () => {},
foo6199: () => {},
foo6200: () => {},
foo6201: () => {},
foo6202: () => {},
foo6203: () => {},
foo6204: () => {},
foo6205: () => {},
foo6206: () => {},
foo6207: () => {},
foo6208: () => {},
foo6209: () => {},
foo6210: () => {},
foo6211: () => {},
foo6212: () => {},
foo6213: () => {},
foo6214: () => {},
foo6215: () => {},
foo6216: () => {},
foo6217: () => {},
foo6218: () => {},
foo6219: () => {},
foo6220: () => {},
foo6221: () => {},
foo6222: () => {},
foo6223: () => {},
foo6224: () => {},
foo6225: () => {},
foo6226: () => {},
foo6227: () => {},
foo6228: () => {},
foo6229: () => {},
foo6230: () => {},
foo6231: () => {},
foo6232: () => {},
foo6233: () => {},
foo6234: () => {},
foo6235: () => {},
foo6236: () => {},
foo6237: () => {},
foo6238: () => {},
foo6239: () => {},
foo6240: () => {},
foo6241: () => {},
foo6242: () => {},
foo6243: () => {},
foo6244: () => {},
foo6245: () => {},
foo6246: () => {},
foo6247: () => {},
foo6248: () => {},
foo6249: () => {},
foo6250: () => {},
foo6251: () => {},
foo6252: () => {},
foo6253: () => {},
foo6254: () => {},
foo6255: () => {},
foo6256: () => {},
foo6257: () => {},
foo6258: () => {},
foo6259: () => {},
foo6260: () => {},
foo6261: () => {},
foo6262: () => {},
foo6263: () => {},
foo6264: () => {},
foo6265: () => {},
foo6266: () => {},
foo6267: () => {},
foo6268: () => {},
foo6269: () => {},
foo6270: () => {},
foo6271: () => {},
foo6272: () => {},
foo6273: () => {},
foo6274: () => {},
foo6275: () => {},
foo6276: () => {},
foo6277: () => {},
foo6278: () => {},
foo6279: () => {},
foo6280: () => {},
foo6281: () => {},
foo6282: () => {},
foo6283: () => {},
foo6284: () => {},
foo6285: () => {},
foo6286: () => {},
foo6287: () => {},
foo6288: () => {},
foo6289: () => {},
foo6290: () => {},
foo6291: () => {},
foo6292: () => {},
foo6293: () => {},
foo6294: () => {},
foo6295: () => {},
foo6296: () => {},
foo6297: () => {},
foo6298: () => {},
foo6299: () => {},
foo6300: () => {},
foo6301: () => {},
foo6302: () => {},
foo6303: () => {},
foo6304: () => {},
foo6305: () => {},
foo6306: () => {},
foo6307: () => {},
foo6308: () => {},
foo6309: () => {},
foo6310: () => {},
foo6311: () => {},
foo6312: () => {},
foo6313: () => {},
foo6314: () => {},
foo6315: () => {},
foo6316: () => {},
foo6317: () => {},
foo6318: () => {},
foo6319: () => {},
foo6320: () => {},
foo6321: () => {},
foo6322: () => {},
foo6323: () => {},
foo6324: () => {},
foo6325: () => {},
foo6326: () => {},
foo6327: () => {},
foo6328: () => {},
foo6329: () => {},
foo6330: () => {},
foo6331: () => {},
foo6332: () => {},
foo6333: () => {},
foo6334: () => {},
foo6335: () => {},
foo6336: () => {},
foo6337: () => {},
foo6338: () => {},
foo6339: () => {},
foo6340: () => {},
foo6341: () => {},
foo6342: () => {},
foo6343: () => {},
foo6344: () => {},
foo6345: () => {},
foo6346: () => {},
foo6347: () => {},
foo6348: () => {},
foo6349: () => {},
foo6350: () => {},
foo6351: () => {},
foo6352: () => {},
foo6353: () => {},
foo6354: () => {},
foo6355: () => {},
foo6356: () => {},
foo6357: () => {},
foo6358: () => {},
foo6359: () => {},
foo6360: () => {},
foo6361: () => {},
foo6362: () => {},
foo6363: () => {},
foo6364: () => {},
foo6365: () => {},
foo6366: () => {},
foo6367: () => {},
foo6368: () => {},
foo6369: () => {},
foo6370: () => {},
foo6371: () => {},
foo6372: () => {},
foo6373: () => {},
foo6374: () => {},
foo6375: () => {},
foo6376: () => {},
foo6377: () => {},
foo6378: () => {},
foo6379: () => {},
foo6380: () => {},
foo6381: () => {},
foo6382: () => {},
foo6383: () => {},
foo6384: () => {},
foo6385: () => {},
foo6386: () => {},
foo6387: () => {},
foo6388: () => {},
foo6389: () => {},
foo6390: () => {},
foo6391: () => {},
foo6392: () => {},
foo6393: () => {},
foo6394: () => {},
foo6395: () => {},
foo6396: () => {},
foo6397: () => {},
foo6398: () => {},
foo6399: () => {},
foo6400: () => {},
foo6401: () => {},
foo6402: () => {},
foo6403: () => {},
foo6404: () => {},
foo6405: () => {},
foo6406: () => {},
foo6407: () => {},
foo6408: () => {},
foo6409: () => {},
foo6410: () => {},
foo6411: () => {},
foo6412: () => {},
foo6413: () => {},
foo6414: () => {},
foo6415: () => {},
foo6416: () => {},
foo6417: () => {},
foo6418: () => {},
foo6419: () => {},
foo6420: () => {},
foo6421: () => {},
foo6422: () => {},
foo6423: () => {},
foo6424: () => {},
foo6425: () => {},
foo6426: () => {},
foo6427: () => {},
foo6428: () => {},
foo6429: () => {},
foo6430: () => {},
foo6431: () => {},
foo6432: () => {},
foo6433: () => {},
foo6434: () => {},
foo6435: () => {},
foo6436: () => {},
foo6437: () => {},
foo6438: () => {},
foo6439: () => {},
foo6440: () => {},
foo6441: () => {},
foo6442: () => {},
foo6443: () => {},
foo6444: () => {},
foo6445: () => {},
foo6446: () => {},
foo6447: () => {},
foo6448: () => {},
foo6449: () => {},
foo6450: () => {},
foo6451: () => {},
foo6452: () => {},
foo6453: () => {},
foo6454: () => {},
foo6455: () => {},
foo6456: () => {},
foo6457: () => {},
foo6458: () => {},
foo6459: () => {},
foo6460: () => {},
foo6461: () => {},
foo6462: () => {},
foo6463: () => {},
foo6464: () => {},
foo6465: () => {},
foo6466: () => {},
foo6467: () => {},
foo6468: () => {},
foo6469: () => {},
foo6470: () => {},
foo6471: () => {},
foo6472: () => {},
foo6473: () => {},
foo6474: () => {},
foo6475: () => {},
foo6476: () => {},
foo6477: () => {},
foo6478: () => {},
foo6479: () => {},
foo6480: () => {},
foo6481: () => {},
foo6482: () => {},
foo6483: () => {},
foo6484: () => {},
foo6485: () => {},
foo6486: () => {},
foo6487: () => {},
foo6488: () => {},
foo6489: () => {},
foo6490: () => {},
foo6491: () => {},
foo6492: () => {},
foo6493: () => {},
foo6494: () => {},
foo6495: () => {},
foo6496: () => {},
foo6497: () => {},
foo6498: () => {},
foo6499: () => {},
foo6500: () => {},
foo6501: () => {},
foo6502: () => {},
foo6503: () => {},
foo6504: () => {},
foo6505: () => {},
foo6506: () => {},
foo6507: () => {},
foo6508: () => {},
foo6509: () => {},
foo6510: () => {},
foo6511: () => {},
foo6512: () => {},
foo6513: () => {},
foo6514: () => {},
foo6515: () => {},
foo6516: () => {},
foo6517: () => {},
foo6518: () => {},
foo6519: () => {},
foo6520: () => {},
foo6521: () => {},
foo6522: () => {},
foo6523: () => {},
foo6524: () => {},
foo6525: () => {},
foo6526: () => {},
foo6527: () => {},
foo6528: () => {},
foo6529: () => {},
foo6530: () => {},
foo6531: () => {},
foo6532: () => {},
foo6533: () => {},
foo6534: () => {},
foo6535: () => {},
foo6536: () => {},
foo6537: () => {},
foo6538: () => {},
foo6539: () => {},
foo6540: () => {},
foo6541: () => {},
foo6542: () => {},
foo6543: () => {},
foo6544: () => {},
foo6545: () => {},
foo6546: () => {},
foo6547: () => {},
foo6548: () => {},
foo6549: () => {},
foo6550: () => {},
foo6551: () => {},
foo6552: () => {},
foo6553: () => {},
foo6554: () => {},
foo6555: () => {},
foo6556: () => {},
foo6557: () => {},
foo6558: () => {},
foo6559: () => {},
foo6560: () => {},
foo6561: () => {},
foo6562: () => {},
foo6563: () => {},
foo6564: () => {},
foo6565: () => {},
foo6566: () => {},
foo6567: () => {},
foo6568: () => {},
foo6569: () => {},
foo6570: () => {},
foo6571: () => {},
foo6572: () => {},
foo6573: () => {},
foo6574: () => {},
foo6575: () => {},
foo6576: () => {},
foo6577: () => {},
foo6578: () => {},
foo6579: () => {},
foo6580: () => {},
foo6581: () => {},
foo6582: () => {},
foo6583: () => {},
foo6584: () => {},
foo6585: () => {},
foo6586: () => {},
foo6587: () => {},
foo6588: () => {},
foo6589: () => {},
foo6590: () => {},
foo6591: () => {},
foo6592: () => {},
foo6593: () => {},
foo6594: () => {},
foo6595: () => {},
foo6596: () => {},
foo6597: () => {},
foo6598: () => {},
foo6599: () => {},
foo6600: () => {},
foo6601: () => {},
foo6602: () => {},
foo6603: () => {},
foo6604: () => {},
foo6605: () => {},
foo6606: () => {},
foo6607: () => {},
foo6608: () => {},
foo6609: () => {},
foo6610: () => {},
foo6611: () => {},
foo6612: () => {},
foo6613: () => {},
foo6614: () => {},
foo6615: () => {},
foo6616: () => {},
foo6617: () => {},
foo6618: () => {},
foo6619: () => {},
foo6620: () => {},
foo6621: () => {},
foo6622: () => {},
foo6623: () => {},
foo6624: () => {},
foo6625: () => {},
foo6626: () => {},
foo6627: () => {},
foo6628: () => {},
foo6629: () => {},
foo6630: () => {},
foo6631: () => {},
foo6632: () => {},
foo6633: () => {},
foo6634: () => {},
foo6635: () => {},
foo6636: () => {},
foo6637: () => {},
foo6638: () => {},
foo6639: () => {},
foo6640: () => {},
foo6641: () => {},
foo6642: () => {},
foo6643: () => {},
foo6644: () => {},
foo6645: () => {},
foo6646: () => {},
foo6647: () => {},
foo6648: () => {},
foo6649: () => {},
foo6650: () => {},
foo6651: () => {},
foo6652: () => {},
foo6653: () => {},
foo6654: () => {},
foo6655: () => {},
foo6656: () => {},
foo6657: () => {},
foo6658: () => {},
foo6659: () => {},
foo6660: () => {},
foo6661: () => {},
foo6662: () => {},
foo6663: () => {},
foo6664: () => {},
foo6665: () => {},
foo6666: () => {},
foo6667: () => {},
foo6668: () => {},
foo6669: () => {},
foo6670: () => {},
foo6671: () => {},
foo6672: () => {},
foo6673: () => {},
foo6674: () => {},
foo6675: () => {},
foo6676: () => {},
foo6677: () => {},
foo6678: () => {},
foo6679: () => {},
foo6680: () => {},
foo6681: () => {},
foo6682: () => {},
foo6683: () => {},
foo6684: () => {},
foo6685: () => {},
foo6686: () => {},
foo6687: () => {},
foo6688: () => {},
foo6689: () => {},
foo6690: () => {},
foo6691: () => {},
foo6692: () => {},
foo6693: () => {},
foo6694: () => {},
foo6695: () => {},
foo6696: () => {},
foo6697: () => {},
foo6698: () => {},
foo6699: () => {},
foo6700: () => {},
foo6701: () => {},
foo6702: () => {},
foo6703: () => {},
foo6704: () => {},
foo6705: () => {},
foo6706: () => {},
foo6707: () => {},
foo6708: () => {},
foo6709: () => {},
foo6710: () => {},
foo6711: () => {},
foo6712: () => {},
foo6713: () => {},
foo6714: () => {},
foo6715: () => {},
foo6716: () => {},
foo6717: () => {},
foo6718: () => {},
foo6719: () => {},
foo6720: () => {},
foo6721: () => {},
foo6722: () => {},
foo6723: () => {},
foo6724: () => {},
foo6725: () => {},
foo6726: () => {},
foo6727: () => {},
foo6728: () => {},
foo6729: () => {},
foo6730: () => {},
foo6731: () => {},
foo6732: () => {},
foo6733: () => {},
foo6734: () => {},
foo6735: () => {},
foo6736: () => {},
foo6737: () => {},
foo6738: () => {},
foo6739: () => {},
foo6740: () => {},
foo6741: () => {},
foo6742: () => {},
foo6743: () => {},
foo6744: () => {},
foo6745: () => {},
foo6746: () => {},
foo6747: () => {},
foo6748: () => {},
foo6749: () => {},
foo6750: () => {},
foo6751: () => {},
foo6752: () => {},
foo6753: () => {},
foo6754: () => {},
foo6755: () => {},
foo6756: () => {},
foo6757: () => {},
foo6758: () => {},
foo6759: () => {},
foo6760: () => {},
foo6761: () => {},
foo6762: () => {},
foo6763: () => {},
foo6764: () => {},
foo6765: () => {},
foo6766: () => {},
foo6767: () => {},
foo6768: () => {},
foo6769: () => {},
foo6770: () => {},
foo6771: () => {},
foo6772: () => {},
foo6773: () => {},
foo6774: () => {},
foo6775: () => {},
foo6776: () => {},
foo6777: () => {},
foo6778: () => {},
foo6779: () => {},
foo6780: () => {},
foo6781: () => {},
foo6782: () => {},
foo6783: () => {},
foo6784: () => {},
foo6785: () => {},
foo6786: () => {},
foo6787: () => {},
foo6788: () => {},
foo6789: () => {},
foo6790: () => {},
foo6791: () => {},
foo6792: () => {},
foo6793: () => {},
foo6794: () => {},
foo6795: () => {},
foo6796: () => {},
foo6797: () => {},
foo6798: () => {},
foo6799: () => {},
foo6800: () => {},
foo6801: () => {},
foo6802: () => {},
foo6803: () => {},
foo6804: () => {},
foo6805: () => {},
foo6806: () => {},
foo6807: () => {},
foo6808: () => {},
foo6809: () => {},
foo6810: () => {},
foo6811: () => {},
foo6812: () => {},
foo6813: () => {},
foo6814: () => {},
foo6815: () => {},
foo6816: () => {},
foo6817: () => {},
foo6818: () => {},
foo6819: () => {},
foo6820: () => {},
foo6821: () => {},
foo6822: () => {},
foo6823: () => {},
foo6824: () => {},
foo6825: () => {},
foo6826: () => {},
foo6827: () => {},
foo6828: () => {},
foo6829: () => {},
foo6830: () => {},
foo6831: () => {},
foo6832: () => {},
foo6833: () => {},
foo6834: () => {},
foo6835: () => {},
foo6836: () => {},
foo6837: () => {},
foo6838: () => {},
foo6839: () => {},
foo6840: () => {},
foo6841: () => {},
foo6842: () => {},
foo6843: () => {},
foo6844: () => {},
foo6845: () => {},
foo6846: () => {},
foo6847: () => {},
foo6848: () => {},
foo6849: () => {},
foo6850: () => {},
foo6851: () => {},
foo6852: () => {},
foo6853: () => {},
foo6854: () => {},
foo6855: () => {},
foo6856: () => {},
foo6857: () => {},
foo6858: () => {},
foo6859: () => {},
foo6860: () => {},
foo6861: () => {},
foo6862: () => {},
foo6863: () => {},
foo6864: () => {},
foo6865: () => {},
foo6866: () => {},
foo6867: () => {},
foo6868: () => {},
foo6869: () => {},
foo6870: () => {},
foo6871: () => {},
foo6872: () => {},
foo6873: () => {},
foo6874: () => {},
foo6875: () => {},
foo6876: () => {},
foo6877: () => {},
foo6878: () => {},
foo6879: () => {},
foo6880: () => {},
foo6881: () => {},
foo6882: () => {},
foo6883: () => {},
foo6884: () => {},
foo6885: () => {},
foo6886: () => {},
foo6887: () => {},
foo6888: () => {},
foo6889: () => {},
foo6890: () => {},
foo6891: () => {},
foo6892: () => {},
foo6893: () => {},
foo6894: () => {},
foo6895: () => {},
foo6896: () => {},
foo6897: () => {},
foo6898: () => {},
foo6899: () => {},
foo6900: () => {},
foo6901: () => {},
foo6902: () => {},
foo6903: () => {},
foo6904: () => {},
foo6905: () => {},
foo6906: () => {},
foo6907: () => {},
foo6908: () => {},
foo6909: () => {},
foo6910: () => {},
foo6911: () => {},
foo6912: () => {},
foo6913: () => {},
foo6914: () => {},
foo6915: () => {},
foo6916: () => {},
foo6917: () => {},
foo6918: () => {},
foo6919: () => {},
foo6920: () => {},
foo6921: () => {},
foo6922: () => {},
foo6923: () => {},
foo6924: () => {},
foo6925: () => {},
foo6926: () => {},
foo6927: () => {},
foo6928: () => {},
foo6929: () => {},
foo6930: () => {},
foo6931: () => {},
foo6932: () => {},
foo6933: () => {},
foo6934: () => {},
foo6935: () => {},
foo6936: () => {},
foo6937: () => {},
foo6938: () => {},
foo6939: () => {},
foo6940: () => {},
foo6941: () => {},
foo6942: () => {},
foo6943: () => {},
foo6944: () => {},
foo6945: () => {},
foo6946: () => {},
foo6947: () => {},
foo6948: () => {},
foo6949: () => {},
foo6950: () => {},
foo6951: () => {},
foo6952: () => {},
foo6953: () => {},
foo6954: () => {},
foo6955: () => {},
foo6956: () => {},
foo6957: () => {},
foo6958: () => {},
foo6959: () => {},
foo6960: () => {},
foo6961: () => {},
foo6962: () => {},
foo6963: () => {},
foo6964: () => {},
foo6965: () => {},
foo6966: () => {},
foo6967: () => {},
foo6968: () => {},
foo6969: () => {},
foo6970: () => {},
foo6971: () => {},
foo6972: () => {},
foo6973: () => {},
foo6974: () => {},
foo6975: () => {},
foo6976: () => {},
foo6977: () => {},
foo6978: () => {},
foo6979: () => {},
foo6980: () => {},
foo6981: () => {},
foo6982: () => {},
foo6983: () => {},
foo6984: () => {},
foo6985: () => {},
foo6986: () => {},
foo6987: () => {},
foo6988: () => {},
foo6989: () => {},
foo6990: () => {},
foo6991: () => {},
foo6992: () => {},
foo6993: () => {},
foo6994: () => {},
foo6995: () => {},
foo6996: () => {},
foo6997: () => {},
foo6998: () => {},
foo6999: () => {},
foo7000: () => {},
foo7001: () => {},
foo7002: () => {},
foo7003: () => {},
foo7004: () => {},
foo7005: () => {},
foo7006: () => {},
foo7007: () => {},
foo7008: () => {},
foo7009: () => {},
foo7010: () => {},
foo7011: () => {},
foo7012: () => {},
foo7013: () => {},
foo7014: () => {},
foo7015: () => {},
foo7016: () => {},
foo7017: () => {},
foo7018: () => {},
foo7019: () => {},
foo7020: () => {},
foo7021: () => {},
foo7022: () => {},
foo7023: () => {},
foo7024: () => {},
foo7025: () => {},
foo7026: () => {},
foo7027: () => {},
foo7028: () => {},
foo7029: () => {},
foo7030: () => {},
foo7031: () => {},
foo7032: () => {},
foo7033: () => {},
foo7034: () => {},
foo7035: () => {},
foo7036: () => {},
foo7037: () => {},
foo7038: () => {},
foo7039: () => {},
foo7040: () => {},
foo7041: () => {},
foo7042: () => {},
foo7043: () => {},
foo7044: () => {},
foo7045: () => {},
foo7046: () => {},
foo7047: () => {},
foo7048: () => {},
foo7049: () => {},
foo7050: () => {},
foo7051: () => {},
foo7052: () => {},
foo7053: () => {},
foo7054: () => {},
foo7055: () => {},
foo7056: () => {},
foo7057: () => {},
foo7058: () => {},
foo7059: () => {},
foo7060: () => {},
foo7061: () => {},
foo7062: () => {},
foo7063: () => {},
foo7064: () => {},
foo7065: () => {},
foo7066: () => {},
foo7067: () => {},
foo7068: () => {},
foo7069: () => {},
foo7070: () => {},
foo7071: () => {},
foo7072: () => {},
foo7073: () => {},
foo7074: () => {},
foo7075: () => {},
foo7076: () => {},
foo7077: () => {},
foo7078: () => {},
foo7079: () => {},
foo7080: () => {},
foo7081: () => {},
foo7082: () => {},
foo7083: () => {},
foo7084: () => {},
foo7085: () => {},
foo7086: () => {},
foo7087: () => {},
foo7088: () => {},
foo7089: () => {},
foo7090: () => {},
foo7091: () => {},
foo7092: () => {},
foo7093: () => {},
foo7094: () => {},
foo7095: () => {},
foo7096: () => {},
foo7097: () => {},
foo7098: () => {},
foo7099: () => {},
foo7100: () => {},
foo7101: () => {},
foo7102: () => {},
foo7103: () => {},
foo7104: () => {},
foo7105: () => {},
foo7106: () => {},
foo7107: () => {},
foo7108: () => {},
foo7109: () => {},
foo7110: () => {},
foo7111: () => {},
foo7112: () => {},
foo7113: () => {},
foo7114: () => {},
foo7115: () => {},
foo7116: () => {},
foo7117: () => {},
foo7118: () => {},
foo7119: () => {},
foo7120: () => {},
foo7121: () => {},
foo7122: () => {},
foo7123: () => {},
foo7124: () => {},
foo7125: () => {},
foo7126: () => {},
foo7127: () => {},
foo7128: () => {},
foo7129: () => {},
foo7130: () => {},
foo7131: () => {},
foo7132: () => {},
foo7133: () => {},
foo7134: () => {},
foo7135: () => {},
foo7136: () => {},
foo7137: () => {},
foo7138: () => {},
foo7139: () => {},
foo7140: () => {},
foo7141: () => {},
foo7142: () => {},
foo7143: () => {},
foo7144: () => {},
foo7145: () => {},
foo7146: () => {},
foo7147: () => {},
foo7148: () => {},
foo7149: () => {},
foo7150: () => {},
foo7151: () => {},
foo7152: () => {},
foo7153: () => {},
foo7154: () => {},
foo7155: () => {},
foo7156: () => {},
foo7157: () => {},
foo7158: () => {},
foo7159: () => {},
foo7160: () => {},
foo7161: () => {},
foo7162: () => {},
foo7163: () => {},
foo7164: () => {},
foo7165: () => {},
foo7166: () => {},
foo7167: () => {},
foo7168: () => {},
foo7169: () => {},
foo7170: () => {},
foo7171: () => {},
foo7172: () => {},
foo7173: () => {},
foo7174: () => {},
foo7175: () => {},
foo7176: () => {},
foo7177: () => {},
foo7178: () => {},
foo7179: () => {},
foo7180: () => {},
foo7181: () => {},
foo7182: () => {},
foo7183: () => {},
foo7184: () => {},
foo7185: () => {},
foo7186: () => {},
foo7187: () => {},
foo7188: () => {},
foo7189: () => {},
foo7190: () => {},
foo7191: () => {},
foo7192: () => {},
foo7193: () => {},
foo7194: () => {},
foo7195: () => {},
foo7196: () => {},
foo7197: () => {},
foo7198: () => {},
foo7199: () => {},
foo7200: () => {},
foo7201: () => {},
foo7202: () => {},
foo7203: () => {},
foo7204: () => {},
foo7205: () => {},
foo7206: () => {},
foo7207: () => {},
foo7208: () => {},
foo7209: () => {},
foo7210: () => {},
foo7211: () => {},
foo7212: () => {},
foo7213: () => {},
foo7214: () => {},
foo7215: () => {},
foo7216: () => {},
foo7217: () => {},
foo7218: () => {},
foo7219: () => {},
foo7220: () => {},
foo7221: () => {},
foo7222: () => {},
foo7223: () => {},
foo7224: () => {},
foo7225: () => {},
foo7226: () => {},
foo7227: () => {},
foo7228: () => {},
foo7229: () => {},
foo7230: () => {},
foo7231: () => {},
foo7232: () => {},
foo7233: () => {},
foo7234: () => {},
foo7235: () => {},
foo7236: () => {},
foo7237: () => {},
foo7238: () => {},
foo7239: () => {},
foo7240: () => {},
foo7241: () => {},
foo7242: () => {},
foo7243: () => {},
foo7244: () => {},
foo7245: () => {},
foo7246: () => {},
foo7247: () => {},
foo7248: () => {},
foo7249: () => {},
foo7250: () => {},
foo7251: () => {},
foo7252: () => {},
foo7253: () => {},
foo7254: () => {},
foo7255: () => {},
foo7256: () => {},
foo7257: () => {},
foo7258: () => {},
foo7259: () => {},
foo7260: () => {},
foo7261: () => {},
foo7262: () => {},
foo7263: () => {},
foo7264: () => {},
foo7265: () => {},
foo7266: () => {},
foo7267: () => {},
foo7268: () => {},
foo7269: () => {},
foo7270: () => {},
foo7271: () => {},
foo7272: () => {},
foo7273: () => {},
foo7274: () => {},
foo7275: () => {},
foo7276: () => {},
foo7277: () => {},
foo7278: () => {},
foo7279: () => {},
foo7280: () => {},
foo7281: () => {},
foo7282: () => {},
foo7283: () => {},
foo7284: () => {},
foo7285: () => {},
foo7286: () => {},
foo7287: () => {},
foo7288: () => {},
foo7289: () => {},
foo7290: () => {},
foo7291: () => {},
foo7292: () => {},
foo7293: () => {},
foo7294: () => {},
foo7295: () => {},
foo7296: () => {},
foo7297: () => {},
foo7298: () => {},
foo7299: () => {},
foo7300: () => {},
foo7301: () => {},
foo7302: () => {},
foo7303: () => {},
foo7304: () => {},
foo7305: () => {},
foo7306: () => {},
foo7307: () => {},
foo7308: () => {},
foo7309: () => {},
foo7310: () => {},
foo7311: () => {},
foo7312: () => {},
foo7313: () => {},
foo7314: () => {},
foo7315: () => {},
foo7316: () => {},
foo7317: () => {},
foo7318: () => {},
foo7319: () => {},
foo7320: () => {},
foo7321: () => {},
foo7322: () => {},
foo7323: () => {},
foo7324: () => {},
foo7325: () => {},
foo7326: () => {},
foo7327: () => {},
foo7328: () => {},
foo7329: () => {},
foo7330: () => {},
foo7331: () => {},
foo7332: () => {},
foo7333: () => {},
foo7334: () => {},
foo7335: () => {},
foo7336: () => {},
foo7337: () => {},
foo7338: () => {},
foo7339: () => {},
foo7340: () => {},
foo7341: () => {},
foo7342: () => {},
foo7343: () => {},
foo7344: () => {},
foo7345: () => {},
foo7346: () => {},
foo7347: () => {},
foo7348: () => {},
foo7349: () => {},
foo7350: () => {},
foo7351: () => {},
foo7352: () => {},
foo7353: () => {},
foo7354: () => {},
foo7355: () => {},
foo7356: () => {},
foo7357: () => {},
foo7358: () => {},
foo7359: () => {},
foo7360: () => {},
foo7361: () => {},
foo7362: () => {},
foo7363: () => {},
foo7364: () => {},
foo7365: () => {},
foo7366: () => {},
foo7367: () => {},
foo7368: () => {},
foo7369: () => {},
foo7370: () => {},
foo7371: () => {},
foo7372: () => {},
foo7373: () => {},
foo7374: () => {},
foo7375: () => {},
foo7376: () => {},
foo7377: () => {},
foo7378: () => {},
foo7379: () => {},
foo7380: () => {},
foo7381: () => {},
foo7382: () => {},
foo7383: () => {},
foo7384: () => {},
foo7385: () => {},
foo7386: () => {},
foo7387: () => {},
foo7388: () => {},
foo7389: () => {},
foo7390: () => {},
foo7391: () => {},
foo7392: () => {},
foo7393: () => {},
foo7394: () => {},
foo7395: () => {},
foo7396: () => {},
foo7397: () => {},
foo7398: () => {},
foo7399: () => {},
foo7400: () => {},
foo7401: () => {},
foo7402: () => {},
foo7403: () => {},
foo7404: () => {},
foo7405: () => {},
foo7406: () => {},
foo7407: () => {},
foo7408: () => {},
foo7409: () => {},
foo7410: () => {},
foo7411: () => {},
foo7412: () => {},
foo7413: () => {},
foo7414: () => {},
foo7415: () => {},
foo7416: () => {},
foo7417: () => {},
foo7418: () => {},
foo7419: () => {},
foo7420: () => {},
foo7421: () => {},
foo7422: () => {},
foo7423: () => {},
foo7424: () => {},
foo7425: () => {},
foo7426: () => {},
foo7427: () => {},
foo7428: () => {},
foo7429: () => {},
foo7430: () => {},
foo7431: () => {},
foo7432: () => {},
foo7433: () => {},
foo7434: () => {},
foo7435: () => {},
foo7436: () => {},
foo7437: () => {},
foo7438: () => {},
foo7439: () => {},
foo7440: () => {},
foo7441: () => {},
foo7442: () => {},
foo7443: () => {},
foo7444: () => {},
foo7445: () => {},
foo7446: () => {},
foo7447: () => {},
foo7448: () => {},
foo7449: () => {},
foo7450: () => {},
foo7451: () => {},
foo7452: () => {},
foo7453: () => {},
foo7454: () => {},
foo7455: () => {},
foo7456: () => {},
foo7457: () => {},
foo7458: () => {},
foo7459: () => {},
foo7460: () => {},
foo7461: () => {},
foo7462: () => {},
foo7463: () => {},
foo7464: () => {},
foo7465: () => {},
foo7466: () => {},
foo7467: () => {},
foo7468: () => {},
foo7469: () => {},
foo7470: () => {},
foo7471: () => {},
foo7472: () => {},
foo7473: () => {},
foo7474: () => {},
foo7475: () => {},
foo7476: () => {},
foo7477: () => {},
foo7478: () => {},
foo7479: () => {},
foo7480: () => {},
foo7481: () => {},
foo7482: () => {},
foo7483: () => {},
foo7484: () => {},
foo7485: () => {},
foo7486: () => {},
foo7487: () => {},
foo7488: () => {},
foo7489: () => {},
foo7490: () => {},
foo7491: () => {},
foo7492: () => {},
foo7493: () => {},
foo7494: () => {},
foo7495: () => {},
foo7496: () => {},
foo7497: () => {},
foo7498: () => {},
foo7499: () => {},
foo7500: () => {},
foo7501: () => {},
foo7502: () => {},
foo7503: () => {},
foo7504: () => {},
foo7505: () => {},
foo7506: () => {},
foo7507: () => {},
foo7508: () => {},
foo7509: () => {},
foo7510: () => {},
foo7511: () => {},
foo7512: () => {},
foo7513: () => {},
foo7514: () => {},
foo7515: () => {},
foo7516: () => {},
foo7517: () => {},
foo7518: () => {},
foo7519: () => {},
foo7520: () => {},
foo7521: () => {},
foo7522: () => {},
foo7523: () => {},
foo7524: () => {},
foo7525: () => {},
foo7526: () => {},
foo7527: () => {},
foo7528: () => {},
foo7529: () => {},
foo7530: () => {},
foo7531: () => {},
foo7532: () => {},
foo7533: () => {},
foo7534: () => {},
foo7535: () => {},
foo7536: () => {},
foo7537: () => {},
foo7538: () => {},
foo7539: () => {},
foo7540: () => {},
foo7541: () => {},
foo7542: () => {},
foo7543: () => {},
foo7544: () => {},
foo7545: () => {},
foo7546: () => {},
foo7547: () => {},
foo7548: () => {},
foo7549: () => {},
foo7550: () => {},
foo7551: () => {},
foo7552: () => {},
foo7553: () => {},
foo7554: () => {},
foo7555: () => {},
foo7556: () => {},
foo7557: () => {},
foo7558: () => {},
foo7559: () => {},
foo7560: () => {},
foo7561: () => {},
foo7562: () => {},
foo7563: () => {},
foo7564: () => {},
foo7565: () => {},
foo7566: () => {},
foo7567: () => {},
foo7568: () => {},
foo7569: () => {},
foo7570: () => {},
foo7571: () => {},
foo7572: () => {},
foo7573: () => {},
foo7574: () => {},
foo7575: () => {},
foo7576: () => {},
foo7577: () => {},
foo7578: () => {},
foo7579: () => {},
foo7580: () => {},
foo7581: () => {},
foo7582: () => {},
foo7583: () => {},
foo7584: () => {},
foo7585: () => {},
foo7586: () => {},
foo7587: () => {},
foo7588: () => {},
foo7589: () => {},
foo7590: () => {},
foo7591: () => {},
foo7592: () => {},
foo7593: () => {},
foo7594: () => {},
foo7595: () => {},
foo7596: () => {},
foo7597: () => {},
foo7598: () => {},
foo7599: () => {},
foo7600: () => {},
foo7601: () => {},
foo7602: () => {},
foo7603: () => {},
foo7604: () => {},
foo7605: () => {},
foo7606: () => {},
foo7607: () => {},
foo7608: () => {},
foo7609: () => {},
foo7610: () => {},
foo7611: () => {},
foo7612: () => {},
foo7613: () => {},
foo7614: () => {},
foo7615: () => {},
foo7616: () => {},
foo7617: () => {},
foo7618: () => {},
foo7619: () => {},
foo7620: () => {},
foo7621: () => {},
foo7622: () => {},
foo7623: () => {},
foo7624: () => {},
foo7625: () => {},
foo7626: () => {},
foo7627: () => {},
foo7628: () => {},
foo7629: () => {},
foo7630: () => {},
foo7631: () => {},
foo7632: () => {},
foo7633: () => {},
foo7634: () => {},
foo7635: () => {},
foo7636: () => {},
foo7637: () => {},
foo7638: () => {},
foo7639: () => {},
foo7640: () => {},
foo7641: () => {},
foo7642: () => {},
foo7643: () => {},
foo7644: () => {},
foo7645: () => {},
foo7646: () => {},
foo7647: () => {},
foo7648: () => {},
foo7649: () => {},
foo7650: () => {},
foo7651: () => {},
foo7652: () => {},
foo7653: () => {},
foo7654: () => {},
foo7655: () => {},
foo7656: () => {},
foo7657: () => {},
foo7658: () => {},
foo7659: () => {},
foo7660: () => {},
foo7661: () => {},
foo7662: () => {},
foo7663: () => {},
foo7664: () => {},
foo7665: () => {},
foo7666: () => {},
foo7667: () => {},
foo7668: () => {},
foo7669: () => {},
foo7670: () => {},
foo7671: () => {},
foo7672: () => {},
foo7673: () => {},
foo7674: () => {},
foo7675: () => {},
foo7676: () => {},
foo7677: () => {},
foo7678: () => {},
foo7679: () => {},
foo7680: () => {},
foo7681: () => {},
foo7682: () => {},
foo7683: () => {},
foo7684: () => {},
foo7685: () => {},
foo7686: () => {},
foo7687: () => {},
foo7688: () => {},
foo7689: () => {},
foo7690: () => {},
foo7691: () => {},
foo7692: () => {},
foo7693: () => {},
foo7694: () => {},
foo7695: () => {},
foo7696: () => {},
foo7697: () => {},
foo7698: () => {},
foo7699: () => {},
foo7700: () => {},
foo7701: () => {},
foo7702: () => {},
foo7703: () => {},
foo7704: () => {},
foo7705: () => {},
foo7706: () => {},
foo7707: () => {},
foo7708: () => {},
foo7709: () => {},
foo7710: () => {},
foo7711: () => {},
foo7712: () => {},
foo7713: () => {},
foo7714: () => {},
foo7715: () => {},
foo7716: () => {},
foo7717: () => {},
foo7718: () => {},
foo7719: () => {},
foo7720: () => {},
foo7721: () => {},
foo7722: () => {},
foo7723: () => {},
foo7724: () => {},
foo7725: () => {},
foo7726: () => {},
foo7727: () => {},
foo7728: () => {},
foo7729: () => {},
foo7730: () => {},
foo7731: () => {},
foo7732: () => {},
foo7733: () => {},
foo7734: () => {},
foo7735: () => {},
foo7736: () => {},
foo7737: () => {},
foo7738: () => {},
foo7739: () => {},
foo7740: () => {},
foo7741: () => {},
foo7742: () => {},
foo7743: () => {},
foo7744: () => {},
foo7745: () => {},
foo7746: () => {},
foo7747: () => {},
foo7748: () => {},
foo7749: () => {},
foo7750: () => {},
foo7751: () => {},
foo7752: () => {},
foo7753: () => {},
foo7754: () => {},
foo7755: () => {},
foo7756: () => {},
foo7757: () => {},
foo7758: () => {},
foo7759: () => {},
foo7760: () => {},
foo7761: () => {},
foo7762: () => {},
foo7763: () => {},
foo7764: () => {},
foo7765: () => {},
foo7766: () => {},
foo7767: () => {},
foo7768: () => {},
foo7769: () => {},
foo7770: () => {},
foo7771: () => {},
foo7772: () => {},
foo7773: () => {},
foo7774: () => {},
foo7775: () => {},
foo7776: () => {},
foo7777: () => {},
foo7778: () => {},
foo7779: () => {},
foo7780: () => {},
foo7781: () => {},
foo7782: () => {},
foo7783: () => {},
foo7784: () => {},
foo7785: () => {},
foo7786: () => {},
foo7787: () => {},
foo7788: () => {},
foo7789: () => {},
foo7790: () => {},
foo7791: () => {},
foo7792: () => {},
foo7793: () => {},
foo7794: () => {},
foo7795: () => {},
foo7796: () => {},
foo7797: () => {},
foo7798: () => {},
foo7799: () => {},
foo7800: () => {},
foo7801: () => {},
foo7802: () => {},
foo7803: () => {},
foo7804: () => {},
foo7805: () => {},
foo7806: () => {},
foo7807: () => {},
foo7808: () => {},
foo7809: () => {},
foo7810: () => {},
foo7811: () => {},
foo7812: () => {},
foo7813: () => {},
foo7814: () => {},
foo7815: () => {},
foo7816: () => {},
foo7817: () => {},
foo7818: () => {},
foo7819: () => {},
foo7820: () => {},
foo7821: () => {},
foo7822: () => {},
foo7823: () => {},
foo7824: () => {},
foo7825: () => {},
foo7826: () => {},
foo7827: () => {},
foo7828: () => {},
foo7829: () => {},
foo7830: () => {},
foo7831: () => {},
foo7832: () => {},
foo7833: () => {},
foo7834: () => {},
foo7835: () => {},
foo7836: () => {},
foo7837: () => {},
foo7838: () => {},
foo7839: () => {},
foo7840: () => {},
foo7841: () => {},
foo7842: () => {},
foo7843: () => {},
foo7844: () => {},
foo7845: () => {},
foo7846: () => {},
foo7847: () => {},
foo7848: () => {},
foo7849: () => {},
foo7850: () => {},
foo7851: () => {},
foo7852: () => {},
foo7853: () => {},
foo7854: () => {},
foo7855: () => {},
foo7856: () => {},
foo7857: () => {},
foo7858: () => {},
foo7859: () => {},
foo7860: () => {},
foo7861: () => {},
foo7862: () => {},
foo7863: () => {},
foo7864: () => {},
foo7865: () => {},
foo7866: () => {},
foo7867: () => {},
foo7868: () => {},
foo7869: () => {},
foo7870: () => {},
foo7871: () => {},
foo7872: () => {},
foo7873: () => {},
foo7874: () => {},
foo7875: () => {},
foo7876: () => {},
foo7877: () => {},
foo7878: () => {},
foo7879: () => {},
foo7880: () => {},
foo7881: () => {},
foo7882: () => {},
foo7883: () => {},
foo7884: () => {},
foo7885: () => {},
foo7886: () => {},
foo7887: () => {},
foo7888: () => {},
foo7889: () => {},
foo7890: () => {},
foo7891: () => {},
foo7892: () => {},
foo7893: () => {},
foo7894: () => {},
foo7895: () => {},
foo7896: () => {},
foo7897: () => {},
foo7898: () => {},
foo7899: () => {},
foo7900: () => {},
foo7901: () => {},
foo7902: () => {},
foo7903: () => {},
foo7904: () => {},
foo7905: () => {},
foo7906: () => {},
foo7907: () => {},
foo7908: () => {},
foo7909: () => {},
foo7910: () => {},
foo7911: () => {},
foo7912: () => {},
foo7913: () => {},
foo7914: () => {},
foo7915: () => {},
foo7916: () => {},
foo7917: () => {},
foo7918: () => {},
foo7919: () => {},
foo7920: () => {},
foo7921: () => {},
foo7922: () => {},
foo7923: () => {},
foo7924: () => {},
foo7925: () => {},
foo7926: () => {},
foo7927: () => {},
foo7928: () => {},
foo7929: () => {},
foo7930: () => {},
foo7931: () => {},
foo7932: () => {},
foo7933: () => {},
foo7934: () => {},
foo7935: () => {},
foo7936: () => {},
foo7937: () => {},
foo7938: () => {},
foo7939: () => {},
foo7940: () => {},
foo7941: () => {},
foo7942: () => {},
foo7943: () => {},
foo7944: () => {},
foo7945: () => {},
foo7946: () => {},
foo7947: () => {},
foo7948: () => {},
foo7949: () => {},
foo7950: () => {},
foo7951: () => {},
foo7952: () => {},
foo7953: () => {},
foo7954: () => {},
foo7955: () => {},
foo7956: () => {},
foo7957: () => {},
foo7958: () => {},
foo7959: () => {},
foo7960: () => {},
foo7961: () => {},
foo7962: () => {},
foo7963: () => {},
foo7964: () => {},
foo7965: () => {},
foo7966: () => {},
foo7967: () => {},
foo7968: () => {},
foo7969: () => {},
foo7970: () => {},
foo7971: () => {},
foo7972: () => {},
foo7973: () => {},
foo7974: () => {},
foo7975: () => {},
foo7976: () => {},
foo7977: () => {},
foo7978: () => {},
foo7979: () => {},
foo7980: () => {},
foo7981: () => {},
foo7982: () => {},
foo7983: () => {},
foo7984: () => {},
foo7985: () => {},
foo7986: () => {},
foo7987: () => {},
foo7988: () => {},
foo7989: () => {},
foo7990: () => {},
foo7991: () => {},
foo7992: () => {},
foo7993: () => {},
foo7994: () => {},
foo7995: () => {},
foo7996: () => {},
foo7997: () => {},
foo7998: () => {},
foo7999: () => {},
foo8000: () => {},
foo8001: () => {},
foo8002: () => {},
foo8003: () => {},
foo8004: () => {},
foo8005: () => {},
foo8006: () => {},
foo8007: () => {},
foo8008: () => {},
foo8009: () => {},
foo8010: () => {},
foo8011: () => {},
foo8012: () => {},
foo8013: () => {},
foo8014: () => {},
foo8015: () => {},
foo8016: () => {},
foo8017: () => {},
foo8018: () => {},
foo8019: () => {},
foo8020: () => {},
foo8021: () => {},
foo8022: () => {},
foo8023: () => {},
foo8024: () => {},
foo8025: () => {},
foo8026: () => {},
foo8027: () => {},
foo8028: () => {},
foo8029: () => {},
foo8030: () => {},
foo8031: () => {},
foo8032: () => {},
foo8033: () => {},
foo8034: () => {},
foo8035: () => {},
foo8036: () => {},
foo8037: () => {},
foo8038: () => {},
foo8039: () => {},
foo8040: () => {},
foo8041: () => {},
foo8042: () => {},
foo8043: () => {},
foo8044: () => {},
foo8045: () => {},
foo8046: () => {},
foo8047: () => {},
foo8048: () => {},
foo8049: () => {},
foo8050: () => {},
foo8051: () => {},
foo8052: () => {},
foo8053: () => {},
foo8054: () => {},
foo8055: () => {},
foo8056: () => {},
foo8057: () => {},
foo8058: () => {},
foo8059: () => {},
foo8060: () => {},
foo8061: () => {},
foo8062: () => {},
foo8063: () => {},
foo8064: () => {},
foo8065: () => {},
foo8066: () => {},
foo8067: () => {},
foo8068: () => {},
foo8069: () => {},
foo8070: () => {},
foo8071: () => {},
foo8072: () => {},
foo8073: () => {},
foo8074: () => {},
foo8075: () => {},
foo8076: () => {},
foo8077: () => {},
foo8078: () => {},
foo8079: () => {},
foo8080: () => {},
foo8081: () => {},
foo8082: () => {},
foo8083: () => {},
foo8084: () => {},
foo8085: () => {},
foo8086: () => {},
foo8087: () => {},
foo8088: () => {},
foo8089: () => {},
foo8090: () => {},
foo8091: () => {},
foo8092: () => {},
foo8093: () => {},
foo8094: () => {},
foo8095: () => {},
foo8096: () => {},
foo8097: () => {},
foo8098: () => {},
foo8099: () => {},
foo8100: () => {},
foo8101: () => {},
foo8102: () => {},
foo8103: () => {},
foo8104: () => {},
foo8105: () => {},
foo8106: () => {},
foo8107: () => {},
foo8108: () => {},
foo8109: () => {},
foo8110: () => {},
foo8111: () => {},
foo8112: () => {},
foo8113: () => {},
foo8114: () => {},
foo8115: () => {},
foo8116: () => {},
foo8117: () => {},
foo8118: () => {},
foo8119: () => {},
foo8120: () => {},
foo8121: () => {},
foo8122: () => {},
foo8123: () => {},
foo8124: () => {},
foo8125: () => {},
foo8126: () => {},
foo8127: () => {},
foo8128: () => {},
foo8129: () => {},
foo8130: () => {},
foo8131: () => {},
foo8132: () => {},
foo8133: () => {},
foo8134: () => {},
foo8135: () => {},
foo8136: () => {},
foo8137: () => {},
foo8138: () => {},
foo8139: () => {},
foo8140: () => {},
foo8141: () => {},
foo8142: () => {},
foo8143: () => {},
foo8144: () => {},
foo8145: () => {},
foo8146: () => {},
foo8147: () => {},
foo8148: () => {},
foo8149: () => {},
foo8150: () => {},
foo8151: () => {},
foo8152: () => {},
foo8153: () => {},
foo8154: () => {},
foo8155: () => {},
foo8156: () => {},
foo8157: () => {},
foo8158: () => {},
foo8159: () => {},
foo8160: () => {},
foo8161: () => {},
foo8162: () => {},
foo8163: () => {},
foo8164: () => {},
foo8165: () => {},
foo8166: () => {},
foo8167: () => {},
foo8168: () => {},
foo8169: () => {},
foo8170: () => {},
foo8171: () => {},
foo8172: () => {},
foo8173: () => {},
foo8174: () => {},
foo8175: () => {},
foo8176: () => {},
foo8177: () => {},
foo8178: () => {},
foo8179: () => {},
foo8180: () => {},
foo8181: () => {},
foo8182: () => {},
foo8183: () => {},
foo8184: () => {},
foo8185: () => {},
foo8186: () => {},
foo8187: () => {},
foo8188: () => {},
foo8189: () => {},
foo8190: () => {},
foo8191: () => {},
foo8192: () => {},
foo8193: () => {},
foo8194: () => {},
foo8195: () => {},
foo8196: () => {},
foo8197: () => {},
foo8198: () => {},
foo8199: () => {},
foo8200: () => {},
foo8201: () => {},
foo8202: () => {},
foo8203: () => {},
foo8204: () => {},
foo8205: () => {},
foo8206: () => {},
foo8207: () => {},
foo8208: () => {},
foo8209: () => {},
foo8210: () => {},
foo8211: () => {},
foo8212: () => {},
foo8213: () => {},
foo8214: () => {},
foo8215: () => {},
foo8216: () => {},
foo8217: () => {},
foo8218: () => {},
foo8219: () => {},
foo8220: () => {},
foo8221: () => {},
foo8222: () => {},
foo8223: () => {},
foo8224: () => {},
foo8225: () => {},
foo8226: () => {},
foo8227: () => {},
foo8228: () => {},
foo8229: () => {},
foo8230: () => {},
foo8231: () => {},
foo8232: () => {},
foo8233: () => {},
foo8234: () => {},
foo8235: () => {},
foo8236: () => {},
foo8237: () => {},
foo8238: () => {},
foo8239: () => {},
foo8240: () => {},
foo8241: () => {},
foo8242: () => {},
foo8243: () => {},
foo8244: () => {},
foo8245: () => {},
foo8246: () => {},
foo8247: () => {},
foo8248: () => {},
foo8249: () => {},
foo8250: () => {},
foo8251: () => {},
foo8252: () => {},
foo8253: () => {},
foo8254: () => {},
foo8255: () => {},
foo8256: () => {},
foo8257: () => {},
foo8258: () => {},
foo8259: () => {},
foo8260: () => {},
foo8261: () => {},
foo8262: () => {},
foo8263: () => {},
foo8264: () => {},
foo8265: () => {},
foo8266: () => {},
foo8267: () => {},
foo8268: () => {},
foo8269: () => {},
foo8270: () => {},
foo8271: () => {},
foo8272: () => {},
foo8273: () => {},
foo8274: () => {},
foo8275: () => {},
foo8276: () => {},
foo8277: () => {},
foo8278: () => {},
foo8279: () => {},
foo8280: () => {},
foo8281: () => {},
foo8282: () => {},
foo8283: () => {},
foo8284: () => {},
foo8285: () => {},
foo8286: () => {},
foo8287: () => {},
foo8288: () => {},
foo8289: () => {},
foo8290: () => {},
foo8291: () => {},
foo8292: () => {},
foo8293: () => {},
foo8294: () => {},
foo8295: () => {},
foo8296: () => {},
foo8297: () => {},
foo8298: () => {},
foo8299: () => {},
foo8300: () => {},
foo8301: () => {},
foo8302: () => {},
foo8303: () => {},
foo8304: () => {},
foo8305: () => {},
foo8306: () => {},
foo8307: () => {},
foo8308: () => {},
foo8309: () => {},
foo8310: () => {},
foo8311: () => {},
foo8312: () => {},
foo8313: () => {},
foo8314: () => {},
foo8315: () => {},
foo8316: () => {},
foo8317: () => {},
foo8318: () => {},
foo8319: () => {},
foo8320: () => {},
foo8321: () => {},
foo8322: () => {},
foo8323: () => {},
foo8324: () => {},
foo8325: () => {},
foo8326: () => {},
foo8327: () => {},
foo8328: () => {},
foo8329: () => {},
foo8330: () => {},
foo8331: () => {},
foo8332: () => {},
foo8333: () => {},
foo8334: () => {},
foo8335: () => {},
foo8336: () => {},
foo8337: () => {},
foo8338: () => {},
foo8339: () => {},
foo8340: () => {},
foo8341: () => {},
foo8342: () => {},
foo8343: () => {},
foo8344: () => {},
foo8345: () => {},
foo8346: () => {},
foo8347: () => {},
foo8348: () => {},
foo8349: () => {},
foo8350: () => {},
foo8351: () => {},
foo8352: () => {},
foo8353: () => {},
foo8354: () => {},
foo8355: () => {},
foo8356: () => {},
foo8357: () => {},
foo8358: () => {},
foo8359: () => {},
foo8360: () => {},
foo8361: () => {},
foo8362: () => {},
foo8363: () => {},
foo8364: () => {},
foo8365: () => {},
foo8366: () => {},
foo8367: () => {},
foo8368: () => {},
foo8369: () => {},
foo8370: () => {},
foo8371: () => {},
foo8372: () => {},
foo8373: () => {},
foo8374: () => {},
foo8375: () => {},
foo8376: () => {},
foo8377: () => {},
foo8378: () => {},
foo8379: () => {},
foo8380: () => {},
foo8381: () => {},
foo8382: () => {},
foo8383: () => {},
foo8384: () => {},
foo8385: () => {},
foo8386: () => {},
foo8387: () => {},
foo8388: () => {},
foo8389: () => {},
foo8390: () => {},
foo8391: () => {},
foo8392: () => {},
foo8393: () => {},
foo8394: () => {},
foo8395: () => {},
foo8396: () => {},
foo8397: () => {},
foo8398: () => {},
foo8399: () => {},
foo8400: () => {},
foo8401: () => {},
foo8402: () => {},
foo8403: () => {},
foo8404: () => {},
foo8405: () => {},
foo8406: () => {},
foo8407: () => {},
foo8408: () => {},
foo8409: () => {},
foo8410: () => {},
foo8411: () => {},
foo8412: () => {},
foo8413: () => {},
foo8414: () => {},
foo8415: () => {},
foo8416: () => {},
foo8417: () => {},
foo8418: () => {},
foo8419: () => {},
foo8420: () => {},
foo8421: () => {},
foo8422: () => {},
foo8423: () => {},
foo8424: () => {},
foo8425: () => {},
foo8426: () => {},
foo8427: () => {},
foo8428: () => {},
foo8429: () => {},
foo8430: () => {},
foo8431: () => {},
foo8432: () => {},
foo8433: () => {},
foo8434: () => {},
foo8435: () => {},
foo8436: () => {},
foo8437: () => {},
foo8438: () => {},
foo8439: () => {},
foo8440: () => {},
foo8441: () => {},
foo8442: () => {},
foo8443: () => {},
foo8444: () => {},
foo8445: () => {},
foo8446: () => {},
foo8447: () => {},
foo8448: () => {},
foo8449: () => {},
foo8450: () => {},
foo8451: () => {},
foo8452: () => {},
foo8453: () => {},
foo8454: () => {},
foo8455: () => {},
foo8456: () => {},
foo8457: () => {},
foo8458: () => {},
foo8459: () => {},
foo8460: () => {},
foo8461: () => {},
foo8462: () => {},
foo8463: () => {},
foo8464: () => {},
foo8465: () => {},
foo8466: () => {},
foo8467: () => {},
foo8468: () => {},
foo8469: () => {},
foo8470: () => {},
foo8471: () => {},
foo8472: () => {},
foo8473: () => {},
foo8474: () => {},
foo8475: () => {},
foo8476: () => {},
foo8477: () => {},
foo8478: () => {},
foo8479: () => {},
foo8480: () => {},
foo8481: () => {},
foo8482: () => {},
foo8483: () => {},
foo8484: () => {},
foo8485: () => {},
foo8486: () => {},
foo8487: () => {},
foo8488: () => {},
foo8489: () => {},
foo8490: () => {},
foo8491: () => {},
foo8492: () => {},
foo8493: () => {},
foo8494: () => {},
foo8495: () => {},
foo8496: () => {},
foo8497: () => {},
foo8498: () => {},
foo8499: () => {},
foo8500: () => {},
foo8501: () => {},
foo8502: () => {},
foo8503: () => {},
foo8504: () => {},
foo8505: () => {},
foo8506: () => {},
foo8507: () => {},
foo8508: () => {},
foo8509: () => {},
foo8510: () => {},
foo8511: () => {},
foo8512: () => {},
foo8513: () => {},
foo8514: () => {},
foo8515: () => {},
foo8516: () => {},
foo8517: () => {},
foo8518: () => {},
foo8519: () => {},
foo8520: () => {},
foo8521: () => {},
foo8522: () => {},
foo8523: () => {},
foo8524: () => {},
foo8525: () => {},
foo8526: () => {},
foo8527: () => {},
foo8528: () => {},
foo8529: () => {},
foo8530: () => {},
foo8531: () => {},
foo8532: () => {},
foo8533: () => {},
foo8534: () => {},
foo8535: () => {},
foo8536: () => {},
foo8537: () => {},
foo8538: () => {},
foo8539: () => {},
foo8540: () => {},
foo8541: () => {},
foo8542: () => {},
foo8543: () => {},
foo8544: () => {},
foo8545: () => {},
foo8546: () => {},
foo8547: () => {},
foo8548: () => {},
foo8549: () => {},
foo8550: () => {},
foo8551: () => {},
foo8552: () => {},
foo8553: () => {},
foo8554: () => {},
foo8555: () => {},
foo8556: () => {},
foo8557: () => {},
foo8558: () => {},
foo8559: () => {},
foo8560: () => {},
foo8561: () => {},
foo8562: () => {},
foo8563: () => {},
foo8564: () => {},
foo8565: () => {},
foo8566: () => {},
foo8567: () => {},
foo8568: () => {},
foo8569: () => {},
foo8570: () => {},
foo8571: () => {},
foo8572: () => {},
foo8573: () => {},
foo8574: () => {},
foo8575: () => {},
foo8576: () => {},
foo8577: () => {},
foo8578: () => {},
foo8579: () => {},
foo8580: () => {},
foo8581: () => {},
foo8582: () => {},
foo8583: () => {},
foo8584: () => {},
foo8585: () => {},
foo8586: () => {},
foo8587: () => {},
foo8588: () => {},
foo8589: () => {},
foo8590: () => {},
foo8591: () => {},
foo8592: () => {},
foo8593: () => {},
foo8594: () => {},
foo8595: () => {},
foo8596: () => {},
foo8597: () => {},
foo8598: () => {},
foo8599: () => {},
foo8600: () => {},
foo8601: () => {},
foo8602: () => {},
foo8603: () => {},
foo8604: () => {},
foo8605: () => {},
foo8606: () => {},
foo8607: () => {},
foo8608: () => {},
foo8609: () => {},
foo8610: () => {},
foo8611: () => {},
foo8612: () => {},
foo8613: () => {},
foo8614: () => {},
foo8615: () => {},
foo8616: () => {},
foo8617: () => {},
foo8618: () => {},
foo8619: () => {},
foo8620: () => {},
foo8621: () => {},
foo8622: () => {},
foo8623: () => {},
foo8624: () => {},
foo8625: () => {},
foo8626: () => {},
foo8627: () => {},
foo8628: () => {},
foo8629: () => {},
foo8630: () => {},
foo8631: () => {},
foo8632: () => {},
foo8633: () => {},
foo8634: () => {},
foo8635: () => {},
foo8636: () => {},
foo8637: () => {},
foo8638: () => {},
foo8639: () => {},
foo8640: () => {},
foo8641: () => {},
foo8642: () => {},
foo8643: () => {},
foo8644: () => {},
foo8645: () => {},
foo8646: () => {},
foo8647: () => {},
foo8648: () => {},
foo8649: () => {},
foo8650: () => {},
foo8651: () => {},
foo8652: () => {},
foo8653: () => {},
foo8654: () => {},
foo8655: () => {},
foo8656: () => {},
foo8657: () => {},
foo8658: () => {},
foo8659: () => {},
foo8660: () => {},
foo8661: () => {},
foo8662: () => {},
foo8663: () => {},
foo8664: () => {},
foo8665: () => {},
foo8666: () => {},
foo8667: () => {},
foo8668: () => {},
foo8669: () => {},
foo8670: () => {},
foo8671: () => {},
foo8672: () => {},
foo8673: () => {},
foo8674: () => {},
foo8675: () => {},
foo8676: () => {},
foo8677: () => {},
foo8678: () => {},
foo8679: () => {},
foo8680: () => {},
foo8681: () => {},
foo8682: () => {},
foo8683: () => {},
foo8684: () => {},
foo8685: () => {},
foo8686: () => {},
foo8687: () => {},
foo8688: () => {},
foo8689: () => {},
foo8690: () => {},
foo8691: () => {},
foo8692: () => {},
foo8693: () => {},
foo8694: () => {},
foo8695: () => {},
foo8696: () => {},
foo8697: () => {},
foo8698: () => {},
foo8699: () => {},
foo8700: () => {},
foo8701: () => {},
foo8702: () => {},
foo8703: () => {},
foo8704: () => {},
foo8705: () => {},
foo8706: () => {},
foo8707: () => {},
foo8708: () => {},
foo8709: () => {},
foo8710: () => {},
foo8711: () => {},
foo8712: () => {},
foo8713: () => {},
foo8714: () => {},
foo8715: () => {},
foo8716: () => {},
foo8717: () => {},
foo8718: () => {},
foo8719: () => {},
foo8720: () => {},
foo8721: () => {},
foo8722: () => {},
foo8723: () => {},
foo8724: () => {},
foo8725: () => {},
foo8726: () => {},
foo8727: () => {},
foo8728: () => {},
foo8729: () => {},
foo8730: () => {},
foo8731: () => {},
foo8732: () => {},
foo8733: () => {},
foo8734: () => {},
foo8735: () => {},
foo8736: () => {},
foo8737: () => {},
foo8738: () => {},
foo8739: () => {},
foo8740: () => {},
foo8741: () => {},
foo8742: () => {},
foo8743: () => {},
foo8744: () => {},
foo8745: () => {},
foo8746: () => {},
foo8747: () => {},
foo8748: () => {},
foo8749: () => {},
foo8750: () => {},
foo8751: () => {},
foo8752: () => {},
foo8753: () => {},
foo8754: () => {},
foo8755: () => {},
foo8756: () => {},
foo8757: () => {},
foo8758: () => {},
foo8759: () => {},
foo8760: () => {},
foo8761: () => {},
foo8762: () => {},
foo8763: () => {},
foo8764: () => {},
foo8765: () => {},
foo8766: () => {},
foo8767: () => {},
foo8768: () => {},
foo8769: () => {},
foo8770: () => {},
foo8771: () => {},
foo8772: () => {},
foo8773: () => {},
foo8774: () => {},
foo8775: () => {},
foo8776: () => {},
foo8777: () => {},
foo8778: () => {},
foo8779: () => {},
foo8780: () => {},
foo8781: () => {},
foo8782: () => {},
foo8783: () => {},
foo8784: () => {},
foo8785: () => {},
foo8786: () => {},
foo8787: () => {},
foo8788: () => {},
foo8789: () => {},
foo8790: () => {},
foo8791: () => {},
foo8792: () => {},
foo8793: () => {},
foo8794: () => {},
foo8795: () => {},
foo8796: () => {},
foo8797: () => {},
foo8798: () => {},
foo8799: () => {},
foo8800: () => {},
foo8801: () => {},
foo8802: () => {},
foo8803: () => {},
foo8804: () => {},
foo8805: () => {},
foo8806: () => {},
foo8807: () => {},
foo8808: () => {},
foo8809: () => {},
foo8810: () => {},
foo8811: () => {},
foo8812: () => {},
foo8813: () => {},
foo8814: () => {},
foo8815: () => {},
foo8816: () => {},
foo8817: () => {},
foo8818: () => {},
foo8819: () => {},
foo8820: () => {},
foo8821: () => {},
foo8822: () => {},
foo8823: () => {},
foo8824: () => {},
foo8825: () => {},
foo8826: () => {},
foo8827: () => {},
foo8828: () => {},
foo8829: () => {},
foo8830: () => {},
foo8831: () => {},
foo8832: () => {},
foo8833: () => {},
foo8834: () => {},
foo8835: () => {},
foo8836: () => {},
foo8837: () => {},
foo8838: () => {},
foo8839: () => {},
foo8840: () => {},
foo8841: () => {},
foo8842: () => {},
foo8843: () => {},
foo8844: () => {},
foo8845: () => {},
foo8846: () => {},
foo8847: () => {},
foo8848: () => {},
foo8849: () => {},
foo8850: () => {},
foo8851: () => {},
foo8852: () => {},
foo8853: () => {},
foo8854: () => {},
foo8855: () => {},
foo8856: () => {},
foo8857: () => {},
foo8858: () => {},
foo8859: () => {},
foo8860: () => {},
foo8861: () => {},
foo8862: () => {},
foo8863: () => {},
foo8864: () => {},
foo8865: () => {},
foo8866: () => {},
foo8867: () => {},
foo8868: () => {},
foo8869: () => {},
foo8870: () => {},
foo8871: () => {},
foo8872: () => {},
foo8873: () => {},
foo8874: () => {},
foo8875: () => {},
foo8876: () => {},
foo8877: () => {},
foo8878: () => {},
foo8879: () => {},
foo8880: () => {},
foo8881: () => {},
foo8882: () => {},
foo8883: () => {},
foo8884: () => {},
foo8885: () => {},
foo8886: () => {},
foo8887: () => {},
foo8888: () => {},
foo8889: () => {},
foo8890: () => {},
foo8891: () => {},
foo8892: () => {},
foo8893: () => {},
foo8894: () => {},
foo8895: () => {},
foo8896: () => {},
foo8897: () => {},
foo8898: () => {},
foo8899: () => {},
foo8900: () => {},
foo8901: () => {},
foo8902: () => {},
foo8903: () => {},
foo8904: () => {},
foo8905: () => {},
foo8906: () => {},
foo8907: () => {},
foo8908: () => {},
foo8909: () => {},
foo8910: () => {},
foo8911: () => {},
foo8912: () => {},
foo8913: () => {},
foo8914: () => {},
foo8915: () => {},
foo8916: () => {},
foo8917: () => {},
foo8918: () => {},
foo8919: () => {},
foo8920: () => {},
foo8921: () => {},
foo8922: () => {},
foo8923: () => {},
foo8924: () => {},
foo8925: () => {},
foo8926: () => {},
foo8927: () => {},
foo8928: () => {},
foo8929: () => {},
foo8930: () => {},
foo8931: () => {},
foo8932: () => {},
foo8933: () => {},
foo8934: () => {},
foo8935: () => {},
foo8936: () => {},
foo8937: () => {},
foo8938: () => {},
foo8939: () => {},
foo8940: () => {},
foo8941: () => {},
foo8942: () => {},
foo8943: () => {},
foo8944: () => {},
foo8945: () => {},
foo8946: () => {},
foo8947: () => {},
foo8948: () => {},
foo8949: () => {},
foo8950: () => {},
foo8951: () => {},
foo8952: () => {},
foo8953: () => {},
foo8954: () => {},
foo8955: () => {},
foo8956: () => {},
foo8957: () => {},
foo8958: () => {},
foo8959: () => {},
foo8960: () => {},
foo8961: () => {},
foo8962: () => {},
foo8963: () => {},
foo8964: () => {},
foo8965: () => {},
foo8966: () => {},
foo8967: () => {},
foo8968: () => {},
foo8969: () => {},
foo8970: () => {},
foo8971: () => {},
foo8972: () => {},
foo8973: () => {},
foo8974: () => {},
foo8975: () => {},
foo8976: () => {},
foo8977: () => {},
foo8978: () => {},
foo8979: () => {},
foo8980: () => {},
foo8981: () => {},
foo8982: () => {},
foo8983: () => {},
foo8984: () => {},
foo8985: () => {},
foo8986: () => {},
foo8987: () => {},
foo8988: () => {},
foo8989: () => {},
foo8990: () => {},
foo8991: () => {},
foo8992: () => {},
foo8993: () => {},
foo8994: () => {},
foo8995: () => {},
foo8996: () => {},
foo8997: () => {},
foo8998: () => {},
foo8999: () => {},
foo9000: () => {},
foo9001: () => {},
foo9002: () => {},
foo9003: () => {},
foo9004: () => {},
foo9005: () => {},
foo9006: () => {},
foo9007: () => {},
foo9008: () => {},
foo9009: () => {},
foo9010: () => {},
foo9011: () => {},
foo9012: () => {},
foo9013: () => {},
foo9014: () => {},
foo9015: () => {},
foo9016: () => {},
foo9017: () => {},
foo9018: () => {},
foo9019: () => {},
foo9020: () => {},
foo9021: () => {},
foo9022: () => {},
foo9023: () => {},
foo9024: () => {},
foo9025: () => {},
foo9026: () => {},
foo9027: () => {},
foo9028: () => {},
foo9029: () => {},
foo9030: () => {},
foo9031: () => {},
foo9032: () => {},
foo9033: () => {},
foo9034: () => {},
foo9035: () => {},
foo9036: () => {},
foo9037: () => {},
foo9038: () => {},
foo9039: () => {},
foo9040: () => {},
foo9041: () => {},
foo9042: () => {},
foo9043: () => {},
foo9044: () => {},
foo9045: () => {},
foo9046: () => {},
foo9047: () => {},
foo9048: () => {},
foo9049: () => {},
foo9050: () => {},
foo9051: () => {},
foo9052: () => {},
foo9053: () => {},
foo9054: () => {},
foo9055: () => {},
foo9056: () => {},
foo9057: () => {},
foo9058: () => {},
foo9059: () => {},
foo9060: () => {},
foo9061: () => {},
foo9062: () => {},
foo9063: () => {},
foo9064: () => {},
foo9065: () => {},
foo9066: () => {},
foo9067: () => {},
foo9068: () => {},
foo9069: () => {},
foo9070: () => {},
foo9071: () => {},
foo9072: () => {},
foo9073: () => {},
foo9074: () => {},
foo9075: () => {},
foo9076: () => {},
foo9077: () => {},
foo9078: () => {},
foo9079: () => {},
foo9080: () => {},
foo9081: () => {},
foo9082: () => {},
foo9083: () => {},
foo9084: () => {},
foo9085: () => {},
foo9086: () => {},
foo9087: () => {},
foo9088: () => {},
foo9089: () => {},
foo9090: () => {},
foo9091: () => {},
foo9092: () => {},
foo9093: () => {},
foo9094: () => {},
foo9095: () => {},
foo9096: () => {},
foo9097: () => {},
foo9098: () => {},
foo9099: () => {},
foo9100: () => {},
foo9101: () => {},
foo9102: () => {},
foo9103: () => {},
foo9104: () => {},
foo9105: () => {},
foo9106: () => {},
foo9107: () => {},
foo9108: () => {},
foo9109: () => {},
foo9110: () => {},
foo9111: () => {},
foo9112: () => {},
foo9113: () => {},
foo9114: () => {},
foo9115: () => {},
foo9116: () => {},
foo9117: () => {},
foo9118: () => {},
foo9119: () => {},
foo9120: () => {},
foo9121: () => {},
foo9122: () => {},
foo9123: () => {},
foo9124: () => {},
foo9125: () => {},
foo9126: () => {},
foo9127: () => {},
foo9128: () => {},
foo9129: () => {},
foo9130: () => {},
foo9131: () => {},
foo9132: () => {},
foo9133: () => {},
foo9134: () => {},
foo9135: () => {},
foo9136: () => {},
foo9137: () => {},
foo9138: () => {},
foo9139: () => {},
foo9140: () => {},
foo9141: () => {},
foo9142: () => {},
foo9143: () => {},
foo9144: () => {},
foo9145: () => {},
foo9146: () => {},
foo9147: () => {},
foo9148: () => {},
foo9149: () => {},
foo9150: () => {},
foo9151: () => {},
foo9152: () => {},
foo9153: () => {},
foo9154: () => {},
foo9155: () => {},
foo9156: () => {},
foo9157: () => {},
foo9158: () => {},
foo9159: () => {},
foo9160: () => {},
foo9161: () => {},
foo9162: () => {},
foo9163: () => {},
foo9164: () => {},
foo9165: () => {},
foo9166: () => {},
foo9167: () => {},
foo9168: () => {},
foo9169: () => {},
foo9170: () => {},
foo9171: () => {},
foo9172: () => {},
foo9173: () => {},
foo9174: () => {},
foo9175: () => {},
foo9176: () => {},
foo9177: () => {},
foo9178: () => {},
foo9179: () => {},
foo9180: () => {},
foo9181: () => {},
foo9182: () => {},
foo9183: () => {},
foo9184: () => {},
foo9185: () => {},
foo9186: () => {},
foo9187: () => {},
foo9188: () => {},
foo9189: () => {},
foo9190: () => {},
foo9191: () => {},
foo9192: () => {},
foo9193: () => {},
foo9194: () => {},
foo9195: () => {},
foo9196: () => {},
foo9197: () => {},
foo9198: () => {},
foo9199: () => {},
foo9200: () => {},
foo9201: () => {},
foo9202: () => {},
foo9203: () => {},
foo9204: () => {},
foo9205: () => {},
foo9206: () => {},
foo9207: () => {},
foo9208: () => {},
foo9209: () => {},
foo9210: () => {},
foo9211: () => {},
foo9212: () => {},
foo9213: () => {},
foo9214: () => {},
foo9215: () => {},
foo9216: () => {},
foo9217: () => {},
foo9218: () => {},
foo9219: () => {},
foo9220: () => {},
foo9221: () => {},
foo9222: () => {},
foo9223: () => {},
foo9224: () => {},
foo9225: () => {},
foo9226: () => {},
foo9227: () => {},
foo9228: () => {},
foo9229: () => {},
foo9230: () => {},
foo9231: () => {},
foo9232: () => {},
foo9233: () => {},
foo9234: () => {},
foo9235: () => {},
foo9236: () => {},
foo9237: () => {},
foo9238: () => {},
foo9239: () => {},
foo9240: () => {},
foo9241: () => {},
foo9242: () => {},
foo9243: () => {},
foo9244: () => {},
foo9245: () => {},
foo9246: () => {},
foo9247: () => {},
foo9248: () => {},
foo9249: () => {},
foo9250: () => {},
foo9251: () => {},
foo9252: () => {},
foo9253: () => {},
foo9254: () => {},
foo9255: () => {},
foo9256: () => {},
foo9257: () => {},
foo9258: () => {},
foo9259: () => {},
foo9260: () => {},
foo9261: () => {},
foo9262: () => {},
foo9263: () => {},
foo9264: () => {},
foo9265: () => {},
foo9266: () => {},
foo9267: () => {},
foo9268: () => {},
foo9269: () => {},
foo9270: () => {},
foo9271: () => {},
foo9272: () => {},
foo9273: () => {},
foo9274: () => {},
foo9275: () => {},
foo9276: () => {},
foo9277: () => {},
foo9278: () => {},
foo9279: () => {},
foo9280: () => {},
foo9281: () => {},
foo9282: () => {},
foo9283: () => {},
foo9284: () => {},
foo9285: () => {},
foo9286: () => {},
foo9287: () => {},
foo9288: () => {},
foo9289: () => {},
foo9290: () => {},
foo9291: () => {},
foo9292: () => {},
foo9293: () => {},
foo9294: () => {},
foo9295: () => {},
foo9296: () => {},
foo9297: () => {},
foo9298: () => {},
foo9299: () => {},
foo9300: () => {},
foo9301: () => {},
foo9302: () => {},
foo9303: () => {},
foo9304: () => {},
foo9305: () => {},
foo9306: () => {},
foo9307: () => {},
foo9308: () => {},
foo9309: () => {},
foo9310: () => {},
foo9311: () => {},
foo9312: () => {},
foo9313: () => {},
foo9314: () => {},
foo9315: () => {},
foo9316: () => {},
foo9317: () => {},
foo9318: () => {},
foo9319: () => {},
foo9320: () => {},
foo9321: () => {},
foo9322: () => {},
foo9323: () => {},
foo9324: () => {},
foo9325: () => {},
foo9326: () => {},
foo9327: () => {},
foo9328: () => {},
foo9329: () => {},
foo9330: () => {},
foo9331: () => {},
foo9332: () => {},
foo9333: () => {},
foo9334: () => {},
foo9335: () => {},
foo9336: () => {},
foo9337: () => {},
foo9338: () => {},
foo9339: () => {},
foo9340: () => {},
foo9341: () => {},
foo9342: () => {},
foo9343: () => {},
foo9344: () => {},
foo9345: () => {},
foo9346: () => {},
foo9347: () => {},
foo9348: () => {},
foo9349: () => {},
foo9350: () => {},
foo9351: () => {},
foo9352: () => {},
foo9353: () => {},
foo9354: () => {},
foo9355: () => {},
foo9356: () => {},
foo9357: () => {},
foo9358: () => {},
foo9359: () => {},
foo9360: () => {},
foo9361: () => {},
foo9362: () => {},
foo9363: () => {},
foo9364: () => {},
foo9365: () => {},
foo9366: () => {},
foo9367: () => {},
foo9368: () => {},
foo9369: () => {},
foo9370: () => {},
foo9371: () => {},
foo9372: () => {},
foo9373: () => {},
foo9374: () => {},
foo9375: () => {},
foo9376: () => {},
foo9377: () => {},
foo9378: () => {},
foo9379: () => {},
foo9380: () => {},
foo9381: () => {},
foo9382: () => {},
foo9383: () => {},
foo9384: () => {},
foo9385: () => {},
foo9386: () => {},
foo9387: () => {},
foo9388: () => {},
foo9389: () => {},
foo9390: () => {},
foo9391: () => {},
foo9392: () => {},
foo9393: () => {},
foo9394: () => {},
foo9395: () => {},
foo9396: () => {},
foo9397: () => {},
foo9398: () => {},
foo9399: () => {},
foo9400: () => {},
foo9401: () => {},
foo9402: () => {},
foo9403: () => {},
foo9404: () => {},
foo9405: () => {},
foo9406: () => {},
foo9407: () => {},
foo9408: () => {},
foo9409: () => {},
foo9410: () => {},
foo9411: () => {},
foo9412: () => {},
foo9413: () => {},
foo9414: () => {},
foo9415: () => {},
foo9416: () => {},
foo9417: () => {},
foo9418: () => {},
foo9419: () => {},
foo9420: () => {},
foo9421: () => {},
foo9422: () => {},
foo9423: () => {},
foo9424: () => {},
foo9425: () => {},
foo9426: () => {},
foo9427: () => {},
foo9428: () => {},
foo9429: () => {},
foo9430: () => {},
foo9431: () => {},
foo9432: () => {},
foo9433: () => {},
foo9434: () => {},
foo9435: () => {},
foo9436: () => {},
foo9437: () => {},
foo9438: () => {},
foo9439: () => {},
foo9440: () => {},
foo9441: () => {},
foo9442: () => {},
foo9443: () => {},
foo9444: () => {},
foo9445: () => {},
foo9446: () => {},
foo9447: () => {},
foo9448: () => {},
foo9449: () => {},
foo9450: () => {},
foo9451: () => {},
foo9452: () => {},
foo9453: () => {},
foo9454: () => {},
foo9455: () => {},
foo9456: () => {},
foo9457: () => {},
foo9458: () => {},
foo9459: () => {},
foo9460: () => {},
foo9461: () => {},
foo9462: () => {},
foo9463: () => {},
foo9464: () => {},
foo9465: () => {},
foo9466: () => {},
foo9467: () => {},
foo9468: () => {},
foo9469: () => {},
foo9470: () => {},
foo9471: () => {},
foo9472: () => {},
foo9473: () => {},
foo9474: () => {},
foo9475: () => {},
foo9476: () => {},
foo9477: () => {},
foo9478: () => {},
foo9479: () => {},
foo9480: () => {},
foo9481: () => {},
foo9482: () => {},
foo9483: () => {},
foo9484: () => {},
foo9485: () => {},
foo9486: () => {},
foo9487: () => {},
foo9488: () => {},
foo9489: () => {},
foo9490: () => {},
foo9491: () => {},
foo9492: () => {},
foo9493: () => {},
foo9494: () => {},
foo9495: () => {},
foo9496: () => {},
foo9497: () => {},
foo9498: () => {},
foo9499: () => {},
foo9500: () => {},
foo9501: () => {},
foo9502: () => {},
foo9503: () => {},
foo9504: () => {},
foo9505: () => {},
foo9506: () => {},
foo9507: () => {},
foo9508: () => {},
foo9509: () => {},
foo9510: () => {},
foo9511: () => {},
foo9512: () => {},
foo9513: () => {},
foo9514: () => {},
foo9515: () => {},
foo9516: () => {},
foo9517: () => {},
foo9518: () => {},
foo9519: () => {},
foo9520: () => {},
foo9521: () => {},
foo9522: () => {},
foo9523: () => {},
foo9524: () => {},
foo9525: () => {},
foo9526: () => {},
foo9527: () => {},
foo9528: () => {},
foo9529: () => {},
foo9530: () => {},
foo9531: () => {},
foo9532: () => {},
foo9533: () => {},
foo9534: () => {},
foo9535: () => {},
foo9536: () => {},
foo9537: () => {},
foo9538: () => {},
foo9539: () => {},
foo9540: () => {},
foo9541: () => {},
foo9542: () => {},
foo9543: () => {},
foo9544: () => {},
foo9545: () => {},
foo9546: () => {},
foo9547: () => {},
foo9548: () => {},
foo9549: () => {},
foo9550: () => {},
foo9551: () => {},
foo9552: () => {},
foo9553: () => {},
foo9554: () => {},
foo9555: () => {},
foo9556: () => {},
foo9557: () => {},
foo9558: () => {},
foo9559: () => {},
foo9560: () => {},
foo9561: () => {},
foo9562: () => {},
foo9563: () => {},
foo9564: () => {},
foo9565: () => {},
foo9566: () => {},
foo9567: () => {},
foo9568: () => {},
foo9569: () => {},
foo9570: () => {},
foo9571: () => {},
foo9572: () => {},
foo9573: () => {},
foo9574: () => {},
foo9575: () => {},
foo9576: () => {},
foo9577: () => {},
foo9578: () => {},
foo9579: () => {},
foo9580: () => {},
foo9581: () => {},
foo9582: () => {},
foo9583: () => {},
foo9584: () => {},
foo9585: () => {},
foo9586: () => {},
foo9587: () => {},
foo9588: () => {},
foo9589: () => {},
foo9590: () => {},
foo9591: () => {},
foo9592: () => {},
foo9593: () => {},
foo9594: () => {},
foo9595: () => {},
foo9596: () => {},
foo9597: () => {},
foo9598: () => {},
foo9599: () => {},
foo9600: () => {},
foo9601: () => {},
foo9602: () => {},
foo9603: () => {},
foo9604: () => {},
foo9605: () => {},
foo9606: () => {},
foo9607: () => {},
foo9608: () => {},
foo9609: () => {},
foo9610: () => {},
foo9611: () => {},
foo9612: () => {},
foo9613: () => {},
foo9614: () => {},
foo9615: () => {},
foo9616: () => {},
foo9617: () => {},
foo9618: () => {},
foo9619: () => {},
foo9620: () => {},
foo9621: () => {},
foo9622: () => {},
foo9623: () => {},
foo9624: () => {},
foo9625: () => {},
foo9626: () => {},
foo9627: () => {},
foo9628: () => {},
foo9629: () => {},
foo9630: () => {},
foo9631: () => {},
foo9632: () => {},
foo9633: () => {},
foo9634: () => {},
foo9635: () => {},
foo9636: () => {},
foo9637: () => {},
foo9638: () => {},
foo9639: () => {},
foo9640: () => {},
foo9641: () => {},
foo9642: () => {},
foo9643: () => {},
foo9644: () => {},
foo9645: () => {},
foo9646: () => {},
foo9647: () => {},
foo9648: () => {},
foo9649: () => {},
foo9650: () => {},
foo9651: () => {},
foo9652: () => {},
foo9653: () => {},
foo9654: () => {},
foo9655: () => {},
foo9656: () => {},
foo9657: () => {},
foo9658: () => {},
foo9659: () => {},
foo9660: () => {},
foo9661: () => {},
foo9662: () => {},
foo9663: () => {},
foo9664: () => {},
foo9665: () => {},
foo9666: () => {},
foo9667: () => {},
foo9668: () => {},
foo9669: () => {},
foo9670: () => {},
foo9671: () => {},
foo9672: () => {},
foo9673: () => {},
foo9674: () => {},
foo9675: () => {},
foo9676: () => {},
foo9677: () => {},
foo9678: () => {},
foo9679: () => {},
foo9680: () => {},
foo9681: () => {},
foo9682: () => {},
foo9683: () => {},
foo9684: () => {},
foo9685: () => {},
foo9686: () => {},
foo9687: () => {},
foo9688: () => {},
foo9689: () => {},
foo9690: () => {},
foo9691: () => {},
foo9692: () => {},
foo9693: () => {},
foo9694: () => {},
foo9695: () => {},
foo9696: () => {},
foo9697: () => {},
foo9698: () => {},
foo9699: () => {},
foo9700: () => {},
foo9701: () => {},
foo9702: () => {},
foo9703: () => {},
foo9704: () => {},
foo9705: () => {},
foo9706: () => {},
foo9707: () => {},
foo9708: () => {},
foo9709: () => {},
foo9710: () => {},
foo9711: () => {},
foo9712: () => {},
foo9713: () => {},
foo9714: () => {},
foo9715: () => {},
foo9716: () => {},
foo9717: () => {},
foo9718: () => {},
foo9719: () => {},
foo9720: () => {},
foo9721: () => {},
foo9722: () => {},
foo9723: () => {},
foo9724: () => {},
foo9725: () => {},
foo9726: () => {},
foo9727: () => {},
foo9728: () => {},
foo9729: () => {},
foo9730: () => {},
foo9731: () => {},
foo9732: () => {},
foo9733: () => {},
foo9734: () => {},
foo9735: () => {},
foo9736: () => {},
foo9737: () => {},
foo9738: () => {},
foo9739: () => {},
foo9740: () => {},
foo9741: () => {},
foo9742: () => {},
foo9743: () => {},
foo9744: () => {},
foo9745: () => {},
foo9746: () => {},
foo9747: () => {},
foo9748: () => {},
foo9749: () => {},
foo9750: () => {},
foo9751: () => {},
foo9752: () => {},
foo9753: () => {},
foo9754: () => {},
foo9755: () => {},
foo9756: () => {},
foo9757: () => {},
foo9758: () => {},
foo9759: () => {},
foo9760: () => {},
foo9761: () => {},
foo9762: () => {},
foo9763: () => {},
foo9764: () => {},
foo9765: () => {},
foo9766: () => {},
foo9767: () => {},
foo9768: () => {},
foo9769: () => {},
foo9770: () => {},
foo9771: () => {},
foo9772: () => {},
foo9773: () => {},
foo9774: () => {},
foo9775: () => {},
foo9776: () => {},
foo9777: () => {},
foo9778: () => {},
foo9779: () => {},
foo9780: () => {},
foo9781: () => {},
foo9782: () => {},
foo9783: () => {},
foo9784: () => {},
foo9785: () => {},
foo9786: () => {},
foo9787: () => {},
foo9788: () => {},
foo9789: () => {},
foo9790: () => {},
foo9791: () => {},
foo9792: () => {},
foo9793: () => {},
foo9794: () => {},
foo9795: () => {},
foo9796: () => {},
foo9797: () => {},
foo9798: () => {},
foo9799: () => {},
foo9800: () => {},
foo9801: () => {},
foo9802: () => {},
foo9803: () => {},
foo9804: () => {},
foo9805: () => {},
foo9806: () => {},
foo9807: () => {},
foo9808: () => {},
foo9809: () => {},
foo9810: () => {},
foo9811: () => {},
foo9812: () => {},
foo9813: () => {},
foo9814: () => {},
foo9815: () => {},
foo9816: () => {},
foo9817: () => {},
foo9818: () => {},
foo9819: () => {},
foo9820: () => {},
foo9821: () => {},
foo9822: () => {},
foo9823: () => {},
foo9824: () => {},
foo9825: () => {},
foo9826: () => {},
foo9827: () => {},
foo9828: () => {},
foo9829: () => {},
foo9830: () => {},
foo9831: () => {},
foo9832: () => {},
foo9833: () => {},
foo9834: () => {},
foo9835: () => {},
foo9836: () => {},
foo9837: () => {},
foo9838: () => {},
foo9839: () => {},
foo9840: () => {},
foo9841: () => {},
foo9842: () => {},
foo9843: () => {},
foo9844: () => {},
foo9845: () => {},
foo9846: () => {},
foo9847: () => {},
foo9848: () => {},
foo9849: () => {},
foo9850: () => {},
foo9851: () => {},
foo9852: () => {},
foo9853: () => {},
foo9854: () => {},
foo9855: () => {},
foo9856: () => {},
foo9857: () => {},
foo9858: () => {},
foo9859: () => {},
foo9860: () => {},
foo9861: () => {},
foo9862: () => {},
foo9863: () => {},
foo9864: () => {},
foo9865: () => {},
foo9866: () => {},
foo9867: () => {},
foo9868: () => {},
foo9869: () => {},
foo9870: () => {},
foo9871: () => {},
foo9872: () => {},
foo9873: () => {},
foo9874: () => {},
foo9875: () => {},
foo9876: () => {},
foo9877: () => {},
foo9878: () => {},
foo9879: () => {},
foo9880: () => {},
foo9881: () => {},
foo9882: () => {},
foo9883: () => {},
foo9884: () => {},
foo9885: () => {},
foo9886: () => {},
foo9887: () => {},
foo9888: () => {},
foo9889: () => {},
foo9890: () => {},
foo9891: () => {},
foo9892: () => {},
foo9893: () => {},
foo9894: () => {},
foo9895: () => {},
foo9896: () => {},
foo9897: () => {},
foo9898: () => {},
foo9899: () => {},
foo9900: () => {},
foo9901: () => {},
foo9902: () => {},
foo9903: () => {},
foo9904: () => {},
foo9905: () => {},
foo9906: () => {},
foo9907: () => {},
foo9908: () => {},
foo9909: () => {},
foo9910: () => {},
foo9911: () => {},
foo9912: () => {},
foo9913: () => {},
foo9914: () => {},
foo9915: () => {},
foo9916: () => {},
foo9917: () => {},
foo9918: () => {},
foo9919: () => {},
foo9920: () => {},
foo9921: () => {},
foo9922: () => {},
foo9923: () => {},
foo9924: () => {},
foo9925: () => {},
foo9926: () => {},
foo9927: () => {},
foo9928: () => {},
foo9929: () => {},
foo9930: () => {},
foo9931: () => {},
foo9932: () => {},
foo9933: () => {},
foo9934: () => {},
foo9935: () => {},
foo9936: () => {},
foo9937: () => {},
foo9938: () => {},
foo9939: () => {},
foo9940: () => {},
foo9941: () => {},
foo9942: () => {},
foo9943: () => {},
foo9944: () => {},
foo9945: () => {},
foo9946: () => {},
foo9947: () => {},
foo9948: () => {},
foo9949: () => {},
foo9950: () => {},
foo9951: () => {},
foo9952: () => {},
foo9953: () => {},
foo9954: () => {},
foo9955: () => {},
foo9956: () => {},
foo9957: () => {},
foo9958: () => {},
foo9959: () => {},
foo9960: () => {},
foo9961: () => {},
foo9962: () => {},
foo9963: () => {},
foo9964: () => {},
foo9965: () => {},
foo9966: () => {},
foo9967: () => {},
foo9968: () => {},
foo9969: () => {},
foo9970: () => {},
foo9971: () => {},
foo9972: () => {},
foo9973: () => {},
foo9974: () => {},
foo9975: () => {},
foo9976: () => {},
foo9977: () => {},
foo9978: () => {},
foo9979: () => {},
foo9980: () => {},
foo9981: () => {},
foo9982: () => {},
foo9983: () => {},
foo9984: () => {},
foo9985: () => {},
foo9986: () => {},
foo9987: () => {},
foo9988: () => {},
foo9989: () => {},
foo9990: () => {},
foo9991: () => {},
foo9992: () => {},
foo9993: () => {},
foo9994: () => {},
foo9995: () => {},
foo9996: () => {},
foo9997: () => {},
foo9998: () => {},
foo9999: () => {},
foo10000: () => {},
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/eb67f85^!)  
[src/parsing/func-name-inferrer.h](https://cs.chromium.org/chromium/src/v8/src/parsing/func-name-inferrer.h?cl=eb67f85)  
[src/parsing/parser-base.h](https://cs.chromium.org/chromium/src/v8/src/parsing/parser-base.h?cl=eb67f85)  
[src/parsing/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parsing/parser.cc?cl=eb67f85)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=eb67f85)  
[test/mjsunit/regress/regress-4595.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4595.js?cl=eb67f85)  
  
---   

## **v8 issue:3641**  
   
**[Issue: Promise with custom |then| method is interpreted incorrectly](https://crbug.com/v8/3641)**  
**[Commit: Clean up promises and fix an edge case bug](https://chromium.googlesource.com/v8/v8/+/1deb89c)**  
  
Date(Commit): Fri Dec 04 18:56:17 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1488783002](https://codereview.chromium.org/1488783002)  
Regress: [mjsunit/regress/regress-3641.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3641.js)  
```javascript
var asyncAssertsExpected = 0;

function assertAsyncRan() { ++asyncAssertsExpected }

function assertLater(f, name) {
  assertFalse(f()); 
  ++asyncAssertsExpected;
  var iterations = 0;
  function runAssertion() {
    if (f()) {
      print(name, "succeeded");
      --asyncAssertsExpected;
    } else if (iterations++ < 10) {
      %EnqueueMicrotask(runAssertion);
    } else {
      %AbortJS(name + " FAILED!");
    }
  }
  %EnqueueMicrotask(runAssertion);
}

function assertAsyncDone(iteration) {
  var iteration = iteration || 0;
  %EnqueueMicrotask(function() {
    if (asyncAssertsExpected === 0)
      assertAsync(true, "all")
    else if (iteration > 10)  
      assertAsync(false, "all... " + asyncAssertsExpected)
    else
      assertAsyncDone(iteration + 1)
  });
}



var y;
var x = Promise.resolve();
x.then = () => { y = true; }
Promise.resolve().then(() => x);
assertLater(() => y === true, "y === true");

assertAsyncDone();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1deb89c^!)  
[src/js/promise.js](https://cs.chromium.org/chromium/src/v8/src/js/promise.js?cl=1deb89c)  
[test/mjsunit/es6/promises.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/promises.js?cl=1deb89c)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=1deb89c)  
[test/mjsunit/regress/regress-3641.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3641.js?cl=1deb89c)  
  
---   

## **v8 issue:4585**  
   
**[Issue: Pattern rewriter is unhappy about function literal](https://crbug.com/v8/4585)**  
**[Commit: [parser] treat MethodDefinitions in ObjectPatterns as SyntaxErrors](https://chromium.googlesource.com/v8/v8/+/5058f68)**  
  
Date(Commit): Tue Dec 01 20:33:11 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1488043002](https://codereview.chromium.org/1488043002)  
Regress: [mjsunit/es6/regress/regress-4585.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4585.js)  
```javascript
assertThrows(`for(const { method() {} } = this) {}`, SyntaxError);
assertThrows(`var { method() {} } = this;`, SyntaxError);
assertThrows(`for(const { *method() {} } = this) {}`, SyntaxError);
assertThrows(`var { *method() {} } = this;`, SyntaxError);
assertThrows(`for(var { get foo() {} } = this) {}`, SyntaxError);
assertThrows(`for(var { set foo() {} } = this) {}`, SyntaxError);


for (var { name = "" + { toString() { return "test" } } } in { a: 1}) break;
assertEquals(name, "test");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5058f68^!)  
[src/parsing/preparser.h](https://cs.chromium.org/chromium/src/v8/src/parsing/preparser.h?cl=5058f68)  
[test/cctest/test-parsing.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-parsing.cc?cl=5058f68)  
[test/mjsunit/harmony/regress/regress-4585.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-4585.js?cl=5058f68)  
  
---   

## **v8 issue:4534**  
   
**[Issue: mjsunit/accessor-map-sharing fails gc-stress with certain gc timings](https://crbug.com/v8/4534)**  
**[Commit: Fix accessor map transitions vs. Object.defineProperty](https://chromium.googlesource.com/v8/v8/+/b4d46bc)**  
  
Date(Commit): Tue Nov 03 14:41:53 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1413723011](https://codereview.chromium.org/1413723011)  
Regress: [mjsunit/regress/regress-4534.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4534.js)  
```javascript
var dp = Object.defineProperty;
function getter() { return 111; }
function setter(x) { print(222); }
obj1 = {};
dp(obj1, "golf", { get: getter, configurable: true });
dp(obj1, "golf", { set: setter, configurable: true });
gc();
obj2 = {};
dp(obj2, "golf", { get: getter, configurable: true });
dp(obj2, "golf", { set: setter, configurable: true });
assertTrue(%HaveSameMap(obj1, obj2));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b4d46bc^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=b4d46bc)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=b4d46bc)  
[test/mjsunit/regress/regress-4534.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4534.js?cl=b4d46bc)  
  
---   

## **v8 issue:4525**  
   
**[Issue: TurboFan super property calls not performed as method calls](https://crbug.com/v8/4525)**  
**[Commit: [turbofan] Fix super property calls to act as method calls.](https://chromium.googlesource.com/v8/v8/+/26f90c9)**  
  
Date(Commit): Thu Oct 29 17:19:39 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1419173004](https://codereview.chromium.org/1419173004)  
Regress: [mjsunit/regress/regress-4525.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4525.js)  
```javascript
function receiver() {
  return this;
}

function construct(f) {
  "use strict";
  class B {}
  class C extends B {
    bar() { return super.foo() }
  }
  B.prototype.foo = f;
  return new C();
}

function check(x, value, type) {
  assertEquals("object", typeof x);
  assertInstanceof(x, type);
  assertEquals(value, x);
}

var o = construct(receiver);
check(o.bar.call(123), Object(123), Number);
check(o.bar.call("a"), Object("a"), String);
check(o.bar.call(undefined), this, Object);
check(o.bar.call(null), this, Object);

%OptimizeFunctionOnNextCall(o.bar);
check(o.bar.call(456), Object(456), Number);
check(o.bar.call("b"), Object("b"), String);
check(o.bar.call(undefined), this, Object);
check(o.bar.call(null), this, Object);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/26f90c9^!)  
[src/compiler/ast-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.cc?cl=26f90c9)  
[test/mjsunit/regress/regress-4525.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4525.js?cl=26f90c9)  
  
---   

## **v8 issue:4395**  
   
**[Issue: assignments in default parameter initializers](https://crbug.com/v8/4395)**  
**[Commit: Fix eval calls in initializers of arrow function parameters](https://chromium.googlesource.com/v8/v8/+/0bdaa4d)**  
  
Date(Commit): Thu Oct 29 15:16:40 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1423613002](https://codereview.chromium.org/1423613002)  
Regress: [mjsunit/es6/regress/regress-4395-global-eval.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4395-global-eval.js), [mjsunit/es6/regress/regress-4395.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4395.js)  
```javascript
((x, y = eval('x')) => assertEquals(42, y))(42);
((x, {y = eval('x')}) => assertEquals(42, y))(42, {});  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0bdaa4d^!)  
[src/preparser.h](https://cs.chromium.org/chromium/src/v8/src/preparser.h?cl=0bdaa4d)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=0bdaa4d)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=0bdaa4d)  
[test/mjsunit/harmony/regress/regress-4395-global-eval.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-4395-global-eval.js?cl=0bdaa4d)  
[test/mjsunit/harmony/regress/regress-4395.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-4395.js?cl=0bdaa4d)  
  
---   

## **v8 issue:4522**  
   
**[Issue: super access in eval in arrow function fails](https://crbug.com/v8/4522)**  
**[Commit: Properly handle direct evals referencing super in arrow functions](https://chromium.googlesource.com/v8/v8/+/4c3c89c)**  
  
Date(Commit): Thu Oct 29 15:09:51 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1411093008](https://codereview.chromium.org/1411093008)  
Regress: [mjsunit/es6/regress/regress-4522.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4522.js)  
```javascript
"use strict";

class C {
  foo() {
    return 42;
  }
}

class D extends C {
  foo() {
    return (() => eval("super.foo()"))();
  }
}

assertEquals(42, new D().foo());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4c3c89c^!)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=4c3c89c)  
[test/mjsunit/es6/regress/regress-4522.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-4522.js?cl=4c3c89c)  
  
---   

## **v8 issue:4521**  
   
**[Issue: TurboFan environment borked for Call::PROPERTY_CALL to super](https://crbug.com/v8/4521)**  
**[Commit: [turbofan] Fix and rework deopt in call to super property.](https://chromium.googlesource.com/v8/v8/+/d3c4adf)**  
  
Date(Commit): Thu Oct 29 12:32:49 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1426893003](https://codereview.chromium.org/1426893003)  
Regress: [mjsunit/regress/regress-4521.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4521.js)  
```javascript
"use strict";

class B {
  foo() { return 23 }
}

class C extends B {
  bar() { return super[%DeoptimizeFunction(C.prototype.bar), "foo"]() }
}

assertEquals(23, new C().bar());
assertEquals(23, new C().bar());
%OptimizeFunctionOnNextCall(C.prototype.bar);
assertEquals(23, new C().bar());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d3c4adf^!)  
[src/compiler/ast-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.cc?cl=d3c4adf)  
[test/mjsunit/regress/regress-4521.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4521.js?cl=d3c4adf)  
  
---   

## **v8 issue:4450**  
   
**[Issue: Sliced string keys with Unicode characters are broken](https://crbug.com/v8/4450)**  
**[Commit: Make AstRawString deduplication encoding-agnostic.](https://chromium.googlesource.com/v8/v8/+/200315c)**  
  
Date(Commit): Wed Oct 28 11:28:55 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1411103006](https://codereview.chromium.org/1411103006)  
Regress: [mjsunit/regress/regress-4450.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4450.js)  
```javascript
({})['foobar\u2653'.slice(0, 6)] = null;
var x;
eval('x = function foobar() { return foobar };');
x();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/200315c^!)  
[src/ast-value-factory.cc](https://cs.chromium.org/chromium/src/v8/src/ast-value-factory.cc?cl=200315c)  
[test/mjsunit/regress/regress-4450.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4450.js?cl=200315c)  
  
---   

## **v8 issue:4515**  
   
**[Issue: TurboFan specialization of JSArray::length borked](https://crbug.com/v8/4515)**  
**[Commit: [turbofan] Fix representation type for JSArray::length.](https://chromium.googlesource.com/v8/v8/+/e121aab)**  
  
Date(Commit): Mon Oct 26 12:04:16 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1410393006](https://codereview.chromium.org/1410393006)  
Regress: [mjsunit/regress/regress-4515.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4515.js)  
```javascript
function f(array) {
  return array.length >>> 0;
}

var a = new Array();
a[4000000000] = "A";

assertEquals(4000000001, f(a));
assertEquals(4000000001, f(a));
%OptimizeFunctionOnNextCall(f);
assertEquals(4000000001, f(a));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e121aab^!)  
[src/compiler/js-native-context-specialization.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-native-context-specialization.cc?cl=e121aab)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=e121aab)  
[test/mjsunit/regress/regress-4515.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4515.js?cl=e121aab)  
  
---   

## **v8 issue:4470**  
   
**[Issue: Support native context specialization in TurboFan](https://crbug.com/v8/4470)**  
**[Commit: [turbofan] Add test case for stores to properties that are also present on prototype.](https://chromium.googlesource.com/v8/v8/+/2ab54f1)**  
  
Date(Commit): Fri Oct 23 12:09:54 2015  
Type: FeatureRequest  
Code Review: [https://codereview.chromium.org/1407233006](https://codereview.chromium.org/1407233006)  
Regress: [mjsunit/compiler/regress-4470-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-4470-1.js)  
```javascript
function Foo() {}
Foo.prototype.x = 0;
function foo(f) {
  f.x = 1;
}
foo(new Foo);
foo(new Foo);
%OptimizeFunctionOnNextCall(foo);
foo(new Foo);
assertEquals(Foo.prototype.x, 0);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2ab54f1^!)  
[test/mjsunit/compiler/regress-4470-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-4470-1.js?cl=2ab54f1)  
  
---   

## **v8 issue:4507**  
   
**[Issue: Large integer is treated as signed int and division gives wrong value](https://crbug.com/v8/4507)**  
**[Commit: [Crankshaft] Don't do HMathFloorOfDiv optimization for kUint32 values](https://chromium.googlesource.com/v8/v8/+/fdfab67)**  
  
Date(Commit): Thu Oct 22 13:22:09 2015  
Type: ----  
Code Review: [https://codereview.chromium.org/1409353005](https://codereview.chromium.org/1409353005)  
Regress: [mjsunit/regress/regress-4507.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4507.js)  
```javascript
function broken(value) {
  return Math.floor(value/65536);
}
function toUnsigned(i) {
  return i >>> 0;
}
function outer(i) {
  return broken(toUnsigned(i));
}
for (var i = 0; i < 5; i++) outer(0);
broken(0x80000000);  
%OptimizeFunctionOnNextCall(outer);
assertEquals(32768, outer(0x80000000));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fdfab67^!)  
[src/crankshaft/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/crankshaft/hydrogen-instructions.cc?cl=fdfab67)  
[test/mjsunit/regress/regress-4507.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4507.js?cl=fdfab67)  
  
---   

## **v8 issue:4493**  
   
**[Issue: Enable general purpose inlining in TurboFan](https://crbug.com/v8/4493)**  
**[Commit: [turbofan] Respect effect input when lowering JSToBoolean for string inputs.](https://chromium.googlesource.com/v8/v8/+/2abd768)**  
  
Date(Commit): Tue Oct 20 15:24:26 2015  
Type: FeatureRequest  
Code Review: [https://codereview.chromium.org/1418643002](https://codereview.chromium.org/1418643002)  
Regress: [mjsunit/regress/regress-4493-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4493-1.js)  
```javascript
function baz(x, f) { return x.length; };

function bar(x, y) {
  if (y) {}
  baz(x, function() { return x; });
};

function foo(x) { bar(x, ''); }
%OptimizeFunctionOnNextCall(foo);
foo(['a']);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2abd768^!)  
[src/compiler/js-typed-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-typed-lowering.cc?cl=2abd768)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=2abd768)  
[test/mjsunit/regress/regress-4493-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4493-1.js?cl=2abd768)  
  
---   

## **v8 issue:4495**  
   
**[Issue: mjsunit/es6/collections crashes flakily on win32](https://crbug.com/v8/4495)**  
**[Commit: VectorICs: Bugfix in KeyedStore dispatcher.](https://chromium.googlesource.com/v8/v8/+/2f2302f)**  
  
Date(Commit): Mon Oct 19 09:51:46 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1415533003](https://codereview.chromium.org/1415533003)  
Regress: [mjsunit/regress/regress-4495.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4495.js)  
```javascript
function foo(a, s) { a[s] = 35; }
var x = { bilbo: 3 };
var y = { frodo: 3, bilbo: 'hi' };
foo(x, "bilbo");
foo(x, "bilbo");

foo(y, "bilbo");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2f2302f^!)  
[src/ia32/code-stubs-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/code-stubs-ia32.cc?cl=2f2302f)  
[src/x87/code-stubs-x87.cc](https://cs.chromium.org/chromium/src/v8/src/x87/code-stubs-x87.cc?cl=2f2302f)  
[test/mjsunit/regress/regress-4495.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4495.js?cl=2f2302f)  
  
---   

## **v8 issue:4482**  
   
**[Issue: Function name binding for function expressions should retain legacy const behavior in sloppy mode](https://crbug.com/v8/4482)**  
**[Commit: Don't throw on assignment to function name binding in harmony sloppy mode](https://chromium.googlesource.com/v8/v8/+/18534df)**  
  
Date(Commit): Mon Oct 12 16:55:35 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1397513004](https://codereview.chromium.org/1397513004)  
Regress: [mjsunit/es6/regress/regress-4482.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4482.js)  
```javascript
assertEquals("function", (function f() { f = 42; return typeof f })());
assertEquals("function",
             (function* g() { g = 42; yield typeof g })().next().value);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/18534df^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=18534df)  
[test/mjsunit/harmony/regress/regress-4482.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-4482.js?cl=18534df)  
  
---   

## **v8 issue:4466**  
   
**[Issue: "'super' keyword unexpected" in nested arrows within method](https://crbug.com/v8/4466)**  
**[Commit: Use Scope::function_kind_ to distinguish arrow function scopes](https://chromium.googlesource.com/v8/v8/+/24565b8)**  
  
Date(Commit): Wed Oct 07 14:55:45 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1386253002](https://codereview.chromium.org/1386253002)  
Regress: [mjsunit/es6/regress/regress-4466.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4466.js)  
```javascript
"use strict";

class Parent {
  parentMethod(x, y) {
    assertEquals(42, x);
    assertEquals('hello world', y);
  }
}

class Child extends Parent {
  method(x) {
    let outer = (y) => {
      let inner = () => {
        super.parentMethod(x, y);
      };
      inner();
    };
    outer('hello world');
  }
}

new Child().method(42);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/24565b8^!)  
[src/debug/debug-scopes.cc](https://cs.chromium.org/chromium/src/v8/src/debug/debug-scopes.cc?cl=24565b8)  
[src/globals.h](https://cs.chromium.org/chromium/src/v8/src/globals.h?cl=24565b8)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=24565b8)  
[src/preparser.cc](https://cs.chromium.org/chromium/src/v8/src/preparser.cc?cl=24565b8)  
[src/preparser.h](https://cs.chromium.org/chromium/src/v8/src/preparser.h?cl=24565b8)  
[src/scopeinfo.cc](https://cs.chromium.org/chromium/src/v8/src/scopeinfo.cc?cl=24565b8)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=24565b8)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=24565b8)  
[test/cctest/test-parsing.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-parsing.cc?cl=24565b8)  
[test/mjsunit/es6/regress/regress-4466.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-4466.js?cl=24565b8)  
  
---   

## **v8 issue:4413**  
   
**[Issue: Call sequence is inconsistent and almost always wrong](https://crbug.com/v8/4413)**  
**[Commit: [builtins] Make sure argument count is always valid for C++ builtins.](https://chromium.googlesource.com/v8/v8/+/9c8262f)**  
  
Date(Commit): Tue Oct 06 08:23:51 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1391543002](https://codereview.chromium.org/1391543002)  
Regress: [mjsunit/compiler/regress-4413-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-4413-1.js)  
```javascript
var foo = (function(stdlib) {
  "use asm";
  var bar = stdlib.Symbol;
  function foo() { return bar("lala"); }
  return foo;
})(this);

%OptimizeFunctionOnNextCall(foo);
foo();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9c8262f^!)  
[src/arm/builtins-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/builtins-arm.cc?cl=9c8262f)  
[src/arm64/builtins-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/builtins-arm64.cc?cl=9c8262f)  
[src/ia32/builtins-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/builtins-ia32.cc?cl=9c8262f)  
[src/mips/builtins-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/builtins-mips.cc?cl=9c8262f)  
[src/mips64/builtins-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/builtins-mips64.cc?cl=9c8262f)  
[src/x64/builtins-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/builtins-x64.cc?cl=9c8262f)  
[test/mjsunit/compiler/regress-4413-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-4413-1.js?cl=9c8262f)  
  
---   

## **v8 issue:2529**  
   
**[Issue: Wrong completion value for try-finally](https://crbug.com/v8/2529)**  
**[Commit: Fix completion of try..finally.](https://chromium.googlesource.com/v8/v8/+/cf82eea)**  
  
Date(Commit): Thu Oct 01 13:59:56 2015  
Type: ----  
Code Review: [https://codereview.chromium.org/1375203004](https://codereview.chromium.org/1375203004)  
Regress: [mjsunit/regress/regress-2529.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2529.js)  
```javascript
function makeScript(s) {
  return 'while(true) { try { "try"; break } finally { "finally" }; ' + s + ' }';
}

var s1 = makeScript('');
var s2 = makeScript('y = "done"');
var s3 = makeScript('if (true) 2; else var x = 3;');
var s4 = makeScript('if (true) 2; else 3;');

assertEquals("try", eval(s1));
assertEquals("try", eval(s2));
assertEquals("try", eval(s3));
assertEquals("try", eval(s4));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cf82eea^!)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=cf82eea)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=cf82eea)  
[src/pattern-rewriter.cc](https://cs.chromium.org/chromium/src/v8/src/pattern-rewriter.cc?cl=cf82eea)  
[src/rewriter.cc](https://cs.chromium.org/chromium/src/v8/src/rewriter.cc?cl=cf82eea)  
[test/mjsunit/regress/regress-2529.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2529.js?cl=cf82eea)  
[test/webkit/eval-throw-return-expected.txt](https://cs.chromium.org/chromium/src/v8/test/webkit/eval-throw-return-expected.txt?cl=cf82eea)  
[test/webkit/eval-throw-return.js](https://cs.chromium.org/chromium/src/v8/test/webkit/eval-throw-return.js?cl=cf82eea)  
  
---   

## **v8 issue:4325**  
   
**[Issue: No Permission](https://crbug.com/v8/4325)**  
**[Commit: [field type tracking] Fix handling of cleared WeakCells](https://chromium.googlesource.com/v8/v8/+/afa60ff)**  
  
Date(Commit): Wed Sep 23 12:35:36 2015  
Type: None  
Code Review: [https://codereview.chromium.org/1361103002](https://codereview.chromium.org/1361103002)  
Regress: [mjsunit/regress/regress-4325.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4325.js)  
```javascript
function Inner() {
    this.p1 = 0;
      this.p2 = 3;
}

function Outer() {
    this.p3 = 0;
}

var i1 = new Inner();
var i2 = new Inner();
var o1 = new Outer();
o1.inner = i1;


i1.p1 = 0.5;

print(i2.p1);
gc();



i2.p2 = 0.5;

var o2 = new Outer();
o2.p3 = 0.5;
o2.inner = i2;


print(o1.p3);



function loader(o) {
    return o.inner.p2;
}
loader(o2);
loader(o2);
%OptimizeFunctionOnNextCall(loader);
assertEquals(0.5, loader(o2));
assertEquals(3, loader(o1));
gc();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/afa60ff^!)  
[src/accessors.cc](https://cs.chromium.org/chromium/src/v8/src/accessors.cc?cl=afa60ff)  
[src/lookup.cc](https://cs.chromium.org/chromium/src/v8/src/lookup.cc?cl=afa60ff)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=afa60ff)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=afa60ff)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=afa60ff)  
[test/mjsunit/regress/regress-4325.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4325.js?cl=afa60ff)  
  
---   

## **v8 issue:4173**  
   
**[Issue: No Permission](https://crbug.com/v8/4173)**  
**[Commit: Share literals arrays per <NativeContext, SharedFunctionInfo> pair.](https://chromium.googlesource.com/v8/v8/+/4dd45e1)**  
  
Date(Commit): Wed Sep 23 08:46:28 2015  
Type: None  
Code Review: [https://codereview.chromium.org/1353363002](https://codereview.chromium.org/1353363002)  
Regress: [mjsunit/regress/regress-4173.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4173.js)  
```javascript
function Migrator(o) {
  return o.foo;
}
function Loader(o) {
  return o[0];
}

var first_smi_array = [1];
var second_smi_array = [2];
var first_object_array = ["first"];
var second_object_array = ["string"];

assertTrue(%HasSmiElements(first_smi_array));
assertTrue(%HasSmiElements(second_smi_array));
assertTrue(%HasObjectElements(first_object_array));
assertTrue(%HasObjectElements(second_object_array));


first_smi_array.foo = 0;
second_smi_array.foo = 0;
first_object_array.foo = 0;
second_object_array.foo = 0;


for (var i = 0; i < 3; i++) Migrator(second_object_array);



first_smi_array.foo = 0.5;
print(second_smi_array.foo);



first_object_array.foo = 0.5;
%OptimizeFunctionOnNextCall(Migrator);
Migrator(second_object_array);




for (var i = 0; i < 3; i++) Loader(second_smi_array);
%OptimizeFunctionOnNextCall(Loader);
assertEquals("string", Loader(second_object_array));


assertTrue(%HasObjectElements(second_object_array));
assertFalse(%HasSmiElements(second_object_array));
assertTrue(%HaveSameMap(first_object_array, second_object_array));
assertFalse(%HaveSameMap(first_smi_array, second_object_array));

%ClearFunctionFeedback(Loader);
%ClearFunctionFeedback(Migrator);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4dd45e1^!)  
[src/code-stubs-hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/code-stubs-hydrogen.cc?cl=4dd45e1)  
[src/factory.cc](https://cs.chromium.org/chromium/src/v8/src/factory.cc?cl=4dd45e1)  
[src/heap/mark-compact.cc](https://cs.chromium.org/chromium/src/v8/src/heap/mark-compact.cc?cl=4dd45e1)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=4dd45e1)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=4dd45e1)  
[test/mjsunit/array-natives-elements.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/array-natives-elements.js?cl=4dd45e1)  
[test/mjsunit/regress/regress-4121.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4121.js?cl=4dd45e1)  
[test/mjsunit/regress/regress-4173.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4173.js?cl=4dd45e1)  
  
---   

## **v8 issue:4400**  
   
**[Issue: Default parameters segfault when lazily parsed](https://crbug.com/v8/4400)**  
**[Commit: Don't crash when preparsing destructured arguments](https://chromium.googlesource.com/v8/v8/+/7485da7)**  
  
Date(Commit): Tue Sep 22 17:43:43 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1350913005](https://codereview.chromium.org/1350913005)  
Regress: [mjsunit/es6/regress/regress-4400.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4400.js)  
```javascript
function borked(a = [], b = {}, c) {}
borked();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7485da7^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=7485da7)  
[test/mjsunit/harmony/regress/regress-4400.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-4400.js?cl=7485da7)  
  
---   

## **v8 issue:4417**  
   
**[Issue: Spread operator in Object literal results in empty array](https://crbug.com/v8/4417)**  
**[Commit: Fix spread operator in ArrayLiterals when nested in other literals](https://chromium.googlesource.com/v8/v8/+/f44efd6)**  
  
Date(Commit): Tue Sep 15 16:43:39 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1336123002](https://codereview.chromium.org/1336123002)  
Regress: [mjsunit/es6/regress/regress-4417.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4417.js)  
```javascript
var arr = [1, 2, 3];
assertEquals({arr: [1, 2, 3]}, {arr: [...arr]});
assertEquals([[1, 2, 3]], [[...arr]]);

assertEquals({arr: [6, 5, [1, 2, 3]]}, {arr: [6, 5, [...arr]]});
assertEquals([8, 7, [6, 5, [1, 2, 3]]], [8, 7, [6, 5, [...arr]]]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f44efd6^!)  
[src/ast.cc](https://cs.chromium.org/chromium/src/v8/src/ast.cc?cl=f44efd6)  
[test/mjsunit/harmony/regress/regress-4417.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-4417.js?cl=f44efd6)  
  
---   

## **v8 issue:4380**  
   
**[Issue: 'Array' is slower than 'new Array'](https://crbug.com/v8/4380)**  
**[Commit: Crankshaft: consolidated element loads always deopted on seeing the hole](https://chromium.googlesource.com/v8/v8/+/164f92d)**  
  
Date(Commit): Wed Sep 09 15:15:30 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1329793003](https://codereview.chromium.org/1329793003)  
Regress: [mjsunit/regress/regress-4380.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4380.js)  
```javascript
function bar(a) {
  var x = a[0];
  return x == undefined;
}


bar([, 2, 3]);
bar([, 'two', 'three']);
bar([, 2, 3]);

%OptimizeFunctionOnNextCall(bar);
bar([, 2, 3]);

assertOptimized(bar);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/164f92d^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=164f92d)  
[test/mjsunit/regress/regress-4380.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4380.js?cl=164f92d)  
  
---   

## **v8 issue:4374**  
   
**[Issue: Math.max inside asm.js produces the wrong result with  --turbo_inlining](https://crbug.com/v8/4374)**  
**[Commit: [turbofan] Make %Arguments composable with inlining.](https://chromium.googlesource.com/v8/v8/+/a504a18)**  
  
Date(Commit): Wed Sep 09 14:14:18 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1328363002](https://codereview.chromium.org/1328363002)  
Regress: [mjsunit/regress/regress-4374.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4374.js)  
```javascript
var f = (function() {
  var max = Math.max;
  return function f() { return max(0, -1); };
})();

assertEquals(0, f());
%OptimizeFunctionOnNextCall(f);
assertEquals(0, f());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a504a18^!)  
[src/compiler/linkage.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/linkage.cc?cl=a504a18)  
[src/runtime/runtime-classes.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-classes.cc?cl=a504a18)  
[src/runtime/runtime-function.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-function.cc?cl=a504a18)  
[src/runtime/runtime-scopes.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-scopes.cc?cl=a504a18)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=a504a18)  
[test/mjsunit/regress/regress-4374.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4374.js?cl=a504a18)  
  
---   

## **v8 issue:4266**  
   
**[Issue: X is not a function error messages with TurboFan.](https://crbug.com/v8/4266)**  
**[Commit: Use baseline code to compute message locations.](https://chromium.googlesource.com/v8/v8/+/819b40a)**  
  
Date(Commit): Tue Sep 08 14:14:59 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1331603002](https://codereview.chromium.org/1331603002)  
Regress: [mjsunit/regress/regress-4266.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4266.js)  
```javascript
function test() {
  try {
    [].foo();
  } catch (e) {
    return e.message;
  }
}

assertEquals("[].foo is not a function", test());
%OptimizeFunctionOnNextCall(test);
assertEquals("[].foo is not a function", test());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/819b40a^!)  
[src/ast-numbering.cc](https://cs.chromium.org/chromium/src/v8/src/ast-numbering.cc?cl=819b40a)  
[src/compiler/ast-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.cc?cl=819b40a)  
[src/compiler/linkage.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/linkage.cc?cl=819b40a)  
[src/full-codegen/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm/full-codegen-arm.cc?cl=819b40a)  
[src/full-codegen/arm64/full-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm64/full-codegen-arm64.cc?cl=819b40a)  
[src/full-codegen/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/ia32/full-codegen-ia32.cc?cl=819b40a)  
[src/full-codegen/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips/full-codegen-mips.cc?cl=819b40a)  
[src/full-codegen/mips64/full-codegen-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips64/full-codegen-mips64.cc?cl=819b40a)  
[src/full-codegen/ppc/full-codegen-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/ppc/full-codegen-ppc.cc?cl=819b40a)  
[src/full-codegen/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/x64/full-codegen-x64.cc?cl=819b40a)  
[src/full-codegen/x87/full-codegen-x87.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/x87/full-codegen-x87.cc?cl=819b40a)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=819b40a)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=819b40a)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=819b40a)  
[test/message/regress/regress-4266.js](https://cs.chromium.org/chromium/src/v8/test/message/regress/regress-4266.js?cl=819b40a)  
[test/message/regress/regress-4266.out](https://cs.chromium.org/chromium/src/v8/test/message/regress/regress-4266.out?cl=819b40a)  
[test/mjsunit/regress/regress-4266.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4266.js?cl=819b40a)  
  
---   

## **v8 issue:4399**  
   
**[Issue: Switch desugaring broke return value for eval](https://crbug.com/v8/4399)**  
**[Commit: Propagate switch statement value for 'eval'](https://chromium.googlesource.com/v8/v8/+/6773e29)**  
  
Date(Commit): Fri Aug 28 22:43:07 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1309303006](https://codereview.chromium.org/1309303006)  
Regress: [mjsunit/regress/regress-4399-01.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4399-01.js), [mjsunit/regress/regress-4399-02.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4399-02.js)  
```javascript
assertEquals("foo", eval('switch(1) { case 1: "foo" }'));
assertEquals("foo", eval('{ switch(1) { case 1: "foo" } }'));
assertEquals("foo", eval('switch(1) { case 1: { "foo" } }'));
assertEquals("foo", eval('switch(1) { case 1: "foo"; break; case 2: "bar"; break }'));
assertEquals("bar", eval('switch(2) { case 1: "foo"; break; case 2: "bar"; break }'));
assertEquals("bar", eval('switch(1) { case 1: "foo"; case 2: "bar"; break }'));



assertEquals(undefined, eval('switch (1) {}'));
assertEquals(undefined, eval('switch (1) { case 1: {} }'));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6773e29^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=6773e29)  
[test/cctest/test-ast-expression-visitor.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-ast-expression-visitor.cc?cl=6773e29)  
[test/mjsunit/regress/regress-4399.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4399.js?cl=6773e29)  
  
---   

## **v8 issue:3926**  
   
**[Issue: Let/const in CaseBlock](https://crbug.com/v8/3926)**  
**[Commit: Ensure hole checks take place in switch statement scopes](https://chromium.googlesource.com/v8/v8/+/d6fb6de)**  
  
Date(Commit): Fri Aug 28 18:49:57 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1312613003](https://codereview.chromium.org/1312613003)  
Regress: [mjsunit/regress/regress-3926.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3926.js)  
```javascript
function f(x) {
  var z;
  switch (x) {
    case 1:
      let y = 1;
    case 2:
      y = 2;
    case 3:
      z = y;
  }
  return z;
}
assertEquals(2, f(1));
assertThrows(function() {f(2)}, ReferenceError);
assertThrows(function() {f(3)}, ReferenceError);


assertThrows(function() {
  switch (1) {
    case 0:
      let x = 2;
    case 1:
    { 
      let y = 3;
      x;
    }
  }
}, ReferenceError);



function g(x) {
  switch (x) {
    case 1:
      let z;
    case 2:
      return function() { z = 1; }
    case 3:
      return function() { return z; }
    case 4:
      return eval("z = 1");
    case 5:
      return eval("z");
  }
}

assertEquals(undefined, g(1)());
assertThrows(g(2), ReferenceError);
assertThrows(g(3), ReferenceError);
assertThrows(function () {g(4)}, ReferenceError);
assertThrows(function () {g(5)}, ReferenceError);



function h(x) {
  'use strict'
  switch (x) {
    case 1:
      let z;
    case 2:
      return function() { z = 1; }
    case 3:
      return function() { return z; }
    case 4:
      return eval("z = 1");
    case 5:
      return eval("z");
  }
}

assertEquals(undefined, h(1)());
assertThrows(h(2), ReferenceError);
assertThrows(h(3), ReferenceError);
assertThrows(function () {h(4)}, ReferenceError);
assertThrows(function () {h(5)}, ReferenceError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d6fb6de^!)  
[src/full-codegen/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm/full-codegen-arm.cc?cl=d6fb6de)  
[src/full-codegen/arm64/full-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm64/full-codegen-arm64.cc?cl=d6fb6de)  
[src/full-codegen/full-codegen.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/full-codegen.cc?cl=d6fb6de)  
[src/full-codegen/full-codegen.h](https://cs.chromium.org/chromium/src/v8/src/full-codegen/full-codegen.h?cl=d6fb6de)  
[src/full-codegen/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/ia32/full-codegen-ia32.cc?cl=d6fb6de)  
[src/full-codegen/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips/full-codegen-mips.cc?cl=d6fb6de)  
[src/full-codegen/mips64/full-codegen-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips64/full-codegen-mips64.cc?cl=d6fb6de)  
[src/full-codegen/ppc/full-codegen-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/ppc/full-codegen-ppc.cc?cl=d6fb6de)  
[src/full-codegen/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/x64/full-codegen-x64.cc?cl=d6fb6de)  
[src/full-codegen/x87/full-codegen-x87.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/x87/full-codegen-x87.cc?cl=d6fb6de)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=d6fb6de)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=d6fb6de)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=d6fb6de)  
[test/mjsunit/regress/regress-3926.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3926.js?cl=d6fb6de)  
  
---   

## **v8 issue:4388**  
   
**[Issue: TurboFan AST graph builder TDZ check for let assignment is borked](https://crbug.com/v8/4388)**  
**[Commit: [turbofan] Fix broken dynamic TDZ check for let and const.](https://chromium.googlesource.com/v8/v8/+/cbd4f5a)**  
  
Date(Commit): Wed Aug 26 09:53:11 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1318693002](https://codereview.chromium.org/1318693002)  
Regress: [mjsunit/regress/regress-4388.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4388.js)  
```javascript
function test_hole_check_for_let(a) {
  'use strict';
  { switch (a) {
      case 0: let x;
      case 1: x = 9;
    }
  }
}
assertDoesNotThrow("test_hole_check_for_let(0)");
assertThrows("test_hole_check_for_let(1)", ReferenceError);
%OptimizeFunctionOnNextCall(test_hole_check_for_let)
assertThrows("test_hole_check_for_let(1)", ReferenceError);



function test_hole_check_for_const(a) {
  'use strict';
  { switch (a) {
      case 0: const x = 3;
      case 1: x = 2;
    }
  }
}
assertThrows("test_hole_check_for_const(0)", TypeError);
assertThrows("test_hole_check_for_const(1)", ReferenceError);
%OptimizeFunctionOnNextCall(test_hole_check_for_const)
assertThrows("test_hole_check_for_const(1)", ReferenceError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cbd4f5a^!)  
[src/compiler/ast-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.cc?cl=cbd4f5a)  
[test/mjsunit/regress/regress-4388.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4388.js?cl=cbd4f5a)  
  
---   

## **v8 issue:4389**  
   
**[Issue: Crankshaft optimization of inlined Math operators generates wrong code](https://crbug.com/v8/4389)**  
**[Commit: [crankshaft] DCE must not eliminate (observable) math operations.](https://chromium.googlesource.com/v8/v8/+/fef38c2)**  
  
Date(Commit): Tue Aug 25 06:24:55 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1307413003](https://codereview.chromium.org/1307413003)  
Regress: [mjsunit/compiler/regress-4389-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-4389-1.js), [mjsunit/compiler/regress-4389-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-4389-2.js), [mjsunit/compiler/regress-4389-3.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-4389-3.js), [mjsunit/compiler/regress-4389-4.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-4389-4.js), [mjsunit/compiler/regress-4389-5.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-4389-5.js), [mjsunit/compiler/regress-4389-6.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-4389-6.js)  
```javascript
function foo(x) { Math.fround(x); }
foo(1);
foo(2);
%OptimizeFunctionOnNextCall(foo);
assertThrows(function() { foo(Symbol()) }, TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fef38c2^!)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=fef38c2)  
[test/mjsunit/compiler/regress-4389-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-4389-1.js?cl=fef38c2)  
[test/mjsunit/compiler/regress-4389-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-4389-2.js?cl=fef38c2)  
[test/mjsunit/compiler/regress-4389-3.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-4389-3.js?cl=fef38c2)  
[test/mjsunit/compiler/regress-4389-4.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-4389-4.js?cl=fef38c2)  
[test/mjsunit/compiler/regress-4389-5.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-4389-5.js?cl=fef38c2)  
[test/mjsunit/compiler/regress-4389-6.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-4389-6.js?cl=fef38c2)  
  
---   

## **v8 issue:4376**  
   
**[Issue: Optimization for instanceof with known global is unsound](https://crbug.com/v8/4376)**  
**[Commit: Correctify instanceof and make it optimizable.](https://chromium.googlesource.com/v8/v8/+/5d875a5)**  
  
Date(Commit): Tue Aug 25 04:48:54 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1304633002](https://codereview.chromium.org/1304633002)  
Regress: [mjsunit/regress/regress-4376-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4376-1.js), [mjsunit/regress/regress-4376-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4376-2.js), [mjsunit/regress/regress-4376-3.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4376-3.js)  
```javascript
function Bar() { }
function Baz() { }
Baz.prototype = { __proto__: new Bar() }
var x = new Baz();
function foo(y) { return y instanceof Bar; }
assertTrue(foo(x));
Baz.prototype.__proto__ = null;
assertFalse(foo(x));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5d875a5^!)  
[src/arm/code-stubs-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/code-stubs-arm.cc?cl=5d875a5)  
[src/arm/interface-descriptors-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/interface-descriptors-arm.cc?cl=5d875a5)  
[src/arm/lithium-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-arm.cc?cl=5d875a5)  
[src/arm/lithium-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-arm.h?cl=5d875a5)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=5d875a5)  
[src/arm/lithium-codegen-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.h?cl=5d875a5)  
[src/arm/macro-assembler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.cc?cl=5d875a5)  
[src/arm/macro-assembler-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.h?cl=5d875a5)  
[src/arm64/code-stubs-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/code-stubs-arm64.cc?cl=5d875a5)  
[src/arm64/interface-descriptors-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/interface-descriptors-arm64.cc?cl=5d875a5)  
[src/arm64/lithium-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/lithium-arm64.cc?cl=5d875a5)  
[src/arm64/lithium-arm64.h](https://cs.chromium.org/chromium/src/v8/src/arm64/lithium-arm64.h?cl=5d875a5)  
[src/arm64/lithium-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/lithium-codegen-arm64.cc?cl=5d875a5)  
[src/arm64/lithium-codegen-arm64.h](https://cs.chromium.org/chromium/src/v8/src/arm64/lithium-codegen-arm64.h?cl=5d875a5)  
[src/arm64/macro-assembler-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/macro-assembler-arm64.cc?cl=5d875a5)  
[src/arm64/macro-assembler-arm64.h](https://cs.chromium.org/chromium/src/v8/src/arm64/macro-assembler-arm64.h?cl=5d875a5)  
[src/bailout-reason.h](https://cs.chromium.org/chromium/src/v8/src/bailout-reason.h?cl=5d875a5)  
[src/builtins.h](https://cs.chromium.org/chromium/src/v8/src/builtins.h?cl=5d875a5)  
[src/code-factory.cc](https://cs.chromium.org/chromium/src/v8/src/code-factory.cc?cl=5d875a5)  
[src/code-factory.h](https://cs.chromium.org/chromium/src/v8/src/code-factory.h?cl=5d875a5)  
[src/code-stubs.cc](https://cs.chromium.org/chromium/src/v8/src/code-stubs.cc?cl=5d875a5)  
[src/code-stubs.h](https://cs.chromium.org/chromium/src/v8/src/code-stubs.h?cl=5d875a5)  
[src/compiler/js-generic-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-generic-lowering.cc?cl=5d875a5)  
[src/full-codegen/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm/full-codegen-arm.cc?cl=5d875a5)  
[src/full-codegen/arm64/full-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/arm64/full-codegen-arm64.cc?cl=5d875a5)  
[src/full-codegen/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/ia32/full-codegen-ia32.cc?cl=5d875a5)  
[src/full-codegen/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips/full-codegen-mips.cc?cl=5d875a5)  
[src/full-codegen/mips64/full-codegen-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/mips64/full-codegen-mips64.cc?cl=5d875a5)  
[src/full-codegen/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/x64/full-codegen-x64.cc?cl=5d875a5)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=5d875a5)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=5d875a5)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=5d875a5)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=5d875a5)  
[src/ia32/code-stubs-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/code-stubs-ia32.cc?cl=5d875a5)  
[src/ia32/interface-descriptors-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/interface-descriptors-ia32.cc?cl=5d875a5)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=5d875a5)  
[src/ia32/lithium-codegen-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.h?cl=5d875a5)  
[src/ia32/lithium-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.cc?cl=5d875a5)  
[src/ia32/lithium-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.h?cl=5d875a5)  
[src/ia32/macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.cc?cl=5d875a5)  
[src/ia32/macro-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.h?cl=5d875a5)  
[src/interface-descriptors.cc](https://cs.chromium.org/chromium/src/v8/src/interface-descriptors.cc?cl=5d875a5)  
[src/interface-descriptors.h](https://cs.chromium.org/chromium/src/v8/src/interface-descriptors.h?cl=5d875a5)  
[src/mips/code-stubs-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/code-stubs-mips.cc?cl=5d875a5)  
[src/mips/interface-descriptors-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/interface-descriptors-mips.cc?cl=5d875a5)  
[src/mips/lithium-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/lithium-codegen-mips.cc?cl=5d875a5)  
[src/mips/lithium-codegen-mips.h](https://cs.chromium.org/chromium/src/v8/src/mips/lithium-codegen-mips.h?cl=5d875a5)  
[src/mips/lithium-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/lithium-mips.cc?cl=5d875a5)  
[src/mips/lithium-mips.h](https://cs.chromium.org/chromium/src/v8/src/mips/lithium-mips.h?cl=5d875a5)  
[src/mips/macro-assembler-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/macro-assembler-mips.cc?cl=5d875a5)  
[src/mips/macro-assembler-mips.h](https://cs.chromium.org/chromium/src/v8/src/mips/macro-assembler-mips.h?cl=5d875a5)  
[src/mips64/code-stubs-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/code-stubs-mips64.cc?cl=5d875a5)  
[src/mips64/interface-descriptors-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/interface-descriptors-mips64.cc?cl=5d875a5)  
[src/mips64/lithium-codegen-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/lithium-codegen-mips64.cc?cl=5d875a5)  
[src/mips64/lithium-codegen-mips64.h](https://cs.chromium.org/chromium/src/v8/src/mips64/lithium-codegen-mips64.h?cl=5d875a5)  
[src/mips64/lithium-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/lithium-mips64.cc?cl=5d875a5)  
[src/mips64/lithium-mips64.h](https://cs.chromium.org/chromium/src/v8/src/mips64/lithium-mips64.h?cl=5d875a5)  
[src/mips64/macro-assembler-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/macro-assembler-mips64.cc?cl=5d875a5)  
[src/mips64/macro-assembler-mips64.h](https://cs.chromium.org/chromium/src/v8/src/mips64/macro-assembler-mips64.h?cl=5d875a5)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=5d875a5)  
[src/runtime.js](https://cs.chromium.org/chromium/src/v8/src/runtime.js?cl=5d875a5)  
[src/runtime/runtime-object.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-object.cc?cl=5d875a5)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=5d875a5)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=5d875a5)  
[src/x64/code-stubs-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/code-stubs-x64.cc?cl=5d875a5)  
[src/x64/interface-descriptors-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/interface-descriptors-x64.cc?cl=5d875a5)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=5d875a5)  
[src/x64/lithium-codegen-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.h?cl=5d875a5)  
[src/x64/lithium-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.cc?cl=5d875a5)  
[src/x64/lithium-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.h?cl=5d875a5)  
[src/x64/macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.cc?cl=5d875a5)  
[src/x64/macro-assembler-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.h?cl=5d875a5)  
[test/mjsunit/regress/regress-4376-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4376-1.js?cl=5d875a5)  
[test/mjsunit/regress/regress-4376-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4376-2.js?cl=5d875a5)  
[test/mjsunit/regress/regress-4376-3.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4376-3.js?cl=5d875a5)  
[test/webkit/fast/js/object-prototype-properties-expected.txt](https://cs.chromium.org/chromium/src/v8/test/webkit/fast/js/object-prototype-properties-expected.txt?cl=5d875a5)  
  
---   

## **v8 issue:4377**  
   
**[Issue: Switch should introduce a scope](https://crbug.com/v8/4377)**  
**[Commit: Add a separate scope for switch](https://chromium.googlesource.com/v8/v8/+/9edbc1f)**  
  
Date(Commit): Fri Aug 21 23:54:36 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1293283002](https://codereview.chromium.org/1293283002)  
Regress: [mjsunit/regress/regress-4377.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4377.js)  
```javascript
'use strict';

switch (1) { case 1: let x = 2; }

assertThrows(function() { return x; }, ReferenceError);

{
  let result;
  let x = 1;
  switch (x) {
    case 1:
      let x = 2;
      result = x;
      break;
    default:
      result = 0;
      break;
  }
  assertEquals(1, x);
  assertEquals(2, result);
}

{
  let result;
  let x = 1;
  switch (eval('x')) {
    case 1:
      let x = 2;
      result = x;
      break;
    default:
      result = 0;
      break;
  }
  assertEquals(1, x);
  assertEquals(2, result);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9edbc1f^!)  
[src/ast-value-factory.h](https://cs.chromium.org/chromium/src/v8/src/ast-value-factory.h?cl=9edbc1f)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=9edbc1f)  
[src/parser.h](https://cs.chromium.org/chromium/src/v8/src/parser.h?cl=9edbc1f)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=9edbc1f)  
[test/mjsunit/regress/regress-4377.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4377.js?cl=9edbc1f)  
[test/mjsunit/switch.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/switch.js?cl=9edbc1f)  
  
---   

## **v8 issue:4211**  
   
**[Issue: Wrong precedence for arrow function without parameters](https://crbug.com/v8/4211)**  
**[Commit: Parse arrow functions at proper precedence level](https://chromium.googlesource.com/v8/v8/+/9271b0c)**  
  
Date(Commit): Fri Aug 21 11:33:42 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1286383005](https://codereview.chromium.org/1286383005)  
Regress: [mjsunit/es6/regress/regress-4211.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4211.js)  
```javascript
assertThrows("()=>{}()", SyntaxError);
assertThrows("x=>{}()", SyntaxError);
assertThrows("(...x)=>{}()", SyntaxError);
assertThrows("(x)=>{}()", SyntaxError);
assertThrows("(x,y)=>{}()", SyntaxError);
assertThrows("(x,y,...z)=>{}()", SyntaxError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9271b0c^!)  
[src/ast-literal-reindexer.cc](https://cs.chromium.org/chromium/src/v8/src/ast-literal-reindexer.cc?cl=9271b0c)  
[src/ast-numbering.cc](https://cs.chromium.org/chromium/src/v8/src/ast-numbering.cc?cl=9271b0c)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=9271b0c)  
[src/compiler/ast-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.cc?cl=9271b0c)  
[src/compiler/ast-loop-assignment-analyzer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-loop-assignment-analyzer.cc?cl=9271b0c)  
[src/full-codegen/full-codegen.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen/full-codegen.cc?cl=9271b0c)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=9271b0c)  
[src/interpreter/bytecode-generator.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter/bytecode-generator.cc?cl=9271b0c)  
[src/messages.h](https://cs.chromium.org/chromium/src/v8/src/messages.h?cl=9271b0c)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=9271b0c)  
[src/pattern-rewriter.cc](https://cs.chromium.org/chromium/src/v8/src/pattern-rewriter.cc?cl=9271b0c)  
[src/preparser.h](https://cs.chromium.org/chromium/src/v8/src/preparser.h?cl=9271b0c)  
[src/prettyprinter.cc](https://cs.chromium.org/chromium/src/v8/src/prettyprinter.cc?cl=9271b0c)  
[src/typing.cc](https://cs.chromium.org/chromium/src/v8/src/typing.cc?cl=9271b0c)  
[test/message/arrow-missing.out](https://cs.chromium.org/chromium/src/v8/test/message/arrow-missing.out?cl=9271b0c)  
[test/mjsunit/harmony/regress/regress-4211.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-4211.js?cl=9271b0c)  
  
---   

## **v8 issue:4298**  
   
**[Issue: Invalid result of the spread operator](https://crbug.com/v8/4298)**  
**[Commit: Fix spread array inside array literal](https://chromium.googlesource.com/v8/v8/+/24e9828)**  
  
Date(Commit): Wed Jul 15 15:16:13 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1225223004](https://codereview.chromium.org/1225223004)  
Regress: [mjsunit/es6/regress/regress-4298.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4298.js)  
```javascript
var arr = [1, 2, ...[3]];
assertEquals([1, 2, 3], arr);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/24e9828^!)  
[src/ast.cc](https://cs.chromium.org/chromium/src/v8/src/ast.cc?cl=24e9828)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=24e9828)  
[src/preparser.h](https://cs.chromium.org/chromium/src/v8/src/preparser.h?cl=24e9828)  
[test/mjsunit/harmony/regress/regress-4298.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-4298.js?cl=24e9828)  
  
---   

## **v8 issue:4296**  
   
**[Issue: Element access broken in ICs (probably also optimizing compilers) when string wrappers are involved.](https://crbug.com/v8/4296)**  
**[Commit: Fix keyed element access wrt string wrappers](https://chromium.googlesource.com/v8/v8/+/01f40e6)**  
  
Date(Commit): Mon Jul 13 15:39:07 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1228063004](https://codereview.chromium.org/1228063004)  
Regress: [mjsunit/regress/regress-4296.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4296.js)  
```javascript
(function () {
  var o = new String("ab");
  function store(o, i, v) { o[i] = v; }
  function load(o, i) { return o[i]; }

  
  store(o, 2, 10);
  load(o, 2);

  store(o, 0, 100);
  assertEquals("a", load(o, 0));
})();

(function () {
  var o = {__proto__: new String("ab")};
  function store(o, i, v) { o[i] = v; }
  function load(o, i) { return o[i]; }

  
  store(o, 2, 10);
  load(o, 2);

  store(o, 0, 100);
  assertEquals("a", load(o, 0));
})();

(function () {
  "use strict";
  var o = {__proto__: {}};
  function store(o, i, v) { o[i] = v; }

  
  store(o, 0, 100);
  o.__proto__.__proto__ = new String("bla");
  assertThrows(function () { store(o, 1, 100) });
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/01f40e6^!)  
[src/arm/macro-assembler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.cc?cl=01f40e6)  
[src/arm64/macro-assembler-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/macro-assembler-arm64.cc?cl=01f40e6)  
[src/ia32/macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.cc?cl=01f40e6)  
[src/ic/arm/ic-arm.cc](https://cs.chromium.org/chromium/src/v8/src/ic/arm/ic-arm.cc?cl=01f40e6)  
[src/ic/arm64/ic-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/ic/arm64/ic-arm64.cc?cl=01f40e6)  
[src/ic/ia32/ic-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ic/ia32/ic-ia32.cc?cl=01f40e6)  
[src/ic/mips/ic-mips.cc](https://cs.chromium.org/chromium/src/v8/src/ic/mips/ic-mips.cc?cl=01f40e6)  
[src/ic/x64/ic-x64.cc](https://cs.chromium.org/chromium/src/v8/src/ic/x64/ic-x64.cc?cl=01f40e6)  
[src/mips/macro-assembler-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/macro-assembler-mips.cc?cl=01f40e6)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=01f40e6)  
[src/x64/macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.cc?cl=01f40e6)  
[test/mjsunit/regress/regress-4296.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4296.js?cl=01f40e6)  
  
---   

## **v8 issue:4279**  
   
**[Issue: Check failed: 0 == result in v8::base::DestroyNativeHandle](https://crbug.com/v8/4279)**  
**[Commit: d8 workers: fix race on quit() with context_mutex_](https://chromium.googlesource.com/v8/v8/+/d42e81d)**  
  
Date(Commit): Thu Jul 09 19:30:29 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1231473002](https://codereview.chromium.org/1231473002)  
Regress: [mjsunit/regress/regress-4279.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4279.js)  
```javascript
if (this.Worker && this.quit) {
  try {
      new Function(new Worker("55"), {type: 'string'});
  } catch(err) {}

  quit();
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d42e81d^!)  
[src/d8.cc](https://cs.chromium.org/chromium/src/v8/src/d8.cc?cl=d42e81d)  
[test/mjsunit/regress/regress-4279.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4279.js?cl=d42e81d)  
  
---   

## **v8 issue:4271**  
   
**[Issue: Fatal error in v8::Object::GetInternalField](https://crbug.com/v8/4271)**  
**[Commit: [d8] bounds-check before getting Shell::Worker internal field](https://chromium.googlesource.com/v8/v8/+/43ce9c6)**  
  
Date(Commit): Tue Jul 07 21:06:19 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1214053004](https://codereview.chromium.org/1214053004)  
Regress: [mjsunit/regress/regress-4271.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4271.js)  
```javascript
if (this.Worker) {
  
  assertThrows(function() {
    Worker.prototype.terminate();
  });

  assertThrows(function() {
    Worker.prototype.getMessage();
  });

  assertThrows(function() {
    Worker.prototype.postMessage({});
  });

  
  var worker = new Worker('', {type: 'string'});
  worker.getMessage();
  worker.postMessage({});
  worker.terminate();
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/43ce9c6^!)  
[src/d8.cc](https://cs.chromium.org/chromium/src/v8/src/d8.cc?cl=43ce9c6)  
[test/mjsunit/regress/regress-4271.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4271.js?cl=43ce9c6)  
  
---   

## **v8 issue:4255**  
   
**[Issue: Let variables are inconsistently allocated, causing crash on OSR.](https://crbug.com/v8/4255)**  
**[Commit: Parse eagerly inside block scopes.](https://chromium.googlesource.com/v8/v8/+/972beef)**  
  
Date(Commit): Mon Jun 29 16:16:21 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1216013002](https://codereview.chromium.org/1216013002)  
Regress: [mjsunit/regress/regress-4255-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4255-1.js), [mjsunit/regress/regress-4255-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4255-2.js), [mjsunit/regress/regress-4255-3.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4255-3.js), [mjsunit/regress/regress-4255-4.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4255-4.js)  
```javascript
'use strict';
{
  let x = function() {};
  
  for (var i = 0; i < 1000000; i++);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/972beef^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=972beef)  
[src/preparser.h](https://cs.chromium.org/chromium/src/v8/src/preparser.h?cl=972beef)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=972beef)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=972beef)  
[test/mjsunit/regress/regress-4255-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4255-1.js?cl=972beef)  
[test/mjsunit/regress/regress-4255-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4255-2.js?cl=972beef)  
[test/mjsunit/regress/regress-4255-3.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4255-3.js?cl=972beef)  
[test/mjsunit/regress/regress-4255-4.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4255-4.js?cl=972beef)  
  
---   

## **v8 issue:4214**  
   
**[Issue: Wrong this-value when deleting property named "eval" in with-statement context](https://crbug.com/v8/4214)**  
**[Commit: Fix receiver when calling eval() bound by with scope](https://chromium.googlesource.com/v8/v8/+/3c5f0db)**  
  
Date(Commit): Wed Jun 24 16:47:58 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1202963005](https://codereview.chromium.org/1202963005)  
Regress: [mjsunit/regress/regress-4214.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4214.js)  
```javascript
var o = { eval: function() { return this; } }
with (o) assertSame(o, eval());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3c5f0db^!)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=3c5f0db)  
[src/arm64/full-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/full-codegen-arm64.cc?cl=3c5f0db)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=3c5f0db)  
[src/compiler/ast-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.cc?cl=3c5f0db)  
[src/full-codegen.h](https://cs.chromium.org/chromium/src/v8/src/full-codegen.h?cl=3c5f0db)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=3c5f0db)  
[src/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/full-codegen-mips.cc?cl=3c5f0db)  
[src/mips64/full-codegen-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/full-codegen-mips64.cc?cl=3c5f0db)  
[src/ppc/full-codegen-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/ppc/full-codegen-ppc.cc?cl=3c5f0db)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=3c5f0db)  
[src/x87/full-codegen-x87.cc](https://cs.chromium.org/chromium/src/v8/src/x87/full-codegen-x87.cc?cl=3c5f0db)  
[test/mjsunit/regress/regress-4214.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4214.js?cl=3c5f0db)  
  
---   

## **v8 issue:4207**  
   
**[Issue: 0/0 is truthy in some cases](https://crbug.com/v8/4207)**  
**[Commit: [turbofan] NaN is never truish.](https://chromium.googlesource.com/v8/v8/+/78e9a2d)**  
  
Date(Commit): Tue Jun 23 12:24:54 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1198993009](https://codereview.chromium.org/1198993009)  
Regress: [mjsunit/compiler/regress-4207.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-4207.js)  
```javascript
function bar() { return 0/0 && 1; }
assertEquals(NaN, bar());
%OptimizeFunctionOnNextCall(bar);
assertEquals(NaN, bar());

function foo() { return 0/0 || 1; }
assertEquals(1, foo());
%OptimizeFunctionOnNextCall(foo);
assertEquals(1, foo());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/78e9a2d^!)  
[src/compiler/ast-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.cc?cl=78e9a2d)  
[test/mjsunit/compiler/regress-4207.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-4207.js?cl=78e9a2d)  
  
---   

## **v8 issue:4206**  
   
**[Issue: TurboFan's Float(32|64)(Min|Max) operations are not consistent between architectures.](https://crbug.com/v8/4206)**  
**[Commit: [arm64][turbofan] Fix implementation of Float64Min.](https://chromium.googlesource.com/v8/v8/+/d783b76)**  
  
Date(Commit): Tue Jun 23 11:58:58 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1200123004](https://codereview.chromium.org/1200123004)  
Regress: [mjsunit/compiler/regress-4206.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-4206.js)  
```javascript
function Module(stdlib) {
  "use asm";
  function TernaryMin(a, b) {
    a=+(a);
    b=+(b);
    return (+((a < b) ? a : b));
  }
  function TernaryMax(a, b) {
    a=+(a);
    b=+(b);
    return (+((b < a) ? a : b));
  }
  return { TernaryMin: TernaryMin,
           TernaryMax: TernaryMax };
}
var min = Module(this).TernaryMin;
var max = Module(this).TernaryMax;

assertEquals(0.0, min(-0.0, 0.0));
assertEquals(0.0, min(NaN, 0.0));
assertEquals(-0.0, min(NaN, -0.0));
assertEquals(-0.0, max(0.0, -0.0));
assertEquals(0.0, max(NaN, 0.0));
assertEquals(-0.0, max(NaN, -0.0));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d783b76^!)  
[src/compiler/arm64/instruction-selector-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/arm64/instruction-selector-arm64.cc?cl=d783b76)  
[src/compiler/machine-operator.h](https://cs.chromium.org/chromium/src/v8/src/compiler/machine-operator.h?cl=d783b76)  
[test/mjsunit/compiler/regress-4206.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-4206.js?cl=d783b76)  
  
---   

## **v8 issue:4121**  
   
**[Issue: Regression: Memory leak since at least 3.26.33](https://crbug.com/v8/4121)**  
**[Commit: Map::TryUpdate() must be in sync with Map::Update().](https://chromium.googlesource.com/v8/v8/+/4cc4bc5)**  
  
Date(Commit): Fri Jun 12 12:36:40 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1181163002](https://codereview.chromium.org/1181163002)  
Regress: [mjsunit/regress/regress-4121.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4121.js)  
```javascript
function literals_sharing_test(warmup, optimize) {
  function closure() {
    
    assertTrue(%HasSmiElements([]));
    assertTrue(%HasSmiElements([1]));
    assertTrue(%HasSmiElements([1,2]));
    assertTrue(%HasDoubleElements([1.1]));
    assertTrue(%HasDoubleElements([1.1,2]));

    var a = [1, 2, 3];
    if (warmup) {
      
      assertTrue(%HasSmiElements(a));
      assertEquals(4, a.push(1.3));
    }
    
    
    assertTrue(%HasDoubleElements(a));
  };
  if (optimize) %OptimizeFunctionOnNextCall(closure);
  closure();
}


function test() {
  var warmup = true;
  for (var i = 0; i < 3; i++) {
    print("iter: " + i + ", warmup: "+ warmup);
    literals_sharing_test(warmup, false);
    warmup = false;
  }
  print("iter: " + i + ", opt: true");
  literals_sharing_test(warmup, true);
}

test();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4cc4bc5^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=4cc4bc5)  
[test/cctest/test-migrations.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-migrations.cc?cl=4cc4bc5)  
[test/mjsunit/regress/regress-4121.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4121.js?cl=4cc4bc5)  
  
---   

## **v8 issue:4169**  
   
**[Issue: Pushing new contexts in top-level code is borked](https://crbug.com/v8/4169)**  
**[Commit: [turbofan] Fix context chain extension for top-level code.](https://chromium.googlesource.com/v8/v8/+/eb0593e)**  
  
Date(Commit): Wed Jun 10 06:03:14 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1172013002](https://codereview.chromium.org/1172013002)  
Regress: [mjsunit/regress/regress-4169.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4169.js)  
```javascript
with ({}) {
  eval("var x = 23");
  assertEquals(23, x);
}
assertEquals(23, x);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/eb0593e^!)  
[src/compiler/ast-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.cc?cl=eb0593e)  
[src/compiler/ast-graph-builder.h](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.h?cl=eb0593e)  
[test/mjsunit/regress/regress-4169.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4169.js?cl=eb0593e)  
  
---   

## **v8 issue:3718**  
   
**[Issue: CallSite.getTypeName() throws TypeError in strict mode](https://crbug.com/v8/3718)**  
**[Commit: Check for null and undefined when getting type name for stack trace.](https://chromium.googlesource.com/v8/v8/+/f2cce3c)**  
  
Date(Commit): Mon Jun 08 13:02:27 2015  
Type: ----  
Code Review: [https://codereview.chromium.org/1164933005](https://codereview.chromium.org/1164933005)  
Regress: [mjsunit/regress/regress-3718.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3718.js)  
```javascript
"use strict";

function getTypeName(receiver) {
  Error.prepareStackTrace = function(e, stack) { return stack; }
  var stack = (function() { return new Error().stack; }).call(receiver);
  Error.prepareStackTrace = undefined;
  return stack[0].getTypeName();
}

assertNull(getTypeName(undefined));
assertNull(getTypeName(null));
assertEquals("Number", getTypeName(1));
assertEquals("String", getTypeName(""));
assertEquals("Boolean", getTypeName(false));
assertEquals("Object", getTypeName({}));
assertEquals("Array", getTypeName([]));
assertEquals("Proxy", getTypeName(new Proxy({},{})));
assertEquals("Custom", getTypeName(new (function Custom(){})()));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f2cce3c^!)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=f2cce3c)  
[test/mjsunit/regress/regress-3718.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3718.js?cl=f2cce3c)  
  
---   

## **v8 issue:4160**  
   
**[Issue: Out of sync context/scope chains for arrow function calling eval](https://crbug.com/v8/4160)**  
**[Commit: Fix arrow functions requiring context without slots.](https://chromium.googlesource.com/v8/v8/+/68beef5)**  
  
Date(Commit): Wed Jun 03 11:32:31 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1146063006](https://codereview.chromium.org/1146063006)  
Regress: [mjsunit/es6/regress/regress-4160.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4160.js)  
```javascript
(function(x) {
  (function(x) {
    var boom = (() => eval(x));
    assertEquals(23, boom());
    assertEquals(23, boom());
    %OptimizeFunctionOnNextCall(boom);
    assertEquals(23, boom());
    assertEquals("23", x);
  })("23");
  assertEquals("42", x);
})("42");

(function(x) {
  (function(x) {
    var boom = (() => (eval("var x = 66"), x));
    assertEquals(66, boom());
    assertEquals(66, boom());
    %OptimizeFunctionOnNextCall(boom);
    assertEquals(66, boom());
    assertEquals("23", x);
  })("23");
  assertEquals("42", x);
})("42");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/68beef5^!)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=68beef5)  
[src/arm64/full-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/full-codegen-arm64.cc?cl=68beef5)  
[src/code-stubs.h](https://cs.chromium.org/chromium/src/v8/src/code-stubs.h?cl=68beef5)  
[src/compiler/ast-graph-builder.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/ast-graph-builder.cc?cl=68beef5)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=68beef5)  
[src/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/full-codegen-mips.cc?cl=68beef5)  
[src/mips64/full-codegen-mips64.cc](https://cs.chromium.org/chromium/src/v8/src/mips64/full-codegen-mips64.cc?cl=68beef5)  
[src/ppc/full-codegen-ppc.cc](https://cs.chromium.org/chromium/src/v8/src/ppc/full-codegen-ppc.cc?cl=68beef5)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=68beef5)  
[src/x87/full-codegen-x87.cc](https://cs.chromium.org/chromium/src/v8/src/x87/full-codegen-x87.cc?cl=68beef5)  
[test/mjsunit/harmony/regress/regress-4160.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-4160.js?cl=68beef5)  
  
---   

## **v8 issue:4097**  
   
**[Issue: Crash when assigning to 'super.foo' with receiver that is not an object](https://crbug.com/v8/4097)**  
**[Commit: Fix the behavior of 'super.foo' assignment when receiver is not an object.](https://chromium.googlesource.com/v8/v8/+/30b771a)**  
  
Date(Commit): Tue May 12 17:13:07 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1132203005](https://codereview.chromium.org/1132203005)  
Regress: [mjsunit/es6/regress/regress-4097.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4097.js)  
```javascript
(function StoreToSuper () {
  "use strict";
  class A {
    s() {
      super.bla = 10;
    }
  };

  let a = new A();
  (new A).s.call(a);
  assertEquals(10, a.bla);
  assertThrows(function() { (new A).s.call(undefined); }, TypeError);
  assertThrows(function() { (new A).s.call(42); }, TypeError);
  assertThrows(function() { (new A).s.call(null); }, TypeError);
  assertThrows(function() { (new A).s.call("abc"); }, TypeError);
})();


(function LoadFromSuper () {
  "use strict";
  class A {
    s() {
      return super.bla;
    }
  };

  let a = new A();
  assertSame(undefined, (new A).s.call(a));
  assertSame(undefined, (new A).s.call(undefined));
  assertSame(undefined, (new A).s.call(42));
  assertSame(undefined, (new A).s.call(null));
  assertSame(undefined, (new A).s.call("abc"));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/30b771a^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=30b771a)  
[test/mjsunit/es6/regress/regress-4097.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-4097.js?cl=30b771a)  
  
---   

## **v8 issue:4056**  
   
**[Issue: Bug in strict-mode scoping in arrow functions that call eval](https://crbug.com/v8/4056)**  
**[Commit: Function scopes only must have a context if they call sloppy eval](https://chromium.googlesource.com/v8/v8/+/d5fd581)**  
  
Date(Commit): Thu Apr 23 13:19:54 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1093183003](https://codereview.chromium.org/1093183003)  
Regress: [mjsunit/es6/regress/regress-4056.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-4056.js)  
```javascript
function strictFunctionArrowEval(s) {
  "use strict";
  return (()=>eval(s))();
};

assertEquals(strictFunctionArrowEval("42"), 42)  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d5fd581^!)  
[src/scopeinfo.cc](https://cs.chromium.org/chromium/src/v8/src/scopeinfo.cc?cl=d5fd581)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=d5fd581)  
[test/mjsunit/harmony/regress/regress-4056.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-4056.js?cl=d5fd581)  
  
---   

## **v8 issue:4027**  
   
**[Issue: mjsunit/es7/object-observe fails on arm64 and linux with custom snapshot](https://crbug.com/v8/4027)**  
**[Commit: Correctly handle clearing of deprecated field types.](https://chromium.googlesource.com/v8/v8/+/68a7773)**  
  
Date(Commit): Wed Apr 15 09:55:33 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1086063003](https://codereview.chromium.org/1086063003)  
Regress: [mjsunit/regress/regress-4027.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4027.js)  
```javascript
function Inner() {
  this.inner_name = "inner";
}

function Boom() {
  this.boom = "boom";
}

function Outer() {
  this.outer_name = "outer";
}

function SetInner(inner, value) {
  inner.prop = value;
}

function SetOuter(outer, value) {
  outer.inner = value;
}

var inner1 = new Inner();
var inner2 = new Inner();

SetInner(inner1, 10);
SetInner(inner2, 10);

var outer1 = new Outer();
var outer2 = new Outer();
var outer3 = new Outer();

SetOuter(outer1, inner1);
SetOuter(outer1, inner1);
SetOuter(outer1, inner1);

SetOuter(outer2, inner2);
SetOuter(outer2, inner2);
SetOuter(outer2, inner2);

SetOuter(outer3, inner2);
SetOuter(outer3, inner2);
SetOuter(outer3, inner2);


SetInner(inner2, 6.5);

outer1 = null;
inner1 = null;

gc();

var boom = new Boom();
SetOuter(outer2, boom);

gc();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/68a7773^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=68a7773)  
[test/mjsunit/regress/regress-4027.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4027.js?cl=68a7773)  
  
---   

## **v8 issue:4023**  
   
**[Issue: No Permission](https://crbug.com/v8/4023)**  
**[Commit: Do not inline store if field map was cleared.](https://chromium.googlesource.com/v8/v8/+/2f327a5)**  
  
Date(Commit): Mon Apr 13 09:43:52 2015  
Type: None  
Code Review: [https://codereview.chromium.org/1081033004](https://codereview.chromium.org/1081033004)  
Regress: [mjsunit/regress/regress-4023.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-4023.js)  
```javascript
function Inner() {
  this.property = "OK";
  this.prop2 = 1;
}

function Outer() {
  this.o = "u";
}
function KeepMapAlive(o) {
  return o.o;
}
function SetInner(o, i) {
  o.inner_field = i;
}
function Crash(o) {
  return o.inner_field.property;
}

var inner = new Inner();
var outer = new Outer();


SetInner(new Outer(), inner);
SetInner(outer, inner);




KeepMapAlive(outer);
KeepMapAlive(outer);
%OptimizeFunctionOnNextCall(KeepMapAlive, "concurrent");
KeepMapAlive(outer);


print(Crash(outer));
print(Crash(outer));
%OptimizeFunctionOnNextCall(Crash);
print(Crash(outer));




inner = undefined;
outer = undefined;
gc();






%OptimizeFunctionOnNextCall(SetInner);



var o2 = new Outer();
SetInner(o2, { invalid: 1.51, property: "OK" });



print(Crash(o2));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2f327a5^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=2f327a5)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=2f327a5)  
[src/objects-debug.cc](https://cs.chromium.org/chromium/src/v8/src/objects-debug.cc?cl=2f327a5)  
[test/mjsunit/regress/regress-4023.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-4023.js?cl=2f327a5)  
  
---   

## **v8 issue:3976**  
   
**[Issue: OOM crash caused by GC not keeping up with fragmentation](https://crbug.com/v8/3976)**  
**[Commit: Fix OOM bug 3976.](https://chromium.googlesource.com/v8/v8/+/4c80680)**  
  
Date(Commit): Tue Mar 24 15:02:28 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1024823002](https://codereview.chromium.org/1024823002)  
Regress: [mjsunit/regress/regress-3976.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3976.js)  
```javascript
table = [];

for (var i = 0; i < 32; i++) {
 table[i] = String.fromCharCode(i + 0x410);
}


var random = (function() {
  var seed = 10;
  return function() {
    seed = (seed * 1009) % 8831;
    return seed;
  };
})();


function key(length) {
  var s = "";
  for (var i = 0; i < length; i++) {
    s += table[random() % 32];
  }
  return '"' + s + '"';
}


function value() {
  return '[{' + '"field1" : ' + random() + ', "field2" : ' + random() + '}]';
}


function generate(n) {
  var s = '{';
  for (var i = 0; i < n; i++) {
     if (i > 0) s += ', ';
     s += key(random() % 10 + 7);
     s += ':';
     s += value();
  }
  s += '}';
  return s;
}


print("generating");

var str = generate(50000);

print("parsing "  + str.length);
JSON.parse(str);

print("done");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4c80680^!)  
[src/flag-definitions.h](https://cs.chromium.org/chromium/src/v8/src/flag-definitions.h?cl=4c80680)  
[src/heap/mark-compact.cc](https://cs.chromium.org/chromium/src/v8/src/heap/mark-compact.cc?cl=4c80680)  
[src/heap/spaces.cc](https://cs.chromium.org/chromium/src/v8/src/heap/spaces.cc?cl=4c80680)  
[src/heap/spaces.h](https://cs.chromium.org/chromium/src/v8/src/heap/spaces.h?cl=4c80680)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=4c80680)  
[test/mjsunit/regress/regress-3976.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3976.js?cl=4c80680)  
  
---   

## **v8 issue:3985**  
   
**[Issue: Arguments object materialization for escape analyzed objects can return wrong arguments](https://crbug.com/v8/3985)**  
**[Commit: Test for wrong arguments object materialization.](https://chromium.googlesource.com/v8/v8/+/0f94c96)**  
  
Date(Commit): Tue Mar 24 13:20:21 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/1032623003](https://codereview.chromium.org/1032623003)  
Regress: [mjsunit/regress/regress-3985.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3985.js)  
```javascript
var shouldThrow = false;

function h() {
  try {  
  } catch(e) { }
  var res = g.arguments[0].x;
  if (shouldThrow) {
    throw res;
  }
  return res;
}

function g(o) { h(); }

function f1() {
  var o = { x : 1 };
  g(o);
  return o.x;
}

function f2() {
  var o = { x : 2 };
  g(o);
  return o.x;
}

f1();
f2();
f1();
f2();
%OptimizeFunctionOnNextCall(f1);
%OptimizeFunctionOnNextCall(f2);
shouldThrow = true;
try { f1(); } catch(e) {
  assertEquals(e, 1);
}
try { f2(); } catch(e) {
  assertEquals(e, 2);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0f94c96^!)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=0f94c96)  
[test/mjsunit/regress/regress-3985.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3985.js?cl=0f94c96)  
  
---   

## **v8 issue:3969**  
   
**[Issue: No Permission](https://crbug.com/v8/3969)**  
**[Commit: Add regression test for dependency to field type tracked weak map.](https://chromium.googlesource.com/v8/v8/+/f289311)**  
  
Date(Commit): Thu Mar 19 08:51:29 2015  
Type: None  
Code Review: [https://codereview.chromium.org/1019223002](https://codereview.chromium.org/1019223002)  
Regress: [mjsunit/regress/regress-3969.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3969.js)  
```javascript
function Inner() {
  this.property = "OK";
  this.o2 = 1;
}

function Outer(inner) {
  this.inner = inner;
}

var inner = new Inner();
var outer = new Outer(inner);

Outer.prototype.boom = function() {
  return this.inner.property;
}

assertEquals("OK", outer.boom());
assertEquals("OK", outer.boom());
%OptimizeFunctionOnNextCall(Outer.prototype.boom);
assertEquals("OK", outer.boom());

inner = undefined;
%SetAllocationTimeout(0 /*interval*/, 2 /*timeout*/);


delete outer.inner;

outer = new Outer({field: 1.51, property: "OK"});

assertEquals("OK", outer.boom());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f289311^!)  
[test/mjsunit/regress/regress-3969.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3969.js?cl=f289311)  
  
---   

## **v8 issue:3938**  
   
**[Issue: const bindings in for loop: invalid assignment in next expression](https://crbug.com/v8/3938)**  
**[Commit: [es6] Fix for-const loops](https://chromium.googlesource.com/v8/v8/+/054989b)**  
  
Date(Commit): Tue Mar 03 18:34:40 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/977543002](https://codereview.chromium.org/977543002)  
Regress: [mjsunit/es6/regress/regress-3938.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-3938.js)  
```javascript
'use strict';

assertThrows(function() { for (const i = 0; ; i++) {} }, TypeError);
assertThrows("'use strict'; for (const i = 0; ; i++) {}", TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/054989b^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=054989b)  
[src/parser.h](https://cs.chromium.org/chromium/src/v8/src/parser.h?cl=054989b)  
[test/mjsunit/es6/regress/regress-3938.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-3938.js?cl=054989b)  
[test/mjsunit/harmony/block-const-assign.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/block-const-assign.js?cl=054989b)  
  
---   

## **v8 issue:3902**  
   
**[Issue: Unsafe %GeneratorFuntion% intrinsic cannot be denied](https://crbug.com/v8/3902)**  
**[Commit: Make generator constructors configurable](https://chromium.googlesource.com/v8/v8/+/4c082b5)**  
  
Date(Commit): Thu Feb 19 11:30:33 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/939953002](https://codereview.chromium.org/939953002)  
Regress: [mjsunit/es6/regress/regress-3902.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-3902.js)  
```javascript
function* g() {}
assertTrue(Object.getOwnPropertyDescriptor(g.__proto__, "constructor").configurable);
assertTrue(Object.getOwnPropertyDescriptor(g.prototype.__proto__, "constructor").configurable);

function FakeGeneratorFunctionConstructor() {}
Object.defineProperty(g.__proto__, "constructor", {value: FakeGeneratorFunctionConstructor});
assertSame(g.__proto__.constructor, FakeGeneratorFunctionConstructor);

function FakeGeneratorObjectConstructor() {}
Object.defineProperty(g.prototype.__proto__, "constructor", {value: FakeGeneratorObjectConstructor});
assertSame(g.prototype.__proto__.constructor, FakeGeneratorObjectConstructor);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4c082b5^!)  
[src/generator.js](https://cs.chromium.org/chromium/src/v8/src/generator.js?cl=4c082b5)  
[test/mjsunit/es6/regress/regress-3902.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es6/regress/regress-3902.js?cl=4c082b5)  
  
---   

## **v8 issue:3884**  
   
**[Issue: turbofan seems to have incorrect pointer map populated for regress-builtinbust-7](https://crbug.com/v8/3884)**  
**[Commit: Fix representation for CompareIC in JSGenericLowering.](https://chromium.googlesource.com/v8/v8/+/22dd6dc)**  
  
Date(Commit): Tue Feb 17 16:37:36 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/933913002](https://codereview.chromium.org/933913002)  
Regress: [mjsunit/regress/regress-3884.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3884.js)  
```javascript
function f(x) {
  
  if (x === 'some_other_string_1' || x === 'some_string') {
    gc();
  }
  if (x === 'some_other_string_2' || x === 'some_string') {
    gc();
  }
  
  if (x === 1.7 || x === 1.4) {
    gc();
  }
  if (x === 1.9 || x === 1.4) {
    gc();
  }
}

%OptimizeFunctionOnNextCall(f);

f('some_other_string_1');
f(1.7);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/22dd6dc^!)  
[src/compiler/js-generic-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-generic-lowering.cc?cl=22dd6dc)  
[src/compiler/linkage.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/linkage.cc?cl=22dd6dc)  
[src/runtime/runtime-object.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-object.cc?cl=22dd6dc)  
[src/runtime/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime.h?cl=22dd6dc)  
[test/cctest/compiler/test-run-jscalls.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/compiler/test-run-jscalls.cc?cl=22dd6dc)  
[test/cctest/compiler/test-run-jsops.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/compiler/test-run-jsops.cc?cl=22dd6dc)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=22dd6dc)  
[test/mjsunit/regress/regress-3884.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3884.js?cl=22dd6dc)  
  
---   

## **v8 issue:3865**  
   
**[Issue: Hydrogen produces invalid code](https://crbug.com/v8/3865)**  
**[Commit: Fix HConstant(double, ...) constructor](https://chromium.googlesource.com/v8/v8/+/bfe7f4a)**  
  
Date(Commit): Thu Feb 05 10:28:13 2015  
Type: ----  
Code Review: [https://codereview.chromium.org/897263002](https://codereview.chromium.org/897263002)  
Regress: [mjsunit/regress/regress-3865.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3865.js)  
```javascript
function bar() {
  var radix = 10;
  return 21 / radix | 0;
}
assertEquals(2, bar());
assertEquals(2, bar());
%OptimizeFunctionOnNextCall(bar);
assertEquals(2, bar());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/bfe7f4a^!)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=bfe7f4a)  
[test/mjsunit/regress/regress-3865.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3865.js?cl=bfe7f4a)  
  
---   

## **v8 issue:3859**  
   
**[Issue: Init collections from iterable & SameValueZero](https://crbug.com/v8/3859)**  
**[Commit: Compute the same hash for all NaN values.](https://chromium.googlesource.com/v8/v8/+/f6e02e1)**  
  
Date(Commit): Tue Feb 03 06:29:18 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/897593002](https://codereview.chromium.org/897593002)  
Regress: [mjsunit/regress/regress-3859.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3859.js)  
```javascript
assertEquals(1, new Set([NaN, NaN, NaN]).size);
assertEquals(42, new Map([[NaN, 42]]).get(NaN));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f6e02e1^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=f6e02e1)  
[test/mjsunit/regress/regress-3859.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3859.js?cl=f6e02e1)  
  
---   

## **v8 issue:3501**  
   
**[Issue: CHECK(!already_resolved()) failed when parsing let/const arrow function expression](https://crbug.com/v8/3501)**  
**[Commit: Do not create unresolved variables when parsing arrow functions lazily](https://chromium.googlesource.com/v8/v8/+/91b87e7)**  
  
Date(Commit): Thu Jan 29 15:53:15 2015  
Type: ----  
Code Review: [https://codereview.chromium.org/880253004](https://codereview.chromium.org/880253004)  
Regress: [mjsunit/es6/regress/regress-3501.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-3501.js)  
```javascript
"use strict";
let lift = f => (x, k) => k (f (x));
lift(isNaN);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/91b87e7^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=91b87e7)  
[src/parser.h](https://cs.chromium.org/chromium/src/v8/src/parser.h?cl=91b87e7)  
[test/mjsunit/regress/regress-3501.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3501.js?cl=91b87e7)  
  
---   

## **v8 issue:3812**  
   
**[Issue: Truncation analysis for ToBoolean is wrong](https://crbug.com/v8/3812)**  
**[Commit: [turbofan] Fix truncation/representation sloppiness wrt. bool/bit.](https://chromium.googlesource.com/v8/v8/+/70b32e4)**  
  
Date(Commit): Wed Jan 14 12:06:56 2015  
Type: Bug  
Code Review: [https://codereview.chromium.org/850013003](https://codereview.chromium.org/850013003)  
Regress: [mjsunit/compiler/regress-3812.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-3812.js)  
```javascript
var stdlib = this;
var buffer = new ArrayBuffer(64 * 1024);
var foreign = {}

var foo = (function Module(stdlib, foreign, heap) {
  "use asm";
  function foo(i) {
    var x = i ? (i&1) : true;
    if (x) return x;
    return false;
  }
  return {foo:foo};
})(stdlib, foreign, buffer).foo;

assertEquals(1, foo(1));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/70b32e4^!)  
[src/compiler/change-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/change-lowering.cc?cl=70b32e4)  
[src/compiler/change-lowering.h](https://cs.chromium.org/chromium/src/v8/src/compiler/change-lowering.h?cl=70b32e4)  
[src/compiler/js-graph.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-graph.cc?cl=70b32e4)  
[src/compiler/js-graph.h](https://cs.chromium.org/chromium/src/v8/src/compiler/js-graph.h?cl=70b32e4)  
[src/compiler/opcodes.h](https://cs.chromium.org/chromium/src/v8/src/compiler/opcodes.h?cl=70b32e4)  
[src/compiler/representation-change.h](https://cs.chromium.org/chromium/src/v8/src/compiler/representation-change.h?cl=70b32e4)  
[src/compiler/simplified-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-lowering.cc?cl=70b32e4)  
[src/compiler/simplified-operator-reducer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator-reducer.cc?cl=70b32e4)  
[src/compiler/simplified-operator-reducer.h](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator-reducer.h?cl=70b32e4)  
[src/compiler/simplified-operator.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator.cc?cl=70b32e4)  
[src/compiler/simplified-operator.h](https://cs.chromium.org/chromium/src/v8/src/compiler/simplified-operator.h?cl=70b32e4)  
[src/compiler/typer.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/typer.cc?cl=70b32e4)  
[src/compiler/verifier.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/verifier.cc?cl=70b32e4)  
[test/cctest/compiler/test-representation-change.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/compiler/test-representation-change.cc?cl=70b32e4)  
[test/cctest/compiler/test-simplified-lowering.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/compiler/test-simplified-lowering.cc?cl=70b32e4)  
[test/mjsunit/compiler/regress-3812.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-3812.js?cl=70b32e4)  
[test/mjsunit/compiler/regress-bit-number-constant.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-bit-number-constant.js?cl=70b32e4)  
[test/unittests/compiler/change-lowering-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/compiler/change-lowering-unittest.cc?cl=70b32e4)  
[test/unittests/compiler/simplified-operator-reducer-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/compiler/simplified-operator-reducer-unittest.cc?cl=70b32e4)  
[test/unittests/compiler/simplified-operator-unittest.cc](https://cs.chromium.org/chromium/src/v8/test/unittests/compiler/simplified-operator-unittest.cc?cl=70b32e4)  
  
---   

## **v8 issue:3786**  
   
**[Issue: InstructionOperand limits number of parameters in function call to 2^9 and number of virtual registers to 2^18](https://crbug.com/v8/3786)**  
**[Commit: [turbofan] Raise max virtual registers and call parameter limit.](https://chromium.googlesource.com/v8/v8/+/b5e8dd0)**  
  
Date(Commit): Thu Dec 25 18:18:04 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/826673002](https://codereview.chromium.org/826673002)  
Regress: [mjsunit/compiler/regress-3786.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-3786.js)  
```javascript
var foo = (function Module(stdlib, foreign, heap) {
  "use asm";
  var f = stdlib.Math.cos;
  function foo() {
    return f(48,48,48,59,32,102,111,110,116,45,119,101,105,103,104,116,58,98,111,108,100,59,102,111,110,116,45,102,97,109,105,108,121,58,65,114,105,97,108,44,32,72,101,108,118,101,116,105,99,97,44,32,115,97,110,115,45,115,101,114,105,102,44,86,101,114,100,97,110,97,34,32,99,111,108,111,114,61,34,35,70,70,48,48,48,48,34,62,70,79,82,69,88,47,80,65,82,38,35,51,48,52,59,60,119,98,114,32,47,62,84,69,32,38,35,51,48,52,59,38,35,51,53,48,59,76,69,77,76,69,82,38,35,51,48,52,59,60,47,102,111,110,116,62,60,47,115,112,97,110,62,60,47,116,100,62,10,60,47,116,114,62,60,116,114,62,10,60,116,100,32,97,108,105,103,110,61,34,108,101,102,116,34,62,60,115,112,97,110,32,105,100,61,34,97,99,95,100,101,115,99,34,62,60,102,111,110,116,32,115,116,121,108,101,61,34,102,111,110,116,45,115,105,122,101,58,49,49,112,120,59,32,99,111,108,111,114,58,35,48,48,48,48,48,48,59,32,102,111,110,116,45,102,97,109,105,108,121,58,65,114,105,97,108,44,32,72,101,108,118,101,116,105,99,97,44,32,115,97,110,115,45,115,101,114,105,102,44,86,101,114,100,97,110,97,34,62,38,112,111,117,110,100,59,47,36,32,50,32,112,105,112,44,32,89,84,76,32,49,50,32,112,105,112,44,65,108,116,38,35,51,48,53,59,110,32,51,32,99,101,110,116,46,32,83,97,98,105,116,32,83,112,114,101,97,100,45,84,38,117,117,109,108,59,114,60,119,98,114,32,47,62,107,32,66,97,110,107,97,115,38,35,51,48,53,59,32,65,86,65,78,84,65,74,73,60,47,102,111,110,116,62,60,47,115,112,97,110,62,60,47,116,100,62,10,60,47,116,114,62,60,116,114,62,10,60,116,100,32,97,108,105,103,110,61,34,108,101,102,116,34,62,60,100,105,118,32,105,100,61,34,97,99,95,117,114,108,34,62,60,102,111,110,116,32,115,116,121,108,101,61,34,102,111,110,116,45,115,105,122,101,58,49,48,112,120,59,32,99,111,108,111,114,58,35,70,70,54,54,57,57,59,32,102,111,110,116,45,102,97114,105,97);
  }
  return { foo: foo };
})(this, {}).foo();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b5e8dd0^!)  
[src/compiler/instruction.h](https://cs.chromium.org/chromium/src/v8/src/compiler/instruction.h?cl=b5e8dd0)  
[test/mjsunit/compiler/regress-3786.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-3786.js?cl=b5e8dd0)  
  
---   

## **v8 issue:3756**  
   
**[Issue: Regexps: \u as identity escape behaves differently depending on whether it's at the end of the regexp or not](https://crbug.com/v8/3756)**  
**[Commit: RegExpParser: Fix Reset()ting to the end.](https://chromium.googlesource.com/v8/v8/+/978f41a)**  
  
Date(Commit): Tue Dec 16 12:14:19 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/802313003](https://codereview.chromium.org/802313003)  
Regress: [mjsunit/regress/regress-3756.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3756.js)  
```javascript
(function TestIdentityEscapes() {
  
  var r0 = /\u/;
  assertTrue(r0.test("u"));

  r0 = RegExp("\\u");
  assertTrue(r0.test("u"));

  var r1 = /\usecond/;
  assertTrue(r1.test("usecond"));

  r1 = RegExp("\\usecond");
  assertTrue(r1.test("usecond"));

  var r2 = /first\u/;
  assertTrue(r2.test("firstu"));
  
  assertFalse(r2.test("first\\u"));

  r2 = RegExp("first\\u");
  assertTrue(r2.test("firstu"));
  
  assertFalse(r2.test("first\\u"));

  var r3 = /first\usecond/;
  assertTrue(r3.test("firstusecond"));
  assertFalse(r3.test("first\\usecond"));

  r3 = RegExp("first\\usecond");
  assertTrue(r3.test("firstusecond"));
  assertFalse(r3.test("first\\usecond"));

  var r4 = /first\u123second/;
  assertTrue(r4.test("firstu123second"));
  assertFalse(r4.test("first\\u123second"));

  r4 = RegExp("first\\u123second");
  assertTrue(r4.test("firstu123second"));
  assertFalse(r4.test("first\\u123second"));

  
  
  var r5 = /\a/;
  assertTrue(r5.test("a"));

  r5 = RegExp("\\a");
  assertTrue(r5.test("a"));

  var r6 = /\asecond/;
  assertTrue(r6.test("asecond"));

  r6 = RegExp("\\asecond");
  assertTrue(r6.test("asecond"));

  var r7 = /first\a/;
  assertTrue(r7.test("firsta"));
  assertFalse(r7.test("first\\a"));

  r7 = RegExp("first\\a");
  assertTrue(r7.test("firsta"));
  assertFalse(r7.test("first\\a"));

  var r8 = /first\asecond/;
  assertTrue(r8.test("firstasecond"));
  assertFalse(r8.test("first\\asecond"));

  r8 = RegExp("first\\asecond");
  assertTrue(r8.test("firstasecond"));
  assertFalse(r8.test("first\\asecond"));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/978f41a^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=978f41a)  
[test/mjsunit/regress/regress-3756.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3756.js?cl=978f41a)  
  
---   

## **v8 issue:3741**  
   
**[Issue: Deopt problems in ES6](https://crbug.com/v8/3741)**  
**[Commit: Fix the order of context binding/simulate insertion for BlockContexts.](https://chromium.googlesource.com/v8/v8/+/bd04e6c)**  
  
Date(Commit): Fri Dec 05 13:06:50 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/762393008](https://codereview.chromium.org/762393008)  
Regress: [mjsunit/es6/regress/regress-3741.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-3741.js)  
```javascript
'use strict';
function f24(deopt) {
  let x = 1;
  {
    let x = 2;
    {
      let x = 3;
      assertEquals(3, x);
    }
    deopt + 1;
    assertEquals(2, x);
  }
  assertEquals(1, x);
}


for (var j = 0; j < 10; ++j) {
  f24(12);
}
%OptimizeFunctionOnNextCall(f24);
f24({});  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/bd04e6c^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=bd04e6c)  
[test/mjsunit/harmony/regress/regress-3741.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-3741.js?cl=bd04e6c)  
  
---   

## **v8 issue:2858**  
   
**[Issue: v8 --harmony fails on redeclaration (var) of exception variable](https://crbug.com/v8/2858)**  
**[Commit: harmony-scoping: Catch variable should be VAR, not LET](https://chromium.googlesource.com/v8/v8/+/f1d8668)**  
  
Date(Commit): Tue Nov 25 14:48:39 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/748113003](https://codereview.chromium.org/748113003)  
Regress: [mjsunit/es6/regress/regress-2858.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2858.js)  
```javascript
"use strict";

function f() {
    var y = 1;
    var q1;
    var q;
    var z = new Error();
    try {
        throw z;
    } catch (y) {
      assertTrue(z === y);
      q1 = function() { return y; }
      var y = 15;
      q = function() { return y; }
      assertSame(15, y);
    }
    assertSame(1, y);
    assertSame(15, q1());
    assertSame(15, q());
}

f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f1d8668^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=f1d8668)  
[test/mjsunit/harmony/block-conflicts.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/block-conflicts.js?cl=f1d8668)  
[test/mjsunit/harmony/regress/regress-2858.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-2858.js?cl=f1d8668)  
  
---   

## **v8 issue:3229**  
   
**[Issue: Slashes in regex.source should be escaped](https://crbug.com/v8/3229)**  
**[Commit: Correctly escape RegExp source.](https://chromium.googlesource.com/v8/v8/+/61bee5c)**  
  
Date(Commit): Fri Nov 21 10:50:24 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/736003002](https://codereview.chromium.org/736003002)  
Regress: [mjsunit/regress/regress-3229.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3229.js)  
```javascript
function testEscapes(expected, regexp) {
  assertEquals(expected, regexp.source);
  assertEquals("/" + expected + "/", regexp.toString());
}

testEscapes("\\/", /\
testEscapes("\\/\\/", /\/\
testEscapes("\\/", new RegExp("/"));
testEscapes("\\/", new RegExp("\\/"));
testEscapes("\\\\\\/", new RegExp("\\\\/"));
testEscapes("\\/\\/", new RegExp("\\/\\/"));
testEscapes("\\/\\/\\/\\/", new RegExp("
testEscapes("\\/\\/\\/\\/", new RegExp("\\
testEscapes("(?:)", new RegExp(""));


var r = /\/\
testEscapes("\\/\\/", r);
r.source = "garbage";
testEscapes("\\/\\/", r);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/61bee5c^!)  
[src/accessors.cc](https://cs.chromium.org/chromium/src/v8/src/accessors.cc?cl=61bee5c)  
[src/accessors.h](https://cs.chromium.org/chromium/src/v8/src/accessors.h?cl=61bee5c)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=61bee5c)  
[src/json-stringifier.h](https://cs.chromium.org/chromium/src/v8/src/json-stringifier.h?cl=61bee5c)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=61bee5c)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=61bee5c)  
[src/runtime/runtime-regexp.cc](https://cs.chromium.org/chromium/src/v8/src/runtime/runtime-regexp.cc?cl=61bee5c)  
[test/mjsunit/compiler/literals.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/literals.js?cl=61bee5c)  
[test/mjsunit/regress/regress-3229.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3229.js?cl=61bee5c)  
[test/webkit/fast/regex/toString-expected.txt](https://cs.chromium.org/chromium/src/v8/test/webkit/fast/regex/toString-expected.txt?cl=61bee5c)  
  
---   

## **v8 issue:3709**  
   
**[Issue: unexpected deoptimization due to fn.apply(this, arguments);](https://crbug.com/v8/3709)**  
**[Commit: Do not bailout from optimizing functions that use f(x, arguments)](https://chromium.googlesource.com/v8/v8/+/dc88962)**  
  
Date(Commit): Thu Nov 20 17:07:44 2014  
Type: ----  
Code Review: [https://codereview.chromium.org/736043002](https://codereview.chromium.org/736043002)  
Regress: [mjsunit/regress/regress-3709.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3709.js)  
```javascript
function getobj() {
  return { bar : function() { return 0}};
}

function foo() {
  var obj = getobj();
  var length = arguments.length;
  if (length == 0) {
     obj.bar();
  } else {
     obj.bar.apply(obj, arguments);
  }
}

foo();
foo();
%OptimizeFunctionOnNextCall(foo);
foo();
assertOptimized(foo);
foo(10);
assertUnoptimized(foo);
%ClearFunctionFeedback(foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/dc88962^!)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=dc88962)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=dc88962)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=dc88962)  
[src/type-info.cc](https://cs.chromium.org/chromium/src/v8/src/type-info.cc?cl=dc88962)  
[src/type-info.h](https://cs.chromium.org/chromium/src/v8/src/type-info.h?cl=dc88962)  
[src/typing.cc](https://cs.chromium.org/chromium/src/v8/src/typing.cc?cl=dc88962)  
[test/mjsunit/regress/regress-3709.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3709.js?cl=dc88962)  
  
---   

## **v8 issue:3683**  
   
**[Issue: C-style for-let can't handle continue](https://crbug.com/v8/3683)**  
**[Commit: Fix desugaring of let bindings in for loops to handle continue properly](https://chromium.googlesource.com/v8/v8/+/b17eaaa)**  
  
Date(Commit): Fri Nov 14 19:33:23 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/720863002](https://codereview.chromium.org/720863002)  
Regress: [mjsunit/es6/regress/regress-3683.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-3683.js)  
```javascript
"use strict";


var count = 0;
for (let x = 0; x < 10;) {
  x++;
  count++;
  continue;
}
assertEquals(10, count);


count = 0;
label: for (let x = 0; x < 10;) {
  while (true) {
    x++;
    count++;
    continue label;
  }
}
assertEquals(10, count);


count = 0;
label: for (let x = 0; x < 10;) {
  x++;
  count++;
  continue label;
}
assertEquals(10, count);


count = 0;
for (let x = 0; x < 10;) {
  x++;
  count++;
  {
    let x = "hello";
    continue;
  }
}
assertEquals(10, count);


count = 0;
for (let x = 0; x < 10;) {
  x++;
  for (let y = 0; y < 2;) {
    y++;
    count++;
    continue;
  }
}
assertEquals(20, count);


count = 0;
for (let x = 0; x < 10;) {
  x++;
  for (let y = 0; y < 2;) {
    y++;
    count++;
  }
  continue;
}
assertEquals(20, count);


count = 0;
outer: for (let x = 0; x < 10;) {
  x++;
  for (let y = 0; y < 2;) {
    y++;
    count++;
    if (y == 2) continue outer;
  }
}
assertEquals(20, count);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b17eaaa^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=b17eaaa)  
[test/mjsunit/harmony/regress/regress-3683.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-3683.js?cl=b17eaaa)  
  
---   

## **v8 issue:3687**  
   
**[Issue: Crash in GeneralizeRepresentation](https://crbug.com/v8/3687)**  
**[Commit: Avoid fast short-cut in Map::GeneralizeRepresentation() for literals with non-simple transitions.](https://chromium.googlesource.com/v8/v8/+/bc8c41c)**  
  
Date(Commit): Thu Nov 13 10:56:31 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/715313003](https://codereview.chromium.org/715313003)  
Regress: [mjsunit/regress/regress-3687.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3687.js)  
```javascript
var t1 = { f1: 0 };
var t2 = { f2: 0 };

var z = {
  x: {
    x: t1,
    y: {
      x: {},
      z1: {
        x: t2,
        y: 1
      }
    }
  },
  z2: 0
};  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/bc8c41c^!)  
[src/json-parser.h](https://cs.chromium.org/chromium/src/v8/src/json-parser.h?cl=bc8c41c)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=bc8c41c)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=bc8c41c)  
[test/mjsunit/regress/regress-3687.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3687.js?cl=bc8c41c)  
  
---   

## **v8 issue:3483**  
   
**[Issue: `1..isPrototypeOf.call(null)` should return false, not throw TypeError.](https://crbug.com/v8/3483)**  
**[Commit: `1..isPrototypeOf.call(null)` should return false, not throw TypeError.](https://chromium.googlesource.com/v8/v8/+/357882a)**  
  
Date(Commit): Tue Nov 04 16:14:18 2014  
Type: ----  
Code Review: [https://codereview.chromium.org/433413002](https://codereview.chromium.org/433413002)  
Regress: [mjsunit/regress/regress-3483.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3483.js)  
```javascript
assertFalse(Object.prototype.isPrototypeOf.call());
assertFalse(Object.prototype.isPrototypeOf.call(null, 1));
assertFalse(Object.prototype.isPrototypeOf.call(undefined, 1));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/357882a^!)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=357882a)  
[test/mjsunit/function-call.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/function-call.js?cl=357882a)  
[test/mjsunit/regress/regress-3483.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3483.js?cl=357882a)  
  
---   

## **v8 issue:3643**  
   
**[Issue: Array.prototype.slice calls [[Get]] before [[Has]] when generating result array](https://crbug.com/v8/3643)**  
**[Commit: SimpleSlice now calls [[Get]] before [[Has]] when generating copy](https://chromium.googlesource.com/v8/v8/+/c9ea8d6)**  
  
Date(Commit): Fri Oct 24 18:08:13 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/674003002](https://codereview.chromium.org/674003002)  
Regress: [mjsunit/regress/regress-3643.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3643.js)  
```javascript
function newArrayWithGetter() {
  var arr = [1, 2, 3];
  Object.defineProperty(arr, '1', {
    get: function() { delete this[1]; return undefined; },
    configurable: true
  });
  return arr;
}

var a = newArrayWithGetter();
var s = a.slice(1);
assertTrue('0' in s);


a = newArrayWithGetter();
a[0xffff] = 4;
s = a.slice(1);
assertTrue('0' in s);

a = newArrayWithGetter();
a.shift();
assertTrue('0' in a);

a = newArrayWithGetter();
a.unshift(0);
assertTrue('2' in a);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c9ea8d6^!)  
[src/array.js](https://cs.chromium.org/chromium/src/v8/src/array.js?cl=c9ea8d6)  
[test/mjsunit/regress/regress-3643.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3643.js?cl=c9ea8d6)  
  
---   

## **v8 issue:2506**  
   
**[Issue: Missing support for const in for-in loops](https://crbug.com/v8/2506)**  
**[Commit: harmony-scoping: Allow 'const' iteration variables in strict mode.](https://chromium.googlesource.com/v8/v8/+/b54f7d3)**  
  
Date(Commit): Thu Oct 23 11:18:50 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/671913002](https://codereview.chromium.org/671913002)  
Regress: [mjsunit/es6/regress/regress-2506.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2506.js)  
```javascript
'use strict';


let s = 0;
let f = [undefined, undefined, undefined]
for (const x of [1,2,3]) {
  s += x;
  f[x-1] = function() { return x; }
}
assertEquals(6, s);
assertEquals(1, f[0]());
assertEquals(2, f[1]());
assertEquals(3, f[2]());

let x = 1;
s = 0;
for (const z of [x, x+1, x+2]) {
  s += z;
}
assertEquals(6, s);

s = 0;
var q = 1;
for (const x of [q, q+1, q+2]) {
  s += x;
}
assertEquals(6, s);

let z = 1;
s = 0;
for (const x = 1; z < 2; z++) {
  s += x + z;
}
assertEquals(2, s);


s = "";
for (const x in [1,2,3]) {
  s += x;
}
assertEquals("012", s);

assertThrows("'use strict'; for (const x in [1,2,3]) { x++ }", TypeError);


(function() {
  let s = 0;
  for (const x of [1,2,3]) {
    s += x;
  }
  assertEquals(6, s);

  let x = 1;
  s = 0;
  for (const q of [x, x+1, x+2]) {
    s += q;
  }
  assertEquals(6, s);

  s = 0;
  var q = 1;
  for (const x of [q, q+1, q+2]) {
    s += x;
  }
  assertEquals(6, s);

  s = "";
  for (const x in [1,2,3]) {
    s += x;
  }
  assertEquals("012", s);
}());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b54f7d3^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=b54f7d3)  
[src/preparser.cc](https://cs.chromium.org/chromium/src/v8/src/preparser.cc?cl=b54f7d3)  
[src/preparser.h](https://cs.chromium.org/chromium/src/v8/src/preparser.h?cl=b54f7d3)  
[test/cctest/test-parsing.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-parsing.cc?cl=b54f7d3)  
[test/mjsunit/regress/regress-2506.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2506.js?cl=b54f7d3)  
  
---   

## **v8 issue:2615**  
   
**[Issue: Non-compliant behavior in array functions at MaxUInt32 boundary](https://crbug.com/v8/2615)**  
**[Commit: Remove SmartMove, bringing Array methods further into spec compliance](https://chromium.googlesource.com/v8/v8/+/bb885a7)**  
  
Date(Commit): Wed Oct 15 23:36:58 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/349073002](https://codereview.chromium.org/349073002)  
Regress: [mjsunit/regress/regress-2615.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2615.js)  
```javascript
a = [1];
Object.defineProperty(a, "1", {writable:false, configurable:false, value: 100});
assertThrows("a.unshift(4);", TypeError);
assertEquals([1, 100, 100], a);
var desc = Object.getOwnPropertyDescriptor(a, "1");
assertEquals(false, desc.writable);
assertEquals(false, desc.configurable);

a = [1];
var g = function() { return 100; };
Object.defineProperty(a, "1", {get:g});
assertThrows("a.unshift(0);", TypeError);
assertEquals([1, 100, 100], a);
desc = Object.getOwnPropertyDescriptor(a, "1");
assertEquals(false, desc.configurable);
assertEquals(g, desc.get);

a = [1];
var c = 0;
var s = function(v) { c += 1; };
Object.defineProperty(a, "1", {set:s});
a.unshift(10);
assertEquals([10, undefined, undefined], a);
assertEquals(1, c);
desc = Object.getOwnPropertyDescriptor(a, "1");
assertEquals(false, desc.configurable);
assertEquals(s, desc.set);

a = [1];
Object.defineProperty(a, "1", {configurable:false, value:10});
assertThrows("a.splice(1,1);", TypeError);
assertEquals([1, 10], a);
desc = Object.getOwnPropertyDescriptor(a, "1");
assertEquals(false, desc.configurable);

a = [0,1,2,3,4,5,6];
Object.defineProperty(a, "3", {configurable:false, writable:false, value:3});
assertThrows("a.splice(1,4);", TypeError);
assertEquals([0,5,6,3,,,,], a);
desc = Object.getOwnPropertyDescriptor(a, "3");
assertEquals(false, desc.configurable);
assertEquals(false, desc.writable);

a = [0,1,2,3,4,5,6];
Object.defineProperty(a, "5", {configurable:false, value:5});
assertThrows("a.splice(1,4);", TypeError);
assertEquals([0,5,6,3,4,5,,], a);
desc = Object.getOwnPropertyDescriptor(a, "5");
assertEquals(false, desc.configurable);

a = [1,2,3,,5];
Object.defineProperty(a, "1", {configurable:false, writable:true, value:2});
assertEquals(1, a.shift());
assertEquals([2,3,,5], a);
desc = Object.getOwnPropertyDescriptor(a, "1");
assertEquals(false, desc.configurable);
assertEquals(true, desc.writable);
assertThrows("a.shift();", TypeError);
assertEquals([3,3,,5], a);
desc = Object.getOwnPropertyDescriptor(a, "1");
assertEquals(false, desc.configurable);
assertEquals(true, desc.writable);

a = [1,2,3];
Object.defineProperty(a, "2", {configurable:false, value:3});
assertThrows("a.pop();", TypeError);
assertEquals([1,2,3], a);
desc = Object.getOwnPropertyDescriptor(a, "2");
assertEquals(false, desc.configurable);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/bb885a7^!)  
[src/array.js](https://cs.chromium.org/chromium/src/v8/src/array.js?cl=bb885a7)  
[test/mjsunit/array-functions-prototype-misc.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/array-functions-prototype-misc.js?cl=bb885a7)  
[test/mjsunit/array-natives-elements.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/array-natives-elements.js?cl=bb885a7)  
[test/mjsunit/array-shift2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/array-shift2.js?cl=bb885a7)  
[test/mjsunit/array-unshift.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/array-unshift.js?cl=bb885a7)  
[test/mjsunit/bugs/bug-2615.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-2615.js?cl=bb885a7)  
[test/mjsunit/regress/regress-2615.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2615.js?cl=bb885a7)  
[test/mjsunit/regress/regress-crbug-412319.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-crbug-412319.js?cl=bb885a7)  
  
---   

## **v8 issue:3621**  
   
**[Issue: Sparse variants of Array.prototype.join does not handle side-effects due to getters](https://crbug.com/v8/3621)**  
**[Commit: Add test case for SparseJoin misbehavior with getters](https://chromium.googlesource.com/v8/v8/+/9595c61)**  
  
Date(Commit): Fri Oct 10 17:17:00 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/645703003](https://codereview.chromium.org/645703003)  
Regress: [mjsunit/regress/regress-3621.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3621.js)  
```javascript
var a = [];
var endIndex = 0xffff;
a[endIndex] = 3;
Object.defineProperty(a, 0, { get: function() { this[1] = 2; return 1; } });
assertEquals('123', a.join(''));
delete a[1];  
assertEquals('1,2,', a.join().slice(0, 4));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9595c61^!)  
[test/mjsunit/bugs/bug-3621.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-3621.js?cl=9595c61)  
  
---   

## **v8 issue:3116**  
   
**[Issue: Date behavior incorrect in Sao Paulo on Sat Oct 18 2014 00:00:00 GMT-0300](https://crbug.com/v8/3116)**  
**[Commit: Fix computation of UTC time from local time at DST change points.](https://chromium.googlesource.com/v8/v8/+/29296d7)**  
  
Date(Commit): Thu Oct 09 14:17:33 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/639383002](https://codereview.chromium.org/639383002)  
Regress: [mjsunit/regress/regress-3116.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3116.js)  
```javascript
function timezone(tz) {
  var str = (new Date(2014, 0, 10)).toString();
  if (tz == "CET") {
    return str == "Fri Jan 10 2014 00:00:00 GMT+0100 (CET)";
  }
  if (tz == "BRT") {
    return str == "Fri Jan 10 2014 00:00:00 GMT-0200 (BRST)";
  }
  if (tz == "PST") {
    return str == "Fri Jan 10 2014 00:00:00 GMT-0800 (PST)";
  }
  return false;
}

if (timezone("CET")) {
  assertEquals("Sat Mar 29 2014 22:59:00 GMT+0100 (CET)",
               (new Date(2014, 2, 29, 22, 59)).toString());
  assertEquals("Sat, 29 Mar 2014 21:59:00 GMT",
               (new Date(2014, 2, 29, 22, 59)).toUTCString());
  assertEquals("Sat Mar 29 2014 23:00:00 GMT+0100 (CET)",
               (new Date(2014, 2, 29, 23, 0)).toString());
  assertEquals("Sat, 29 Mar 2014 22:00:00 GMT",
               (new Date(2014, 2, 29, 23, 0)).toUTCString());
  assertEquals("Sat Mar 29 2014 23:59:00 GMT+0100 (CET)",
               (new Date(2014, 2, 29, 23, 59)).toString());
  assertEquals("Sat, 29 Mar 2014 22:59:00 GMT",
               (new Date(2014, 2, 29, 23, 59)).toUTCString());
  assertEquals("Sun Mar 30 2014 00:00:00 GMT+0100 (CET)",
               (new Date(2014, 2, 30, 0, 0)).toString());
  assertEquals("Sat, 29 Mar 2014 23:00:00 GMT",
               (new Date(2014, 2, 30, 0, 0)).toUTCString());
  assertEquals("Sun Mar 30 2014 00:59:00 GMT+0100 (CET)",
               (new Date(2014, 2, 30, 0, 59)).toString());
  assertEquals("Sat, 29 Mar 2014 23:59:00 GMT",
               (new Date(2014, 2, 30, 0, 59)).toUTCString());
  assertEquals("Sun Mar 30 2014 01:00:00 GMT+0100 (CET)",
               (new Date(2014, 2, 30, 1, 0)).toString());
  assertEquals("Sun, 30 Mar 2014 00:00:00 GMT",
               (new Date(2014, 2, 30, 1, 0)).toUTCString());
  assertEquals("Sun Mar 30 2014 01:59:00 GMT+0100 (CET)",
               (new Date(2014, 2, 30, 1, 59)).toString());
  assertEquals("Sun, 30 Mar 2014 00:59:00 GMT",
               (new Date(2014, 2, 30, 1, 59)).toUTCString());
  assertEquals("Sun Mar 30 2014 03:00:00 GMT+0200 (CEST)",
               (new Date(2014, 2, 30, 2, 0)).toString());
  assertEquals("Sun, 30 Mar 2014 01:00:00 GMT",
               (new Date(2014, 2, 30, 2, 0)).toUTCString());
  assertEquals("Sun Mar 30 2014 03:59:00 GMT+0200 (CEST)",
               (new Date(2014, 2, 30, 2, 59)).toString());
  assertEquals("Sun, 30 Mar 2014 01:59:00 GMT",
               (new Date(2014, 2, 30, 2, 59)).toUTCString());
  assertEquals("Sun Mar 30 2014 03:00:00 GMT+0200 (CEST)",
               (new Date(2014, 2, 30, 3, 0)).toString());
  assertEquals("Sun, 30 Mar 2014 01:00:00 GMT",
               (new Date(2014, 2, 30, 3, 0)).toUTCString());
  assertEquals("Sun Mar 30 2014 03:59:00 GMT+0200 (CEST)",
               (new Date(2014, 2, 30, 3, 59)).toString());
  assertEquals("Sun, 30 Mar 2014 01:59:00 GMT",
               (new Date(2014, 2, 30, 3, 59)).toUTCString());
  assertEquals("Sun Mar 30 2014 04:00:00 GMT+0200 (CEST)",
               (new Date(2014, 2, 30, 4, 0)).toString());
  assertEquals("Sun, 30 Mar 2014 02:00:00 GMT",
               (new Date(2014, 2, 30, 4, 0)).toUTCString());
  assertEquals("Sat Oct 25 2014 22:59:00 GMT+0200 (CEST)",
               (new Date(2014, 9, 25, 22, 59)).toString());
  assertEquals("Sat, 25 Oct 2014 20:59:00 GMT",
               (new Date(2014, 9, 25, 22, 59)).toUTCString());
  assertEquals("Sat Oct 25 2014 23:00:00 GMT+0200 (CEST)",
               (new Date(2014, 9, 25, 23, 0)).toString());
  assertEquals("Sat, 25 Oct 2014 21:00:00 GMT",
               (new Date(2014, 9, 25, 23, 0)).toUTCString());
  assertEquals("Sat Oct 25 2014 23:59:00 GMT+0200 (CEST)",
               (new Date(2014, 9, 25, 23, 59)).toString());
  assertEquals("Sat, 25 Oct 2014 21:59:00 GMT",
               (new Date(2014, 9, 25, 23, 59)).toUTCString());
  assertEquals("Sun Oct 26 2014 00:00:00 GMT+0200 (CEST)",
               (new Date(2014, 9, 26, 0, 0)).toString());
  assertEquals("Sat, 25 Oct 2014 22:00:00 GMT",
               (new Date(2014, 9, 26, 0, 0)).toUTCString());
  assertEquals("Sun Oct 26 2014 00:59:00 GMT+0200 (CEST)",
               (new Date(2014, 9, 26, 0, 59)).toString());
  assertEquals("Sat, 25 Oct 2014 22:59:00 GMT",
               (new Date(2014, 9, 26, 0, 59)).toUTCString());
  assertEquals("Sun Oct 26 2014 01:00:00 GMT+0200 (CEST)",
               (new Date(2014, 9, 26, 1, 0)).toString());
  assertEquals("Sat, 25 Oct 2014 23:00:00 GMT",
               (new Date(2014, 9, 26, 1, 0)).toUTCString());
  assertEquals("Sun Oct 26 2014 01:59:00 GMT+0200 (CEST)",
               (new Date(2014, 9, 26, 1, 59)).toString());
  assertEquals("Sat, 25 Oct 2014 23:59:00 GMT",
               (new Date(2014, 9, 26, 1, 59)).toUTCString());
  assertEquals("Sun Oct 26 2014 02:00:00 GMT+0200 (CEST)",
               (new Date(2014, 9, 26, 2, 0)).toString());
  assertEquals("Sun, 26 Oct 2014 00:00:00 GMT",
               (new Date(2014, 9, 26, 2, 0)).toUTCString());
  assertEquals("Sun Oct 26 2014 02:59:00 GMT+0200 (CEST)",
               (new Date(2014, 9, 26, 2, 59)).toString());
  assertEquals("Sun, 26 Oct 2014 00:59:00 GMT",
               (new Date(2014, 9, 26, 2, 59)).toUTCString());
  assertEquals("Sun Oct 26 2014 03:00:00 GMT+0100 (CET)",
               (new Date(2014, 9, 26, 3, 0)).toString());
  assertEquals("Sun, 26 Oct 2014 02:00:00 GMT",
               (new Date(2014, 9, 26, 3, 0)).toUTCString());
  assertEquals("Sun Oct 26 2014 03:59:00 GMT+0100 (CET)",
               (new Date(2014, 9, 26, 3, 59)).toString());
  assertEquals("Sun, 26 Oct 2014 02:59:00 GMT",
               (new Date(2014, 9, 26, 3, 59)).toUTCString());
  assertEquals("Sun Oct 26 2014 04:00:00 GMT+0100 (CET)",
               (new Date(2014, 9, 26, 4, 0)).toString());
  assertEquals("Sun, 26 Oct 2014 03:00:00 GMT",
               (new Date(2014, 9, 26, 4, 0)).toUTCString());
}

if (timezone("BRT")) {
  assertEquals("Sat Oct 18 2014 22:59:00 GMT-0300 (BRT)",
               (new Date(2014, 9, 18, 22, 59)).toString());
  assertEquals("Sun, 19 Oct 2014 01:59:00 GMT",
               (new Date(2014, 9, 18, 22, 59)).toUTCString());
  assertEquals("Sat Oct 18 2014 23:00:00 GMT-0300 (BRT)",
               (new Date(2014, 9, 18, 23, 0)).toString());
  assertEquals("Sun, 19 Oct 2014 02:00:00 GMT",
               (new Date(2014, 9, 18, 23, 0)).toUTCString());
  assertEquals("Sat Oct 18 2014 23:59:00 GMT-0300 (BRT)",
               (new Date(2014, 9, 18, 23, 59)).toString());
  assertEquals("Sun, 19 Oct 2014 02:59:00 GMT",
               (new Date(2014, 9, 18, 23, 59)).toUTCString());
  assertEquals("Sun Oct 19 2014 01:00:00 GMT-0200 (BRST)",
               (new Date(2014, 9, 19, 0, 0)).toString());
  assertEquals("Sun, 19 Oct 2014 03:00:00 GMT",
               (new Date(2014, 9, 19, 0, 0)).toUTCString());
  assertEquals("Sun Oct 19 2014 01:59:00 GMT-0200 (BRST)",
               (new Date(2014, 9, 19, 0, 59)).toString());
  assertEquals("Sun, 19 Oct 2014 03:59:00 GMT",
               (new Date(2014, 9, 19, 0, 59)).toUTCString());
  assertEquals("Sun Oct 19 2014 01:00:00 GMT-0200 (BRST)",
               (new Date(2014, 9, 19, 1, 0)).toString());
  assertEquals("Sun, 19 Oct 2014 03:00:00 GMT",
               (new Date(2014, 9, 19, 1, 0)).toUTCString());
  assertEquals("Sun Oct 19 2014 01:59:00 GMT-0200 (BRST)",
               (new Date(2014, 9, 19, 1, 59)).toString());
  assertEquals("Sun, 19 Oct 2014 03:59:00 GMT",
               (new Date(2014, 9, 19, 1, 59)).toUTCString());
  assertEquals("Sun Oct 19 2014 02:00:00 GMT-0200 (BRST)",
               (new Date(2014, 9, 19, 2, 0)).toString());
  assertEquals("Sun, 19 Oct 2014 04:00:00 GMT",
               (new Date(2014, 9, 19, 2, 0)).toUTCString());
  assertEquals("Sun Oct 19 2014 02:59:00 GMT-0200 (BRST)",
               (new Date(2014, 9, 19, 2, 59)).toString());
  assertEquals("Sun, 19 Oct 2014 04:59:00 GMT",
               (new Date(2014, 9, 19, 2, 59)).toUTCString());
  assertEquals("Sun Oct 19 2014 03:00:00 GMT-0200 (BRST)",
               (new Date(2014, 9, 19, 3, 0)).toString());
  assertEquals("Sun, 19 Oct 2014 05:00:00 GMT",
               (new Date(2014, 9, 19, 3, 0)).toUTCString());
  assertEquals("Sun Oct 19 2014 03:59:00 GMT-0200 (BRST)",
               (new Date(2014, 9, 19, 3, 59)).toString());
  assertEquals("Sun, 19 Oct 2014 05:59:00 GMT",
               (new Date(2014, 9, 19, 3, 59)).toUTCString());
  assertEquals("Sun Oct 19 2014 04:00:00 GMT-0200 (BRST)",
               (new Date(2014, 9, 19, 4, 0)).toString());
  assertEquals("Sun, 19 Oct 2014 06:00:00 GMT",
               (new Date(2014, 9, 19, 4, 0)).toUTCString());
  assertEquals("Sat Feb 15 2014 22:59:00 GMT-0200 (BRST)",
               (new Date(2014, 1, 15, 22, 59)).toString());
  assertEquals("Sun, 16 Feb 2014 00:59:00 GMT",
               (new Date(2014, 1, 15, 22, 59)).toUTCString());
  assertEquals("Sat Feb 15 2014 23:00:00 GMT-0200 (BRST)",
               (new Date(2014, 1, 15, 23, 0)).toString());
  assertEquals("Sun, 16 Feb 2014 01:00:00 GMT",
               (new Date(2014, 1, 15, 23, 0)).toUTCString());
  assertEquals("Sat Feb 15 2014 23:59:00 GMT-0200 (BRST)",
               (new Date(2014, 1, 15, 23, 59)).toString());
  assertEquals("Sun, 16 Feb 2014 01:59:00 GMT",
               (new Date(2014, 1, 15, 23, 59)).toUTCString());
  assertEquals("Sun Feb 16 2014 00:00:00 GMT-0300 (BRT)",
               (new Date(2014, 1, 16, 0, 0)).toString());
  assertEquals("Sun, 16 Feb 2014 03:00:00 GMT",
               (new Date(2014, 1, 16, 0, 0)).toUTCString());
  assertEquals("Sun Feb 16 2014 00:59:00 GMT-0300 (BRT)",
               (new Date(2014, 1, 16, 0, 59)).toString());
  assertEquals("Sun, 16 Feb 2014 03:59:00 GMT",
               (new Date(2014, 1, 16, 0, 59)).toUTCString());
  assertEquals("Sun Feb 16 2014 01:00:00 GMT-0300 (BRT)",
               (new Date(2014, 1, 16, 1, 0)).toString());
  assertEquals("Sun, 16 Feb 2014 04:00:00 GMT",
               (new Date(2014, 1, 16, 1, 0)).toUTCString());
  assertEquals("Sun Feb 16 2014 01:59:00 GMT-0300 (BRT)",
               (new Date(2014, 1, 16, 1, 59)).toString());
  assertEquals("Sun, 16 Feb 2014 04:59:00 GMT",
               (new Date(2014, 1, 16, 1, 59)).toUTCString());
  assertEquals("Sun Feb 16 2014 02:00:00 GMT-0300 (BRT)",
               (new Date(2014, 1, 16, 2, 0)).toString());
  assertEquals("Sun, 16 Feb 2014 05:00:00 GMT",
               (new Date(2014, 1, 16, 2, 0)).toUTCString());
  assertEquals("Sun Feb 16 2014 02:59:00 GMT-0300 (BRT)",
               (new Date(2014, 1, 16, 2, 59)).toString());
  assertEquals("Sun, 16 Feb 2014 05:59:00 GMT",
               (new Date(2014, 1, 16, 2, 59)).toUTCString());
  assertEquals("Sun Feb 16 2014 03:00:00 GMT-0300 (BRT)",
               (new Date(2014, 1, 16, 3, 0)).toString());
  assertEquals("Sun, 16 Feb 2014 06:00:00 GMT",
               (new Date(2014, 1, 16, 3, 0)).toUTCString());
  assertEquals("Sun Feb 16 2014 03:59:00 GMT-0300 (BRT)",
               (new Date(2014, 1, 16, 3, 59)).toString());
  assertEquals("Sun, 16 Feb 2014 06:59:00 GMT",
               (new Date(2014, 1, 16, 3, 59)).toUTCString());
  assertEquals("Sun Feb 16 2014 04:00:00 GMT-0300 (BRT)",
               (new Date(2014, 1, 16, 4, 0)).toString());
  assertEquals("Sun, 16 Feb 2014 07:00:00 GMT",
               (new Date(2014, 1, 16, 4, 0)).toUTCString());
}

if (timezone("PST")) {
  assertEquals("Sat Mar 08 2014 22:59:00 GMT-0800 (PST)",
               (new Date(2014, 2, 8, 22, 59)).toString());
  assertEquals("Sun, 09 Mar 2014 06:59:00 GMT",
               (new Date(2014, 2, 8, 22, 59)).toUTCString());
  assertEquals("Sat Mar 08 2014 23:00:00 GMT-0800 (PST)",
               (new Date(2014, 2, 8, 23, 0)).toString());
  assertEquals("Sun, 09 Mar 2014 07:00:00 GMT",
               (new Date(2014, 2, 8, 23, 0)).toUTCString());
  assertEquals("Sat Mar 08 2014 23:59:00 GMT-0800 (PST)",
               (new Date(2014, 2, 8, 23, 59)).toString());
  assertEquals("Sun, 09 Mar 2014 07:59:00 GMT",
               (new Date(2014, 2, 8, 23, 59)).toUTCString());
  assertEquals("Sun Mar 09 2014 00:00:00 GMT-0800 (PST)",
               (new Date(2014, 2, 9, 0, 0)).toString());
  assertEquals("Sun, 09 Mar 2014 08:00:00 GMT",
               (new Date(2014, 2, 9, 0, 0)).toUTCString());
  assertEquals("Sun Mar 09 2014 00:59:00 GMT-0800 (PST)",
               (new Date(2014, 2, 9, 0, 59)).toString());
  assertEquals("Sun, 09 Mar 2014 08:59:00 GMT",
               (new Date(2014, 2, 9, 0, 59)).toUTCString());
  assertEquals("Sun Mar 09 2014 01:00:00 GMT-0800 (PST)",
               (new Date(2014, 2, 9, 1, 0)).toString());
  assertEquals("Sun, 09 Mar 2014 09:00:00 GMT",
               (new Date(2014, 2, 9, 1, 0)).toUTCString());
  assertEquals("Sun Mar 09 2014 01:59:00 GMT-0800 (PST)",
               (new Date(2014, 2, 9, 1, 59)).toString());
  assertEquals("Sun, 09 Mar 2014 09:59:00 GMT",
               (new Date(2014, 2, 9, 1, 59)).toUTCString());
  assertEquals("Sun Mar 09 2014 03:00:00 GMT-0700 (PDT)",
               (new Date(2014, 2, 9, 2, 0)).toString());
  assertEquals("Sun, 09 Mar 2014 10:00:00 GMT",
               (new Date(2014, 2, 9, 2, 0)).toUTCString());
  assertEquals("Sun Mar 09 2014 03:59:00 GMT-0700 (PDT)",
               (new Date(2014, 2, 9, 2, 59)).toString());
  assertEquals("Sun, 09 Mar 2014 10:59:00 GMT",
               (new Date(2014, 2, 9, 2, 59)).toUTCString());
  assertEquals("Sun Mar 09 2014 03:00:00 GMT-0700 (PDT)",
               (new Date(2014, 2, 9, 3, 0)).toString());
  assertEquals("Sun, 09 Mar 2014 10:00:00 GMT",
               (new Date(2014, 2, 9, 3, 0)).toUTCString());
  assertEquals("Sun Mar 09 2014 03:59:00 GMT-0700 (PDT)",
               (new Date(2014, 2, 9, 3, 59)).toString());
  assertEquals("Sun, 09 Mar 2014 10:59:00 GMT",
               (new Date(2014, 2, 9, 3, 59)).toUTCString());
  assertEquals("Sun Mar 09 2014 04:00:00 GMT-0700 (PDT)",
               (new Date(2014, 2, 9, 4, 0)).toString());
  assertEquals("Sun, 09 Mar 2014 11:00:00 GMT",
               (new Date(2014, 2, 9, 4, 0)).toUTCString());
  assertEquals("Sat Nov 01 2014 22:59:00 GMT-0700 (PDT)",
               (new Date(2014, 10, 1, 22, 59)).toString());
  assertEquals("Sun, 02 Nov 2014 05:59:00 GMT",
               (new Date(2014, 10, 1, 22, 59)).toUTCString());
  assertEquals("Sat Nov 01 2014 23:00:00 GMT-0700 (PDT)",
               (new Date(2014, 10, 1, 23, 0)).toString());
  assertEquals("Sun, 02 Nov 2014 06:00:00 GMT",
               (new Date(2014, 10, 1, 23, 0)).toUTCString());
  assertEquals("Sat Nov 01 2014 23:59:00 GMT-0700 (PDT)",
               (new Date(2014, 10, 1, 23, 59)).toString());
  assertEquals("Sun, 02 Nov 2014 06:59:00 GMT",
               (new Date(2014, 10, 1, 23, 59)).toUTCString());
  assertEquals("Sun Nov 02 2014 00:00:00 GMT-0700 (PDT)",
               (new Date(2014, 10, 2, 0, 0)).toString());
  assertEquals("Sun, 02 Nov 2014 07:00:00 GMT",
               (new Date(2014, 10, 2, 0, 0)).toUTCString());
  assertEquals("Sun Nov 02 2014 00:59:00 GMT-0700 (PDT)",
               (new Date(2014, 10, 2, 0, 59)).toString());
  assertEquals("Sun, 02 Nov 2014 07:59:00 GMT",
               (new Date(2014, 10, 2, 0, 59)).toUTCString());
  assertEquals("Sun Nov 02 2014 01:00:00 GMT-0700 (PDT)",
               (new Date(2014, 10, 2, 1, 0)).toString());
  assertEquals("Sun, 02 Nov 2014 08:00:00 GMT",
               (new Date(2014, 10, 2, 1, 0)).toUTCString());
  assertEquals("Sun Nov 02 2014 01:59:00 GMT-0700 (PDT)",
               (new Date(2014, 10, 2, 1, 59)).toString());
  assertEquals("Sun, 02 Nov 2014 08:59:00 GMT",
               (new Date(2014, 10, 2, 1, 59)).toUTCString());
  assertEquals("Sun Nov 02 2014 02:00:00 GMT-0800 (PST)",
               (new Date(2014, 10, 2, 2, 0)).toString());
  assertEquals("Sun, 02 Nov 2014 10:00:00 GMT",
               (new Date(2014, 10, 2, 2, 0)).toUTCString());
  assertEquals("Sun Nov 02 2014 02:59:00 GMT-0800 (PST)",
               (new Date(2014, 10, 2, 2, 59)).toString());
  assertEquals("Sun, 02 Nov 2014 10:59:00 GMT",
               (new Date(2014, 10, 2, 2, 59)).toUTCString());
  assertEquals("Sun Nov 02 2014 03:00:00 GMT-0800 (PST)",
               (new Date(2014, 10, 2, 3, 0)).toString());
  assertEquals("Sun, 02 Nov 2014 11:00:00 GMT",
               (new Date(2014, 10, 2, 3, 0)).toUTCString());
  assertEquals("Sun Nov 02 2014 03:59:00 GMT-0800 (PST)",
               (new Date(2014, 10, 2, 3, 59)).toString());
  assertEquals("Sun, 02 Nov 2014 11:59:00 GMT",
               (new Date(2014, 10, 2, 3, 59)).toUTCString());
  assertEquals("Sun Nov 02 2014 04:00:00 GMT-0800 (PST)",
               (new Date(2014, 10, 2, 4, 0)).toString());
  assertEquals("Sun, 02 Nov 2014 12:00:00 GMT",
               (new Date(2014, 10, 2, 4, 0)).toUTCString());
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/29296d7^!)  
[src/date.h](https://cs.chromium.org/chromium/src/v8/src/date.h?cl=29296d7)  
[test/mjsunit/regress/regress-3116.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3116.js?cl=29296d7)  
  
---   

## **v8 issue:3612**  
   
**[Issue: Sparse variant of Array.prototype.reverse does not handle side-effects due to getters/setters](https://crbug.com/v8/3612)**  
**[Commit: Add test case demonstrating bug in SparseReverse when combined with getters/setters](https://chromium.googlesource.com/v8/v8/+/a0f80ed)**  
  
Date(Commit): Tue Oct 07 19:22:44 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/628383002](https://codereview.chromium.org/628383002)  
Regress: [mjsunit/regress/regress-3612.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3612.js)  
```javascript
var a = [1];
var getterValue = 2;
var endIndex = 0xffff;
Object.defineProperty(a, endIndex, {
  get: function() {
    this[1] = 3;
    return getterValue;
  },
  set: function(val) {
    getterValue = val;
  },
  configurable: true,
  enumerable: true
});
a.reverse();
assertFalse(a.hasOwnProperty(1));
assertEquals(3, a[endIndex-1]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a0f80ed^!)  
[test/mjsunit/bugs/bug-3612.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-3612.js?cl=a0f80ed)  
  
---   

## **v8 issue:3564**  
   
**[Issue: String comparison in TurboFan is borked](https://crbug.com/v8/3564)**  
**[Commit: Fix typed lowering to number comparison.](https://chromium.googlesource.com/v8/v8/+/429924b)**  
  
Date(Commit): Tue Sep 16 11:33:30 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/574653002](https://codereview.chromium.org/574653002)  
Regress: [mjsunit/regress/regress-3564.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3564.js)  
```javascript
function MyWrapper(v) {
  return { valueOf: function() { return v } };
}

function f() {
  assertTrue("a" < "x");
  assertTrue("a" < new String("y"));
  assertTrue("a" < new MyWrapper("z"));

  assertFalse("a" > "x");
  assertFalse("a" > new String("y"));
  assertFalse("a" > new MyWrapper("z"));
}

f();
f();
%OptimizeFunctionOnNextCall(f);
f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/429924b^!)  
[src/compiler/js-typed-lowering.cc](https://cs.chromium.org/chromium/src/v8/src/compiler/js-typed-lowering.cc?cl=429924b)  
[test/mjsunit/regress/regress-3564.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3564.js?cl=429924b)  
  
---   

## **v8 issue:3476**  
   
**[Issue: String addition in Crankshaft is borked](https://crbug.com/v8/3476)**  
**[Commit: Fix handling of potential string additions in hydrogen.](https://chromium.googlesource.com/v8/v8/+/57c315d)**  
  
Date(Commit): Tue Jul 29 14:53:11 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/423083004](https://codereview.chromium.org/423083004)  
Regress: [mjsunit/regress/regress-3476.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3476.js)  
```javascript
function MyWrapper(v) {
  return { valueOf: function() { return v } };
}

function f() {
  assertEquals("truex", true + "x");
  assertEquals("truey", true + new String("y"));
  assertEquals("truez", true + new MyWrapper("z"));

  assertEquals("xtrue", "x" + true);
  assertEquals("ytrue", new String("y") + true);
  assertEquals("ztrue", new MyWrapper("z") + true);
}

f();
f();
%OptimizeFunctionOnNextCall(f);
f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/57c315d^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=57c315d)  
[test/mjsunit/regress/regress-3476.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3476.js?cl=57c315d)  
  
---   

## **v8 issue:3462**  
   
**[Issue: FunctionPrototypeSetter is not correct](https://crbug.com/v8/3462)**  
**[Commit: Fix issue with setters and their holders in accessors.cc](https://chromium.googlesource.com/v8/v8/+/77a37e4)**  
  
Date(Commit): Thu Jul 24 16:42:54 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/417793002](https://codereview.chromium.org/417793002)  
Regress: [mjsunit/regress/regress-3462.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3462.js)  
```javascript
function TestFunctionPrototypeSetter() {
  var f = function() {};
  var o = {__proto__: f};
  o.prototype = 42;
  assertEquals(42, o.prototype);
  assertTrue(o.hasOwnProperty('prototype'));
}
TestFunctionPrototypeSetter();


function TestFunctionPrototypeSetterOnValue() {
  var f = function() {};
  var fp = f.prototype;
  Number.prototype.__proto__ = f;
  var n = 42;
  var o = {};
  n.prototype = o;
  assertEquals(fp, n.prototype);
  assertEquals(fp, f.prototype);
  assertFalse(Number.prototype.hasOwnProperty('prototype'));
}
TestFunctionPrototypeSetterOnValue();


function TestArrayLengthSetter() {
  var a = [1];
  var o = {__proto__: a};
  o.length = 2;
  assertEquals(2, o.length);
  assertEquals(1, a.length);
  assertTrue(o.hasOwnProperty('length'));
}
TestArrayLengthSetter();


function TestArrayLengthSetterOnValue() {
  Number.prototype.__proto__ = [1];
  var n = 42;
  n.length = 2;
  assertEquals(1, n.length);
  assertFalse(Number.prototype.hasOwnProperty('length'));
}
TestArrayLengthSetterOnValue();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/77a37e4^!)  
[src/accessors.cc](https://cs.chromium.org/chromium/src/v8/src/accessors.cc?cl=77a37e4)  
[test/mjsunit/es7/object-observe.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/es7/object-observe.js?cl=77a37e4)  
[test/mjsunit/regress/regress-3462.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3462.js?cl=77a37e4)  
  
---   

## **v8 issue:3456**  
   
**[Issue: Prefix operation parsing broken](https://crbug.com/v8/3456)**  
**[Commit: Fix checks to bit flags of PreParserExpression](https://chromium.googlesource.com/v8/v8/+/b5220b2)**  
  
Date(Commit): Wed Jul 23 13:29:24 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/410873004](https://codereview.chromium.org/410873004)  
Regress: [mjsunit/regress/regress-3456.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3456.js)  
```javascript
function f() { ++(this.foo) }  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b5220b2^!)  
[src/preparser.h](https://cs.chromium.org/chromium/src/v8/src/preparser.h?cl=b5220b2)  
[test/mjsunit/regress-3456.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress-3456.js?cl=b5220b2)  
  
---   

## **v8 issue:3426**  
   
**[Issue: Redeclaration checking wrong for locally strict functions](https://crbug.com/v8/3426)**  
**[Commit: Fix several issues with ES6 redeclaration checks](https://chromium.googlesource.com/v8/v8/+/2375327)**  
  
Date(Commit): Wed Jul 09 11:35:05 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/377513006](https://codereview.chromium.org/377513006)  
Regress: [mjsunit/es6/regress/regress-3426.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-3426.js)  
```javascript
assertThrows("(function() { 'use strict'; { let f; var f; } })", SyntaxError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2375327^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=2375327)  
[test/mjsunit/harmony/block-conflicts.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/block-conflicts.js?cl=2375327)  
[test/mjsunit/harmony/block-let-declaration.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/block-let-declaration.js?cl=2375327)  
[test/mjsunit/harmony/regress/regress-3426.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/regress/regress-3426.js?cl=2375327)  
[tools/generate-runtime-tests.py](https://cs.chromium.org/chromium/src/v8/tools/generate-runtime-tests.py?cl=2375327)  
  
---   

## **v8 issue:3404**  
   
**[Issue: CaptureStackTrace's stack accessors reconfigure unconfigurable properties](https://crbug.com/v8/3404)**  
**[Commit: Fix stack trace accessor behavior.](https://chromium.googlesource.com/v8/v8/+/e1d80e2)**  
  
Date(Commit): Mon Jun 30 11:48:20 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/343563009](https://codereview.chromium.org/343563009)  
Regress: [mjsunit/regress/regress-3404.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3404.js)  
```javascript
function testError(error) {
  
  var desc1 = Object.getOwnPropertyDescriptor(error, "stack");
  Object.defineProperty(error, "stack",
                        {get: desc1.get, set: desc1.set, configurable: false});

  var desc2 = Object.getOwnPropertyDescriptor(error, "stack");
  assertFalse(desc2.configurable);
  assertEquals(desc1.get, desc2.get);
  assertEquals(desc2.get, desc2.get);
}

function stackOverflow() {
  function f() { f(); }
  try { f() } catch (e) { return e; }
}

function referenceError() {
  try { g() } catch (e) { return e; }
}

testError(referenceError());
testError(stackOverflow());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e1d80e2^!)  
[include/v8.h](https://cs.chromium.org/chromium/src/v8/include/v8.h?cl=e1d80e2)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=e1d80e2)  
[src/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap.cc?cl=e1d80e2)  
[src/heap.h](https://cs.chromium.org/chromium/src/v8/src/heap.h?cl=e1d80e2)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=e1d80e2)  
[src/isolate.h](https://cs.chromium.org/chromium/src/v8/src/isolate.h?cl=e1d80e2)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=e1d80e2)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=e1d80e2)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=e1d80e2)  
[test/mjsunit/regress/regress-3404.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3404.js?cl=e1d80e2)  
[test/mjsunit/runtime-gen/collectstacktrace.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/runtime-gen/collectstacktrace.js?cl=e1d80e2)  
[test/mjsunit/runtime-gen/getandclearoverflowedstacktrace.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/runtime-gen/getandclearoverflowedstacktrace.js?cl=e1d80e2)  
[test/mjsunit/stack-traces-overflow.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/stack-traces-overflow.js?cl=e1d80e2)  
[test/mjsunit/stack-traces.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/stack-traces.js?cl=e1d80e2)  
[tools/generate-runtime-tests.py](https://cs.chromium.org/chromium/src/v8/tools/generate-runtime-tests.py?cl=e1d80e2)  
  
---   

## **v8 issue:3392**  
   
**[Issue: Miscompilation of numeric comparison](https://crbug.com/v8/3392)**  
**[Commit: Fix representation of Phis for mutable-heapnumber-in-object-literal properties](https://chromium.googlesource.com/v8/v8/+/aae24ae)**  
  
Date(Commit): Mon Jun 16 08:41:29 2014  
Type: ----  
Code Review: [https://codereview.chromium.org/328343004](https://codereview.chromium.org/328343004)  
Regress: [mjsunit/regress/regress-3392.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3392.js)  
```javascript
function foo() {
  var a = {b: -1.5};
  for (var i = 0; i < 1; i++) {
    a.b = 1;
  }
  assertTrue(0 <= a.b);
}

foo();
foo();
%OptimizeFunctionOnNextCall(foo);
foo();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/aae24ae^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=aae24ae)  
[test/mjsunit/regress/regress-3392.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3392.js?cl=aae24ae)  
  
---   

## **v8 issue:3380**  
   
**[Issue: Bug with x64](https://crbug.com/v8/3380)**  
**[Commit: Fix unsigned comparisons.](https://chromium.googlesource.com/v8/v8/+/2931f09)**  
  
Date(Commit): Wed Jun 11 09:09:15 2014  
Type: ----  
Code Review: [https://codereview.chromium.org/325133004](https://codereview.chromium.org/325133004)  
Regress: [mjsunit/regress/regress-3380.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3380.js)  
```javascript
function foo(a) {
  return (a[0] >>> 0) > 0;
}

var a = new Uint32Array([4]);
var b = new Uint32Array([0x80000000]);
assertTrue(foo(a));
assertTrue(foo(a));
%OptimizeFunctionOnNextCall(foo);
assertTrue(foo(b))  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2931f09^!)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=2931f09)  
[src/arm64/lithium-codegen-arm64.cc](https://cs.chromium.org/chromium/src/v8/src/arm64/lithium-codegen-arm64.cc?cl=2931f09)  
[src/hydrogen-uint32-analysis.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-uint32-analysis.cc?cl=2931f09)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=2931f09)  
[src/mips/lithium-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/lithium-codegen-mips.cc?cl=2931f09)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=2931f09)  
[src/x87/lithium-codegen-x87.cc](https://cs.chromium.org/chromium/src/v8/src/x87/lithium-codegen-x87.cc?cl=2931f09)  
[test/mjsunit/regress/regress-3380.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3380.js?cl=2931f09)  
  
---   

## **v8 issue:3359**  
   
**[Issue: Fatal error in LCodeGenBase::CheckEnvironmentUsage](https://crbug.com/v8/3359)**  
**[Commit: HRor and HSar can deoptimize.](https://chromium.googlesource.com/v8/v8/+/5cd009a)**  
  
Date(Commit): Fri May 30 16:12:25 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/309483002](https://codereview.chromium.org/309483002)  
Regress: [mjsunit/regress/regress-3359.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3359.js)  
```javascript
function f() {
  return 1 >> Boolean.constructor + 1;
}
assertEquals(1, f());
%OptimizeFunctionOnNextCall(f);
assertEquals(1, f());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5cd009a^!)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=5cd009a)  
[test/mjsunit/regress/regress-3359.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3359.js?cl=5cd009a)  
  
---   

## **v8 issue:3334**  
   
**[Issue: Object.defineProperty(fn,"prototype",{ value: .. , writable: false }) fails](https://crbug.com/v8/3334)**  
**[Commit: Changing the attributes of a data property implemented with](https://chromium.googlesource.com/v8/v8/+/8c54a37)**  
  
Date(Commit): Wed May 28 09:58:27 2014  
Type: ----  
Code Review: [https://codereview.chromium.org/262053011](https://codereview.chromium.org/262053011)  
Regress: [mjsunit/regress/regress-3334.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3334.js)  
```javascript
function foo(){}
Object.defineProperty(foo, "prototype", { value: 2 });
assertEquals(2, foo.prototype);

function bar(){}
Object.defineProperty(bar, "prototype", { value: 2, writable: false });
assertEquals(2, bar.prototype);
assertThrows(function() { "use strict"; bar.prototype = 10; }, TypeError);
assertEquals(false, Object.getOwnPropertyDescriptor(bar,"prototype").writable);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8c54a37^!)  
[src/accessors.cc](https://cs.chromium.org/chromium/src/v8/src/accessors.cc?cl=8c54a37)  
[src/accessors.h](https://cs.chromium.org/chromium/src/v8/src/accessors.h?cl=8c54a37)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=8c54a37)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=8c54a37)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=8c54a37)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=8c54a37)  
[test/cctest/test-api.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-api.cc?cl=8c54a37)  
[test/mjsunit/regress/regress-3334.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3334.js?cl=8c54a37)  
  
---   

## **v8 issue:3307**  
   
**[Issue: Incorrect handling of mutable double boxes by allocation-sinking](https://crbug.com/v8/3307)**  
**[Commit: Fix representation inference for mutable double boxes.](https://chromium.googlesource.com/v8/v8/+/cf448aa)**  
  
Date(Commit): Fri May 23 14:02:08 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/298723014](https://codereview.chromium.org/298723014)  
Regress: [mjsunit/regress/regress-3307.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3307.js)  
```javascript
function p(x) {
  this.x = x;
}

function f() {
  var a = new p(1), b = new p(2);
  for (var i = 0; i < 1; i++) {
    a.x += b.x;
  }
  return a.x;
}

new p(0.1);  

assertEquals(3, f());
assertEquals(3, f());
%OptimizeFunctionOnNextCall(f);
assertEquals(3, f());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cf448aa^!)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=cf448aa)  
[test/mjsunit/regress/regress-3307.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3307.js?cl=cf448aa)  
  
---   

## **v8 issue:3294**  
   
**[Issue: Inconsistent Error.stack behaviour](https://crbug.com/v8/3294)**  
**[Commit: Error stack getter should not overwrite itself with a data property.](https://chromium.googlesource.com/v8/v8/+/1a9649a)**  
  
Date(Commit): Mon Apr 28 12:14:36 2014  
Type: ----  
Code Review: [https://codereview.chromium.org/258933007](https://codereview.chromium.org/258933007)  
Regress: [mjsunit/regress/regress-3294.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3294.js)  
```javascript
var e = new Error('message');
var keys = Object.keys(e);
e.stack;
assertEquals(keys, Object.keys(e));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1a9649a^!)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=1a9649a)  
[test/mjsunit/regress/regress-3294.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3294.js?cl=1a9649a)  
  
---   

## **v8 issue:3255**  
   
**[Issue: Grow KeyedStoreIC doesn't respect String value wrappers](https://crbug.com/v8/3255)**  
**[Commit: Fix for v8:3255 Grow KeyedStoreIC doesn't respect String value wrappers](https://chromium.googlesource.com/v8/v8/+/eaacd96)**  
  
Date(Commit): Mon Apr 07 07:52:24 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/226053002](https://codereview.chromium.org/226053002)  
Regress: [mjsunit/regress/regress-3255.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3255.js)  
```javascript
var arr = [];
var str = new String('x');

function f(a,b) {
  a[b] = 1;
}

f(arr, 0);
f(str, 0);
f(str, 0);


%SetKeyedProperty(str, 1, 'y', 0);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/eaacd96^!)  
[src/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic.cc?cl=eaacd96)  
[test/mjsunit/regress/regress-3255.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3255.js?cl=eaacd96)  
  
---   

## **v8 issue:3220**  
   
**[Issue: Date.toString: ReferenceError: cache is not defined](https://crbug.com/v8/3220)**  
**[Commit: Fix date cache in strict mode.](https://chromium.googlesource.com/v8/v8/+/e1e4071)**  
  
Date(Commit): Mon Mar 17 15:47:58 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/201753002](https://codereview.chromium.org/201753002)  
Regress: [mjsunit/regress/regress-3220.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3220.js)  
```javascript
String(new Date());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e1e4071^!)  
[src/date.js](https://cs.chromium.org/chromium/src/v8/src/date.js?cl=e1e4071)  
[test/mjsunit/regress/regress-3220.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3220.js?cl=e1e4071)  
  
---   

## **v8 issue:3204**  
   
**[Issue: Users of range analysis results assume SSI, but we have only "adhoc SSI in random places"](https://crbug.com/v8/3204)**  
**[Commit: Add regression test for range analysis bug.](https://chromium.googlesource.com/v8/v8/+/358e176)**  
  
Date(Commit): Fri Mar 14 09:54:26 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/200103002](https://codereview.chromium.org/200103002)  
Regress: [mjsunit/regress/regress-3204.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3204.js)  
```javascript
function SmiTaggingCanOverflow(x) {
 x = x | 0;
 if (x == 0) return;
 return x;
}

SmiTaggingCanOverflow(2147483647);
SmiTaggingCanOverflow(2147483647);
%OptimizeFunctionOnNextCall(SmiTaggingCanOverflow);
assertEquals(2147483647, SmiTaggingCanOverflow(2147483647));



function ModILeftCanBeNegative() {
  var x = 0;
  for (var i = -1; i < 0; ++i) x = i % 2;
  return x;
}

ModILeftCanBeNegative();
%OptimizeFunctionOnNextCall(ModILeftCanBeNegative);
assertEquals(-1, ModILeftCanBeNegative());



function ModIRightCanBeZero() {
  var x = 0;
  for (var i = -1; i <= 0; ++i) x = (2 % i) | 0;
  return x;
}

ModIRightCanBeZero();
%OptimizeFunctionOnNextCall(ModIRightCanBeZero);
ModIRightCanBeZero();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/358e176^!)  
[test/mjsunit/regress/regress-3204.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3204.js?cl=358e176)  
  
---   

## **v8 issue:3183**  
   
**[Issue: "Object #<Object> has no method push" on Array after deoptimization](https://crbug.com/v8/3183)**  
**[Commit: Deoptimization fix for HPushArgument.](https://chromium.googlesource.com/v8/v8/+/7ac668f)**  
  
Date(Commit): Wed Mar 05 12:45:46 2014  
Type: ----  
Code Review: [https://codereview.chromium.org/178193026](https://codereview.chromium.org/178193026)  
Regress: [mjsunit/regress/regress-3183.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3183.js)  
```javascript
(function DeoptimizeArgCallFunctionGeneric() {
  var a = [];

  function f1(method, array, elem, deopt) {
    assertEquals('push', method);
  }

  function f2() { }

  function bar(x, deopt, f) {
    f('push', a, [x], deopt + 0);
  }

  function foo() { return bar(arguments[0], arguments[1], arguments[2]); }
  function baz(f, deopt) { return foo("x", deopt, f); }

  baz(f1, 0);
  baz(f2, 0);
  %OptimizeFunctionOnNextCall(baz);
  baz(f1, "deopt");
})();


(function DeoptimizeArgGlobalFunctionGeneric() {
  var a = [];

  var f1;

  f1 = function(method, array, elem, deopt) {
    assertEquals('push', method);
  }

  function bar(x, deopt, f) {
    f1('push', a, [x], deopt + 0);
  }

  function foo() { return bar(arguments[0], arguments[1]); }
  function baz(deopt) { return foo("x", deopt); }

  baz(0);
  baz(0);
  %OptimizeFunctionOnNextCall(baz);
  baz("deopt");
})();


(function DeoptimizeArgCallFunctionRuntime() {
  var a = [];

  var f1;

  f1 = function(method, array, elem, deopt) {
    assertEquals('push', method);
  }

  function bar(x, deopt) {
    %_Call(f1, null, 'push', [x][0], ((deopt + 0), 1));
  }

  function foo() { return bar(arguments[0], arguments[1]); }
  function baz(deopt) { return foo(0, deopt); }

  baz(0);
  baz(0);
  %OptimizeFunctionOnNextCall(baz);
  baz("deopt");
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7ac668f^!)  
[src/a64/lithium-codegen-a64.cc](https://cs.chromium.org/chromium/src/v8/src/a64/lithium-codegen-a64.cc?cl=7ac668f)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=7ac668f)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=7ac668f)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=7ac668f)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=7ac668f)  
[src/lithium-allocator.h](https://cs.chromium.org/chromium/src/v8/src/lithium-allocator.h?cl=7ac668f)  
[src/lithium.cc](https://cs.chromium.org/chromium/src/v8/src/lithium.cc?cl=7ac668f)  
[src/lithium.h](https://cs.chromium.org/chromium/src/v8/src/lithium.h?cl=7ac668f)  
[src/mips/lithium-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/lithium-codegen-mips.cc?cl=7ac668f)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=7ac668f)  
[test/mjsunit/regress/regress-3183.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3183.js?cl=7ac668f)  
  
---   

## **v8 issue:3176**  
   
**[Issue: Optimistic bounds check generalization leads to repetetive deoptimization](https://crbug.com/v8/3176)**  
**[Commit: Fix optimistic BCE to back off after deopt](https://chromium.googlesource.com/v8/v8/+/37b6fd0)**  
  
Date(Commit): Mon Feb 24 13:15:31 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/177523002](https://codereview.chromium.org/177523002)  
Regress: [mjsunit/regress/regress-3176.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3176.js)  
```javascript
function foo(a) {
  var sum = 0;
  for (var i = 0; i < 10; i++) {
    sum += a[i];

    if (i > 6) {
      sum -= a[i - 4];
      sum -= a[i - 5];
    }
  }
  return sum;
}

var a = new Int32Array(10);

foo(a);
foo(a);
%OptimizeFunctionOnNextCall(foo);
foo(a);
%OptimizeFunctionOnNextCall(foo);
foo(a);
assertOptimized(foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/37b6fd0^!)  
[src/hydrogen-bce.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-bce.cc?cl=37b6fd0)  
[test/mjsunit/regress/regress-3176.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3176.js?cl=37b6fd0)  
  
---   

## **v8 issue:3158**  
   
**[Issue: A64: mjsunit/sparse-array-reverse fails on no_snap](https://crbug.com/v8/3158)**  
**[Commit: Fix dictionary element load to pass correct elements kind.](https://chromium.googlesource.com/v8/v8/+/6744ff6)**  
  
Date(Commit): Fri Feb 14 15:52:24 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/166653005](https://codereview.chromium.org/166653005)  
Regress: [mjsunit/regress/regress-3158.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3158.js)  
```javascript
Array.prototype[0] = 'a';
delete Array.prototype[0];

function foo(a, i) {
  return a[i];
}

var a = new Array(100000);
a[3] = 'x';

foo(a, 3);
foo(a, 3);
foo(a, 3);
%OptimizeFunctionOnNextCall(foo);
foo(a, 3);
Array.prototype[0] = 'a';
var z = foo(a, 0);
assertEquals('a', z);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6744ff6^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=6744ff6)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=6744ff6)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=6744ff6)  
[test/mjsunit/regress/regress-3158.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3158.js?cl=6744ff6)  
  
---   

## **v8 issue:3138**  
   
**[Issue: Empty variable statement ignored in with-statement](https://crbug.com/v8/3138)**  
**[Commit: Fix assignment of function name constant.](https://chromium.googlesource.com/v8/v8/+/68c7523)**  
  
Date(Commit): Fri Feb 14 12:40:47 2014  
Type: ----  
Code Review: [https://codereview.chromium.org/159903008](https://codereview.chromium.org/159903008)  
Regress: [mjsunit/regress/regress-3138.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3138.js)  
```javascript
(function f(){
   assertEquals("function", typeof f);
})();

(function f(){
   var f;  
   assertEquals("undefined", typeof f);
})();

(function f(){
   var f;
   assertEquals("undefined", typeof f);
   with ({});  
})();

assertEquals("undefined", typeof f);


(function() {
  var o = { a: 1 };
  with (o) {
    var a = 2;
  }
  assertEquals("undefined", typeof a);
  assertEquals(2, o.a);
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/68c7523^!)  
[src/a64/full-codegen-a64.cc](https://cs.chromium.org/chromium/src/v8/src/a64/full-codegen-a64.cc?cl=68c7523)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=68c7523)  
[src/full-codegen.h](https://cs.chromium.org/chromium/src/v8/src/full-codegen.h?cl=68c7523)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=68c7523)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=68c7523)  
[test/mjsunit/regress/regress-3138.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3138.js?cl=68c7523)  
  
---   

## **v8 issue:3159**  
   
**[Issue: Garbled typed array error messages](https://crbug.com/v8/3159)**  
**[Commit: Fix typed array error message.](https://chromium.googlesource.com/v8/v8/+/a676bc1)**  
  
Date(Commit): Fri Feb 14 09:33:03 2014  
Type: ----  
Code Review: [https://codereview.chromium.org/163293002](https://codereview.chromium.org/163293002)  
Regress: [mjsunit/regress/regress-3159.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3159.js)  
```javascript
try {
  new Uint32Array(new ArrayBuffer(1), 2, 3);
} catch (e) {
  assertEquals("start offset of Uint32Array should be a multiple of 4",
               e.message);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a676bc1^!)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=a676bc1)  
[src/typedarray.js](https://cs.chromium.org/chromium/src/v8/src/typedarray.js?cl=a676bc1)  
[test/mjsunit/regress/regress-3159.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3159.js?cl=a676bc1)  
  
---   

## **v8 issue:3135**  
   
**[Issue: JSON.stringify() executes getters multiple times when replacer array contains duplicates](https://crbug.com/v8/3135)**  
**[Commit: Fix spec violations in JSON.stringify wrt replacer array.](https://chromium.googlesource.com/v8/v8/+/f78bfaa)**  
  
Date(Commit): Tue Feb 11 10:45:39 2014  
Type: ----  
Code Review: [https://codereview.chromium.org/146623009](https://codereview.chromium.org/146623009)  
Regress: [mjsunit/regress/regress-3135.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3135.js)  
```javascript
assertEquals('{"x":1}', JSON.stringify({ x : 1 }, ["x", 1, "x", 1]));
assertEquals('{"1":1}', JSON.stringify({ 1 : 1 }, ["x", 1, "x", 1]));
assertEquals('{"1":1}', JSON.stringify({ 1 : 1 }, ["1", 1, "1", 1]));
assertEquals('{"1":1}', JSON.stringify({ 1 : 1 }, [1, "1", 1, "1"]));


var fired = 0;
var getter_obj = { get x() { fired++; return 2; } };
assertEquals('{"x":2}', JSON.stringify(getter_obj, ["x", "y", "x"]));
assertEquals(1, fired);


assertEquals('{"y":4,"x":3}', JSON.stringify({ x : 3, y : 4}, ["y", "x"]));
assertEquals('{"y":4,"1":2,"x":3}',
             JSON.stringify({ x : 3, y : 4, 1 : 2 }, ["y", 1, "x"]));



var a = { x : 8 };
assertEquals('{"__proto__":{"__proto__":null},"x":8}',
             JSON.stringify(a, ["__proto__", "x", "__proto__"]));
a.__proto__ = { x : 7 };
assertEquals('{"__proto__":{"__proto__":{"__proto__":null},"x":7},"x":8}',
             JSON.stringify(a, ["__proto__", "x"]));
var b = { __proto__: { x: 9 } };
assertEquals('{}', JSON.stringify(b));
assertEquals('{"x":9}', JSON.stringify(b, ["x"]));
var c = {x: 10};
Object.defineProperty(c, 'x', { enumerable: false });
assertEquals('{}', JSON.stringify(c));
assertEquals('{"x":10}', JSON.stringify(c, ["x"]));


assertEquals("[9,8,7]", JSON.stringify([9, 8, 7], [1, 1]));
var mixed_arr = [11,12,13];
mixed_arr.x = 10;
assertEquals('[11,12,13]', JSON.stringify(mixed_arr, [1, 0, 1]));


var mixed_obj = { x : 3 };
mixed_obj[0] = 6;
mixed_obj[1] = 5;
assertEquals('{"1":5,"0":6}', JSON.stringify(mixed_obj, [1, 0, 1]));


assertEquals('{"z":{"x":3},"x":1}',
             JSON.stringify({ x: 1, y:2, z: {x:3, b:4}}, ["z","x"]));


assertEquals('{}',
             JSON.stringify({ x : 1, "1": 1 }, [{}]));
assertEquals('{}',
             JSON.stringify({ x : 1, "1": 1 }, [true, undefined, null]));
assertEquals('{}',
             JSON.stringify({ x : 1, "1": 1 },
                            [{ toString: function() { return "x";} }]));
assertEquals('{}',
             JSON.stringify({ x : 1, "1": 1 },
                            [{ valueOf: function() { return 1;} }]));



assertEquals('{"toString":42}', JSON.stringify({ toString: 42 }, ["toString"]));


assertEquals('{"1":1,"s":"s"}',
             JSON.stringify({ 1: 1, s: "s" },
                            [new Number(1), new String("s")]));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f78bfaa^!)  
[src/json.js](https://cs.chromium.org/chromium/src/v8/src/json.js?cl=f78bfaa)  
[test/mjsunit/regress-3135.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress-3135.js?cl=f78bfaa)  
  
---   

## **v8 issue:2989**  
   
**[Issue: webkit/dfg-inline-arguments-* is flaky](https://crbug.com/v8/2989)**  
**[Commit: Simpler repro for bug 2989.](https://chromium.googlesource.com/v8/v8/+/3c2363f)**  
  
Date(Commit): Fri Jan 31 16:12:58 2014  
Type: Bug  
Code Review: [https://codereview.chromium.org/151403003](https://codereview.chromium.org/151403003)  
Regress: [mjsunit/regress/regress-2989.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2989.js)  
```javascript
if (isNeverOptimizeLiteMode()) {
  print("Warning: skipping test that requires optimization in Lite mode.");
  quit(0);
}

(function ArgumentsObjectChange() {
  function f(x) {
      x = 42;
      return f.arguments[0];
  }

  f(0);
  %OptimizeFunctionOnNextCall(f);
  assertEquals(42, f(0));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3c2363f^!)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=3c2363f)  
[test/mjsunit/regress/regress-2989.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2989.js?cl=3c2363f)  
[test/webkit/webkit.status](https://cs.chromium.org/chromium/src/v8/test/webkit/webkit.status?cl=3c2363f)  
  
---   

## **v8 issue:634**  
   
**[Issue: debug-handle test fails on ia32 v8 running on x64 linux machine](https://crbug.com/v8/634)**  
**[Commit: Speed up some mjsunit test cases and clean up test expectations for arm and mips.](https://chromium.googlesource.com/v8/v8/+/cde3ed1)**  
  
Date(Commit): Fri Jan 24 11:36:45 2014  
Type: ----  
Code Review: [https://codereview.chromium.org/138503008](https://codereview.chromium.org/138503008)  
Regress: [mjsunit/regress/regress-634-debug.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-634-debug.js)  
```javascript
function f() {
  %SetAllocationTimeout(1, 0, false);
  a = new Array(0);
  assertEquals(0, a.length);
  assertEquals(0, a.length);
  %SetAllocationTimeout(-1, -1, true);
}

f();
f();
%OptimizeFunctionOnNextCall(f);
f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cde3ed1^!)  
[test/mjsunit/compiler/alloc-number-debug.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/alloc-number-debug.js?cl=cde3ed1)  
[test/mjsunit/compiler/regress-arguments.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-arguments.js?cl=cde3ed1)  
[test/mjsunit/compiler/regress-rep-change.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-rep-change.js?cl=cde3ed1)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=cde3ed1)  
[test/mjsunit/regress/regress-490.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-490.js?cl=cde3ed1)  
[test/mjsunit/regress/regress-634-debug.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-634-debug.js?cl=cde3ed1)  
  
---   

## **v8 issue:3026**  
   
**[Issue: Minor spec conformance issue in String.split()](https://crbug.com/v8/3026)**  
**[Commit: Fix small spec violation in String.prototype.split.](https://chromium.googlesource.com/v8/v8/+/cd7d61cf)**  
  
Date(Commit): Mon Dec 23 10:01:22 2013  
Type: ----  
Code Review: [https://codereview.chromium.org/119093002](https://codereview.chromium.org/119093002)  
Regress: [mjsunit/regress/regress-3026.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3026.js)  
```javascript
assertEquals([], "abc".split(undefined, 0));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cd7d61cf^!)  
[src/string.js](https://cs.chromium.org/chromium/src/v8/src/string.js?cl=cd7d61cf)  
[test/mjsunit/regress/regress-3026.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3026.js?cl=cd7d61cf)  
[test/mjsunit/string-split.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/string-split.js?cl=cd7d61cf)  
  
---   

## **v8 issue:3039**  
   
**[Issue: ARM: Division in simulator breaks for certain inputs](https://crbug.com/v8/3039)**  
**[Commit: Avoid FP exceptions when doing integer division.](https://chromium.googlesource.com/v8/v8/+/e1db6d8)**  
  
Date(Commit): Mon Dec 09 10:15:19 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/104003004](https://codereview.chromium.org/104003004)  
Regress: [mjsunit/regress/regress-3039.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3039.js)  
```javascript
function do_div(x, y) {
  return (x / y) | 0;
}


assertEquals(17, do_div(51, 3));
assertEquals(13, do_div(65, 5));
%OptimizeFunctionOnNextCall(do_div);
assertEquals(11, do_div(77, 7));


assertEquals(-2147483648, do_div(-2147483648, -1));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e1db6d8^!)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=e1db6d8)  
[test/mjsunit/div-mul-minus-one.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/div-mul-minus-one.js?cl=e1db6d8)  
[test/mjsunit/regress/regress-3039.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3039.js?cl=e1db6d8)  
  
---   

## **v8 issue:3032**  
   
**[Issue: Failed assertion with OSR in BuildBinaryOperation for Token::MOD](https://crbug.com/v8/3032)**  
**[Commit: Fix invalid assertion with OSR in BuildBinaryOperation.](https://chromium.googlesource.com/v8/v8/+/aa83f29)**  
  
Date(Commit): Mon Dec 02 13:12:07 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/98623004](https://codereview.chromium.org/98623004)  
Regress: [mjsunit/regress/regress-3032.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3032.js)  
```javascript
for (var i = 0; i < 10; i++) { if (i == 5) %OptimizeOsr(); }
var xl = 4096;
var z = i % xl;  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/aa83f29^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=aa83f29)  
[test/mjsunit/regress/regress-3032.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3032.js?cl=aa83f29)  
  
---   

## **v8 issue:3029**  
   
**[Issue: Dematerialized objects not materialized in OptimizedFrame::Summarize](https://crbug.com/v8/3029)**  
**[Commit: Handle captured objects in OptimizedFrame::Summarize.](https://chromium.googlesource.com/v8/v8/+/db915fe)**  
  
Date(Commit): Mon Dec 02 12:11:02 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/96773002](https://codereview.chromium.org/96773002)  
Regress: [mjsunit/regress/regress-3029.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3029.js)  
```javascript
function c(x) {
  undefined.boom();
}

function f() {
  return new c();
}

function g() {
  f();
}

assertThrows("g()", TypeError);
assertThrows("g()", TypeError);
%OptimizeFunctionOnNextCall(g);
assertThrows("g()", TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/db915fe^!)  
[src/frames.cc](https://cs.chromium.org/chromium/src/v8/src/frames.cc?cl=db915fe)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=db915fe)  
[src/isolate.h](https://cs.chromium.org/chromium/src/v8/src/isolate.h?cl=db915fe)  
[test/cctest/test-debug.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-debug.cc?cl=db915fe)  
[test/mjsunit/regress/regress-3029.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3029.js?cl=db915fe)  
  
---   

## **v8 issue:3027**  
   
**[Issue: The n-arguments Array constructor might exceed allocation limit](https://crbug.com/v8/3027)**  
**[Commit: Fix missing bounds check in n-arguments Array constructor.](https://chromium.googlesource.com/v8/v8/+/d53e387)**  
  
Date(Commit): Thu Nov 28 09:29:57 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/92103003](https://codereview.chromium.org/92103003)  
Regress: [mjsunit/regress/regress-3027.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3027.js)  
```javascript
function boom() {
  var args = [];
  for (var i = 0; i < 125000; i++) {
    args.push(i);
  }
  return Array.apply(Array, args);
}

var array = boom();

assertEquals(125000, array.length);
assertEquals(124999, array[124999]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d53e387^!)  
[src/code-stubs-hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/code-stubs-hydrogen.cc?cl=d53e387)  
[test/mjsunit/regress/regress-3027.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3027.js?cl=d53e387)  
  
---   

## **v8 issue:3025**  
   
**[Issue: number.toString(5) doesn't generate the correct result.](https://crbug.com/v8/3025)**  
**[Commit: Increase precision for base conversion for large integers.](https://chromium.googlesource.com/v8/v8/+/ab96631)**  
  
Date(Commit): Tue Nov 26 15:48:13 2013  
Type: ----  
Code Review: [https://codereview.chromium.org/88583002](https://codereview.chromium.org/88583002)  
Regress: [mjsunit/regress/regress-3025.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3025.js)  
```javascript
var n = 0x8000000000000800;
assertEquals(n, 9223372036854778000);
var s = n.toString(5);
var v = parseInt(s, 5);
assertEquals(n, v);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ab96631^!)  
[src/conversions.cc](https://cs.chromium.org/chromium/src/v8/src/conversions.cc?cl=ab96631)  
[test/mjsunit/regress/regress-3025.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3025.js?cl=ab96631)  
  
---   

## **v8 issue:3010**  
   
**[Issue: Large object literal definitions get mangled.](https://crbug.com/v8/3010)**  
**[Commit: Match max property descriptor length to corresponding bit fields](https://chromium.googlesource.com/v8/v8/+/f27f2fa)**  
  
Date(Commit): Mon Nov 18 11:44:06 2013  
Type: ----  
Code Review: [https://codereview.chromium.org/72333004](https://codereview.chromium.org/72333004)  
Regress: [mjsunit/regress/regress-3010.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-3010.js)  
```javascript
(function() {
  function testOneSize(current_size) {
    var eval_string = 'obj = {';
    for (var current = 0; current <= current_size; ++current) {
      eval_string += 'k' + current + ':' + current + ','
    }
    eval_string += '};';
    eval(eval_string);
    for (var i = 0; i <= current_size; i++) {
      assertEquals(i, obj['k'+i]);
    }
    var current_number = 0;
    for (var x in obj) {
      assertEquals(current_number, obj[x]);
      current_number++;
    }
  }

  testOneSize(127);
  testOneSize(128);
  testOneSize(129);

  testOneSize(255);
  testOneSize(256);
  testOneSize(257);

  testOneSize(511);
  testOneSize(512);
  testOneSize(513);

  testOneSize(1023);
  testOneSize(1024);
  testOneSize(1025);

  testOneSize(2047);
  testOneSize(2048);
  testOneSize(2049);
}())  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f27f2fa^!)  
[src/arm/macro-assembler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.cc?cl=f27f2fa)  
[src/handles.cc](https://cs.chromium.org/chromium/src/v8/src/handles.cc?cl=f27f2fa)  
[src/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap.cc?cl=f27f2fa)  
[src/ia32/macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.cc?cl=f27f2fa)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=f27f2fa)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=f27f2fa)  
[src/property-details.h](https://cs.chromium.org/chromium/src/v8/src/property-details.h?cl=f27f2fa)  
[src/x64/macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.cc?cl=f27f2fa)  
[test/mjsunit/regress/regress-3010.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-3010.js?cl=f27f2fa)  
  
---   

## **v8 issue:2987**  
   
**[Issue: branches/3.22: wrong behavior for Dart-compiled DeltaBlue variant](https://crbug.com/v8/2987)**  
**[Commit: Make HCapturedObjects non-deletable for DCE.](https://chromium.googlesource.com/v8/v8/+/59536de)**  
  
Date(Commit): Thu Nov 07 16:07:19 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/64433002](https://codereview.chromium.org/64433002)  
Regress: [mjsunit/regress/regress-2987.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2987.js)  
```javascript
function constructor() {
  this.x = 0;
}

var deopt = { deopt:false };
function boogeyman(mode, value) {
  var object = new constructor();
  if (mode) {
    object.x = 1;
  } else {
    object.x = 2;
  }
  deopt.deopt;
  assertEquals(value, object.x);
}

boogeyman(true, 1);
boogeyman(true, 1);
boogeyman(false, 2);
boogeyman(false, 2);
%OptimizeFunctionOnNextCall(boogeyman);
boogeyman(false, 2);
delete deopt.deopt;
boogeyman(false, 2);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/59536de^!)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=59536de)  
[test/mjsunit/regress/regress-2987.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2987.js?cl=59536de)  
  
---   

## **v8 issue:2984**  
   
**[Issue: "\xff".toUpperCase() gives incorrect result.](https://crbug.com/v8/2984)**  
**[Commit: Fix y-umlaut to uppercase.](https://chromium.googlesource.com/v8/v8/+/eb550c6)**  
  
Date(Commit): Thu Nov 07 09:08:34 2013  
Type: ----  
Code Review: [https://codereview.chromium.org/59853006](https://codereview.chromium.org/59853006)  
Regress: [mjsunit/regress/regress-2984.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2984.js)  
```javascript
assertEquals("\u0178", "\xff".toUpperCase());
assertEquals("abcdefghijklmn\xffopq",
             ("ABCDEFGHIJKL" + "MN\u0178OPQ").toLowerCase());
assertEquals("\xff", "\u0178".toLowerCase());
assertEquals("ABCDEFGHIJKLMN\u0178OPQ",
             ("abcdefghijk" + "lmn\xffopq").toUpperCase());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/eb550c6^!)  
[src/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap.cc?cl=eb550c6)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=eb550c6)  
[src/unicode.h](https://cs.chromium.org/chromium/src/v8/src/unicode.h?cl=eb550c6)  
[test/mjsunit/regress/regress-2984.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2984.js?cl=eb550c6)  
  
---   

## **v8 issue:2980**  
   
**[Issue: Regression: Deleting the last key in an object may make the object disappear.](https://crbug.com/v8/2980)**  
**[Commit: Add missing negative dictionary lookup to NonexistentHandlerFrontend](https://chromium.googlesource.com/v8/v8/+/2ebfd6e)**  
  
Date(Commit): Mon Nov 04 14:14:09 2013  
Type: ----  
Code Review: [https://codereview.chromium.org/57433003](https://codereview.chromium.org/57433003)  
Regress: [mjsunit/regress/regress-2980.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2980.js)  
```javascript
function test(expected, holder) {
  assertEquals(expected, holder.property);
}

var holder = {}
holder.__proto__ = null;
holder.property = "foo";
delete holder.property;
test(undefined, holder);
test(undefined, holder);
test(undefined, holder);
holder.property = "bar";
test("bar", holder);
test("bar", holder);



function test2(expected, holder) {
  assertEquals(expected, holder.prop2);
}

var holder2 = {}
holder2.prop2 = "foo";
holder2.__proto__ = null;
function Receiver() {}
Receiver.prototype = holder2;

var rec2 = new Receiver();
delete holder2.prop2;

test2(undefined, rec2);
test2(undefined, rec2);
test2(undefined, rec2);
holder2.prop2 = "bar";
test2("bar", rec2);
test2("bar", rec2);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2ebfd6e^!)  
[src/arm/stub-cache-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/stub-cache-arm.cc?cl=2ebfd6e)  
[src/ia32/stub-cache-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/stub-cache-ia32.cc?cl=2ebfd6e)  
[src/mips/stub-cache-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/stub-cache-mips.cc?cl=2ebfd6e)  
[src/stub-cache.cc](https://cs.chromium.org/chromium/src/v8/src/stub-cache.cc?cl=2ebfd6e)  
[src/stub-cache.h](https://cs.chromium.org/chromium/src/v8/src/stub-cache.h?cl=2ebfd6e)  
[src/x64/stub-cache-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/stub-cache-x64.cc?cl=2ebfd6e)  
[test/mjsunit/regress/regress-2980.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2980.js?cl=2ebfd6e)  
  
---   

## **v8 issue:2931**  
   
**[Issue: `new TypedArray(n)` not ArrayBuffer tamper proof](https://crbug.com/v8/2931)**  
**[Commit: Do not look up ArrayBuffer on global object in typed array constructor.](https://chromium.googlesource.com/v8/v8/+/5ccd697)**  
  
Date(Commit): Tue Oct 15 11:27:12 2013  
Type: ----  
Code Review: [https://codereview.chromium.org/27238009](https://codereview.chromium.org/27238009)  
Regress: [mjsunit/regress/regress-2931.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2931.js)  
```javascript
this.ArrayBuffer = function() { throw Error('BAM'); };
var u8 = new Uint8Array(100);
assertSame(100, u8.byteLength);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5ccd697^!)  
[src/typedarray.js](https://cs.chromium.org/chromium/src/v8/src/typedarray.js?cl=5ccd697)  
[test/mjsunit/regress/regress-2931.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2931.js?cl=5ccd697)  
  
---   

## **v8 issue:2843**  
   
**[Issue: Flaky error on the 3.20 branch](https://crbug.com/v8/2843)**  
**[Commit: Delete HAbnormalExit. It does more harm than good.](https://chromium.googlesource.com/v8/v8/+/3747b5b)**  
  
Date(Commit): Wed Aug 28 15:00:30 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/23462007](https://codereview.chromium.org/23462007)  
Regress: [mjsunit/regress/regress-2843.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2843.js)  
```javascript
function bailout() { throw "bailout"; }
var global;

function foo(x, fun) {
  var a = x + 1;
  var b = x + 2;  
  global = true;  
  fun();
  return a;
}

assertThrows("foo(1, bailout)");
assertThrows("foo(1, bailout)");
%OptimizeFunctionOnNextCall(foo);
assertThrows("foo(1, bailout)");
assertEquals(2, foo(1, function() {}));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3747b5b^!)  
[src/arm/lithium-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-arm.cc?cl=3747b5b)  
[src/hydrogen-environment-liveness.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-environment-liveness.cc?cl=3747b5b)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=3747b5b)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=3747b5b)  
[src/ia32/lithium-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.cc?cl=3747b5b)  
[src/mips/lithium-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/lithium-mips.cc?cl=3747b5b)  
[src/x64/lithium-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.cc?cl=3747b5b)  
[test/mjsunit/regress/regress-2843.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2843.js?cl=3747b5b)  
  
---   

## **v8 issue:2790**  
   
**[Issue: Sparse array constructor gives "illegal access" at 98297 elements and beyond](https://crbug.com/v8/2790)**  
**[Commit: Lower kInitialMaxFastElementArray constant to 95K](https://chromium.googlesource.com/v8/v8/+/11fd577)**  
  
Date(Commit): Mon Aug 26 13:04:05 2013  
Type: ----  
Code Review: [https://codereview.chromium.org/22877039](https://codereview.chromium.org/22877039)  
Regress: [mjsunit/regress/regress-2790.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2790.js)  
```javascript
for (var i = 1000; i < 1000000; i += 19703) {
  new Array(i);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/11fd577^!)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=11fd577)  
[test/mjsunit/regress/regress-2790.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2790.js?cl=11fd577)  
  
---   

## **v8 issue:2855**  
   
**[Issue: overriding String.prototype.valueOf doesn't work in v8](https://crbug.com/v8/2855)**  
**[Commit: Temporarily disable optimization for StringWrappers to use native valueOf](https://chromium.googlesource.com/v8/v8/+/de7352d)**  
  
Date(Commit): Fri Aug 23 11:31:18 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/23060030](https://codereview.chromium.org/23060030)  
Regress: [mjsunit/regress/regress-2855.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2855.js)  
```javascript
function foo(a) {
  for (var i = 0; i < 100; ++i)
    a = new String(a);
  return a;
}

var expected = "hello";
for (var i = 0; i < 4; ++i) {
  if (i == 2) {
    String.prototype.valueOf = function() { return 42; }
    expected = "42";
  }
  assertEquals(expected, "" + foo("hello"));
}


var count = 0;
var x = new String("foo");
Object.defineProperty(x, "valueOf",
    { get: function() {
             count++;
             return function() {
                      return 11;
                    }
           }
    });
for (var i = 0; i < 3; i++) {
  assertEquals("11", "" + x);
  assertEquals(i + 1, count);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/de7352d^!)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=de7352d)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=de7352d)  
[src/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/full-codegen-mips.cc?cl=de7352d)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=de7352d)  
[test/mjsunit/regress/regress-2855.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2855.js?cl=de7352d)  
  
---   

## **v8 issue:2594**  
   
**[Issue: Crash when accessing lexically scoped catch-variable from eval'ed function declaration](https://crbug.com/v8/2594)**  
**[Commit: Fix scoping of function declarations in eval inside non-trivial local scope](https://chromium.googlesource.com/v8/v8/+/971df38)**  
  
Date(Commit): Fri Aug 23 09:25:37 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/22901010](https://codereview.chromium.org/22901010)  
Regress: [mjsunit/regress/regress-2594.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2594.js)  
```javascript
function f1() {
  var XXX = 0
  try { throw 1 } catch (XXX) {
    eval("var h = function() { return XXX }")
  }
  return h()
}
assertEquals(1, f1())

function f2() {
  var XXX = 0
  try { throw 1 } catch (XXX) {
    eval("function h(){ return XXX }")
  }
  return h()
}
assertEquals(1, f2())

function f3() {
  var XXX = 0
  try { throw 1 } catch (XXX) {
    try { throw 2 } catch (y) {
      eval("function h(){ return XXX }")
    }
  }
  return h()
}
assertEquals(1, f3())

function f4() {
  var XXX = 0
  try { throw 1 } catch (XXX) {
    with ({}) {
      eval("function h(){ return XXX }")
    }
  }
  return h()
}
assertEquals(1, f4())

function f5() {
  var XXX = 0
  try { throw 1 } catch (XXX) {
    eval('eval("function h(){ return XXX }")')
  }
  return h()
}
assertEquals(1, f5())

function f6() {
  var XXX = 0
  try { throw 1 } catch (XXX) {
    eval("var h = (function() { function g(){ return XXX } return g })()")
  }
  return h()
}
assertEquals(1, f6())

function f7() {
  var XXX = 0
  try { throw 1 } catch (XXX) {
    eval("function h() { var XXX=2; function g(){ return XXX } return g }")
  }
  return h()()
}
assertEquals(2, f7())  

var XXX = 0
try { throw 1 } catch (XXX) {
  eval("function h(){ return XXX }")
}
assertEquals(1, h())  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/971df38^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=971df38)  
[src/parser.h](https://cs.chromium.org/chromium/src/v8/src/parser.h?cl=971df38)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=971df38)  
[test/mjsunit/regress/regress-2594.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2594.js?cl=971df38)  
  
---   

## **v8 issue:2829**  
   
**[Issue: WeakMap does not keep entries after interaction with Object.freeze(Object.prototype)](https://crbug.com/v8/2829)**  
**[Commit: Fix hidden properties on object with frozen prototype.](https://chromium.googlesource.com/v8/v8/+/0ecd03a)**  
  
Date(Commit): Thu Aug 22 13:51:32 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/22799021](https://codereview.chromium.org/22799021)  
Regress: [mjsunit/es6/regress/regress-2829.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2829.js)  
```javascript
(function test1() {
  var wm1 = new WeakMap();
  wm1.set(Object.prototype, 23);
  assertTrue(wm1.has(Object.prototype));
  Object.freeze(Object.prototype);

  var wm2 = new WeakMap();
  var o = {};
  wm2.set(o, 42);
  assertEquals(42, wm2.get(o));
})();

(function test2() {
  var wm1 = new WeakMap();
  var o1 = {};
  wm1.set(o1, 23);
  assertTrue(wm1.has(o1));
  Object.freeze(o1);

  var wm2 = new WeakMap();
  var o2 = Object.create(o1);
  wm2.set(o2, 42);
  assertEquals(42, wm2.get(o2));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0ecd03a^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=0ecd03a)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=0ecd03a)  
[test/mjsunit/regress/regress-2829.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2829.js?cl=0ecd03a)  
  
---   

## **v8 issue:2836**  
   
**[Issue: Smi operations erroneously skip overflow check](https://crbug.com/v8/2836)**  
**[Commit: Fix overflow check computation for Smi Phis](https://chromium.googlesource.com/v8/v8/+/6f800f9)**  
  
Date(Commit): Tue Aug 13 18:18:24 2013  
Type: ----  
Code Review: [https://codereview.chromium.org/22629011](https://codereview.chromium.org/22629011)  
Regress: [mjsunit/regress/regress-2836.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2836.js)  
```javascript
function f() {
  var end = 1073741823;  
  var start = end - 100000;  
  for (var i = start; i <= end; ++i) {
    assertTrue(i >= start);  
  }
}

f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6f800f9^!)  
[src/hydrogen-representation-changes.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-representation-changes.cc?cl=6f800f9)  
[test/mjsunit/regress/regress-2836.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2836.js?cl=6f800f9)  
  
---   

## **v8 issue:2813**  
   
**[Issue: Incorrect behavior on box2d.js (regression)](https://crbug.com/v8/2813)**  
**[Commit: Regression test for issue 2813 / r16008](https://chromium.googlesource.com/v8/v8/+/232a2c0)**  
  
Date(Commit): Fri Aug 02 12:17:19 2013  
Type: ----  
Code Review: [https://codereview.chromium.org/21806002](https://codereview.chromium.org/21806002)  
Regress: [mjsunit/regress/regress-2813.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2813.js)  
```javascript
function foo(x) {
  var a = x + 1;
  var b = x + 2;
  if (x != 0) {
    if (x > 0 & x < 100) {
      return a;
    }
  }
  return 0;
}

assertEquals(0, foo(0));
assertEquals(0, foo(0));
%OptimizeFunctionOnNextCall(foo);
assertEquals(3, foo(2));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/232a2c0^!)  
[test/mjsunit/regress/regress-2813.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2813.js?cl=232a2c0)  
  
---   

## **v8 issue:2711**  
   
**[Issue: Array.prototype.push apparently no longer honoring frozen](https://crbug.com/v8/2711)**  
**[Commit: Don't use StoreIC_ArrayLength on frozen arrays](https://chromium.googlesource.com/v8/v8/+/c65f4f7)**  
  
Date(Commit): Sun Jul 14 22:03:46 2013  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/19115002](https://chromiumcodereview.appspot.com/19115002)  
Regress: [mjsunit/regress/regress-2711.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2711.js)  
```javascript
var a = Object.freeze([1]);
assertThrows(function() { a.push(2); }, TypeError);
assertEquals(1, a.length);
assertThrows(function() { a.push(2); }, TypeError);
assertEquals(1, a.length);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c65f4f7^!)  
[src/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic.cc?cl=c65f4f7)  
[test/mjsunit/regress/regress-2711.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2711.js?cl=c65f4f7)  
  
---   

## **v8 issue:2758**  
   
**[Issue: Capability leak: Various built-in functions leak the global object](https://crbug.com/v8/2758)**  
**[Commit: Tweak error message](https://chromium.googlesource.com/v8/v8/+/929e193)**  
  
Date(Commit): Fri Jul 05 08:34:31 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/18759002](https://codereview.chromium.org/18759002)  
Regress: [mjsunit/regress/regress-2758.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2758.js)  
```javascript
var functions = [
  function() { var f = [].concat; f() },
  function() { var f = [].push; f() },
  function() { var f = [].shift; f() },
  function() { (0, [].concat)() },
  function() { (0, [].push)() },
  function() { (0, [].shift)() }
]

for (var i = 0; i < 5; ++i) {
  for (var j in functions) {
    print(functions[i])
    assertThrows(functions[j], TypeError)
  }

  if (i === 3) {
    for (var j in functions)
      %OptimizeFunctionOnNextCall(functions[j]);
  }
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/929e193^!)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=929e193)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=929e193)  
[src/runtime.js](https://cs.chromium.org/chromium/src/v8/src/runtime.js?cl=929e193)  
[test/mjsunit/bugs/bug-2758.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-2758.js?cl=929e193)  
[test/mjsunit/function-call.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/function-call.js?cl=929e193)  
  
---   

## **v8 issue:2691**  
   
**[Issue: yield* with value lacking a 'send' method throws "illegal access"](https://crbug.com/v8/2691)**  
**[Commit: Use keyed-call inline caches in delegating yield](https://chromium.googlesource.com/v8/v8/+/09fcac5)**  
  
Date(Commit): Thu Jun 13 10:18:28 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/15455002](https://codereview.chromium.org/15455002)  
Regress: [mjsunit/es6/regress/regress-2691.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2691.js)  
```javascript
assertThrows('(function*() { yield* 10 })().next()', TypeError);
assertThrows('(function*() { yield* {} })().next()', TypeError);
assertThrows('(function*() { yield* undefined })().next()', TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/09fcac5^!)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=09fcac5)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=09fcac5)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=09fcac5)  
[test/mjsunit/regress/regress-2691.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2691.js?cl=09fcac5)  
  
---   

## **v8 issue:2132**  
   
**[Issue: Canonicalization pass removes i|0 operation too early before it can affect -0 checks](https://crbug.com/v8/2132)**  
**[Commit: Skip some conditional deopts for Div/Mul when all uses are truncating.](https://chromium.googlesource.com/v8/v8/+/9447014)**  
  
Date(Commit): Tue Jun 11 11:43:57 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/16741002](https://codereview.chromium.org/16741002)  
Regress: [mjsunit/regress/regress-2132.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2132.js)  
```javascript
function mul(x, y) {
  return (x * y) | 0;
}

mul(0, 0);
mul(0, 0);
%OptimizeFunctionOnNextCall(mul);
assertEquals(0, mul(0, -1));
assertOptimized(mul);

function div(x, y) {
  return (x / y) | 0;
}

div(4, 2);
div(4, 2);
%OptimizeFunctionOnNextCall(div);
assertEquals(1, div(5, 3));
assertOptimized(div);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9447014^!)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=9447014)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=9447014)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=9447014)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=9447014)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=9447014)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=9447014)  
[test/mjsunit/regress/regress-2132.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2132.js?cl=9447014)  
  
---   

## **v8 issue:2717**  
   
**[Issue: The language fuzzer found a crasher in object literals.](https://crbug.com/v8/2717)**  
**[Commit: Fix re-initialization of existing double field.](https://chromium.googlesource.com/v8/v8/+/ecc41e3)**  
  
Date(Commit): Mon Jun 10 11:55:47 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/16735003](https://codereview.chromium.org/16735003)  
Regress: [mjsunit/regress/regress-2717.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2717.js)  
```javascript
(function() {
  function test1(a) {
    return { x: 1.5, x: a };
  };

  assertEquals({}, test1({}).x);
})();



(function() {
  function test1(a) {
    return { y: a };
  };

  function test2(a) {
    return { y: a };
  };

  assertEquals(1.5, test1(1.5).y);
  assertEquals({}, test2({}).y);
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ecc41e3^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=ecc41e3)  
[test/mjsunit/regress/regress-2717.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2717.js?cl=ecc41e3)  
  
---   

## **v8 issue:2690**  
   
**[Issue: SyntaxError: Unterminated character class for valid regular expression](https://crbug.com/v8/2690)**  
**[Commit: Regexp parser: reset flag after scanning ahead for capture groups.](https://chromium.googlesource.com/v8/v8/+/3e41834)**  
  
Date(Commit): Mon May 27 10:53:37 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/15712006](https://chromiumcodereview.appspot.com/15712006)  
Regress: [mjsunit/regress/regress-2690.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2690.js)  
```javascript
assertTrue(/\1[a]/.test("\1a"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3e41834^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=3e41834)  
[test/mjsunit/regress/regress-2690.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2690.js?cl=3e41834)  
  
---   

## **v8 issue:2686**  
   
**[Issue: Correctness of Function constructor compromised by String.indexOf monkeypatching](https://crbug.com/v8/2686)**  
**[Commit: Function constructor should avoid String.prototype methods](https://chromium.googlesource.com/v8/v8/+/d6fa1d8)**  
  
Date(Commit): Wed May 15 10:52:06 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/14668013](https://codereview.chromium.org/14668013)  
Regress: [mjsunit/regress/regress-2686.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2686.js)  
```javascript
assertThrows(function() { Function('){ function foo(', '}') }, SyntaxError);
String.prototype.indexOf = function () { return -1; }
assertThrows(function() { Function('){ function foo(', '}') }, SyntaxError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d6fa1d8^!)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=d6fa1d8)  
[test/mjsunit/regress/regress-2686.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2686.js?cl=d6fa1d8)  
  
---   

## **v8 issue:2681**  
   
**[Issue: Crash in generators test](https://crbug.com/v8/2681)**  
**[Commit: Don't flush code for generator functions.](https://chromium.googlesource.com/v8/v8/+/1634369)**  
  
Date(Commit): Mon May 13 17:36:26 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/14731023](https://codereview.chromium.org/14731023)  
Regress: [mjsunit/es6/regress/regress-2681.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2681.js)  
```javascript
function flush_all_code() {
  
  for (var i = 0; i < 10; i++) gc();
}

function* g() {
  yield 1;
  yield 2;
}

var o = g();
assertEquals({ value: 1, done: false }, o.next());

flush_all_code();

assertEquals({ value: 2, done: false }, o.next());
assertEquals({ value: undefined, done: true }, o.next());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1634369^!)  
[src/objects-visiting-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-visiting-inl.h?cl=1634369)  
[test/mjsunit/regress/regress-2681.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2681.js?cl=1634369)  
  
---   

## **v8 issue:2671**  
   
**[Issue: Issue with optimizing array code in 64-bit](https://crbug.com/v8/2671)**  
**[Commit: Fix environment in HOptimizedGraphBuilder::VisitCountOperation. Follow-up for r14584.](https://chromium.googlesource.com/v8/v8/+/cd4e986)**  
  
Date(Commit): Wed May 08 14:58:06 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/14972009](https://chromiumcodereview.appspot.com/14972009)  
Regress: [mjsunit/regress/regress-2671-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2671-1.js), [mjsunit/regress/regress-2671.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2671.js)  
```javascript
var y;
function f() {
  var a = [];
  a[20] = 0;
  y = 3;
  var i = 7 * (y + -0);
  a[i]++;
  assertTrue(isNaN(a[i]));
}

f();
f();
f();
%OptimizeFunctionOnNextCall(f);
f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cd4e986^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=cd4e986)  
[test/mjsunit/regress/regress-2671-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2671-1.js?cl=cd4e986)  
  
---   

## **v8 issue:2646**  
   
**[Issue: Float64Array: Fatal error when profiling heap with --heap_stats in spaces.cc](https://crbug.com/v8/2646)**  
**[Commit: Adds EXTERNAL_DOUBLE_ARRAY to a list of instance types](https://chromium.googlesource.com/v8/v8/+/852f903)**  
  
Date(Commit): Tue Apr 23 17:02:09 2013  
Type: ----  
Code Review: [https://codereview.chromium.org/14042008](https://codereview.chromium.org/14042008)  
Regress: [mjsunit/regress/regress-2646.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2646.js)  
```javascript
var expectedItemsCount = 10000,
    itemSize = 5,
    heap = new ArrayBuffer(expectedItemsCount * itemSize * 8),
    storage = [];

for (var i = 0; i < expectedItemsCount; i++) {
    storage.push(new Float64Array(heap, 0, itemSize));
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/852f903^!)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=852f903)  
[test/mjsunit/regress/regress-2646.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2646.js?cl=852f903)  
  
---   

## **v8 issue:2624**  
   
**[Issue: running the test suite with --print-all-code causes crashes in debug mode](https://crbug.com/v8/2624)**  
**[Commit: Fix OOB write in --print-code.](https://chromium.googlesource.com/v8/v8/+/d7b78dc)**  
  
Date(Commit): Mon Apr 15 15:19:51 2013  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/14018010](https://chromiumcodereview.appspot.com/14018010)  
Regress: [mjsunit/regress/regress-2624.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2624.js)  
```javascript
var source = '"snowmen invasion " + "';
for(var i = 0; i < 800; i++) {
  source += '\u2603';
}
source += '"';
eval(source);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d7b78dc^!)  
[src/disassembler.cc](https://cs.chromium.org/chromium/src/v8/src/disassembler.cc?cl=d7b78dc)  
[src/utils.cc](https://cs.chromium.org/chromium/src/v8/src/utils.cc?cl=d7b78dc)  
[src/v8utils.cc](https://cs.chromium.org/chromium/src/v8/src/v8utils.cc?cl=d7b78dc)  
[test/mjsunit/regress/regress-2624.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2624.js?cl=d7b78dc)  
  
---   

## **v8 issue:2618**  
   
**[Issue: Optimize dual loop](https://crbug.com/v8/2618)**  
**[Commit: Fix OSR for nested loops.](https://chromium.googlesource.com/v8/v8/+/996a80d)**  
  
Date(Commit): Wed Apr 10 09:24:31 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/13811014](https://chromiumcodereview.appspot.com/13811014)  
Regress: [mjsunit/regress/regress-2618.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2618.js)  
```javascript
if (isNeverOptimizeLiteMode()) {
  print("Warning: skipping test that requires optimization in Lite mode.");
  quit(0);
}
assertFalse(isAlwaysOptimize());

function f() {
  do {
    do {
      for (var i = 0; i < 10; i++) %OptimizeOsr();
      
      
      
      var opt_status = %GetOptimizationStatus(f);
      assertTrue(
        (opt_status & V8OptimizationStatus.kMaybeDeopted) !== 0 ||
        (opt_status & V8OptimizationStatus.kTopmostFrameIsTurboFanned) !== 0);
    } while (false);
  } while (false);
}

f();

function g() {
  for (var i = 0; i < 1; i++) { }

  do {
    do {
      for (var i = 0; i < 1; i++) { }
    } while (false);
  } while (false);

  do {
    do {
      do {
        do {
          do {
            do {
              do {
                do {
                  for (var i = 0; i < 10; i++) %OptimizeOsr();
                  var opt_status = %GetOptimizationStatus(g);
                  assertTrue(
                    (opt_status & V8OptimizationStatus.kMaybeDeopted) !== 0 ||
                    (opt_status &
                        V8OptimizationStatus.kTopmostFrameIsTurboFanned) !== 0);
                } while (false);
              } while (false);
            } while (false);
          } while (false);
        } while (false);
      } while (false);
    } while (false);
  } while (false);
}

g();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/996a80d^!)  
[src/arm/deoptimizer-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/deoptimizer-arm.cc?cl=996a80d)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=996a80d)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=996a80d)  
[src/deoptimizer.cc](https://cs.chromium.org/chromium/src/v8/src/deoptimizer.cc?cl=996a80d)  
[src/deoptimizer.h](https://cs.chromium.org/chromium/src/v8/src/deoptimizer.h?cl=996a80d)  
[src/disassembler.cc](https://cs.chromium.org/chromium/src/v8/src/disassembler.cc?cl=996a80d)  
[src/full-codegen.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen.cc?cl=996a80d)  
[src/full-codegen.h](https://cs.chromium.org/chromium/src/v8/src/full-codegen.h?cl=996a80d)  
[src/ia32/builtins-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/builtins-ia32.cc?cl=996a80d)  
[src/ia32/deoptimizer-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/deoptimizer-ia32.cc?cl=996a80d)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=996a80d)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=996a80d)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=996a80d)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=996a80d)  
[src/runtime-profiler.cc](https://cs.chromium.org/chromium/src/v8/src/runtime-profiler.cc?cl=996a80d)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=996a80d)  
[src/x64/builtins-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/builtins-x64.cc?cl=996a80d)  
[src/x64/deoptimizer-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/deoptimizer-x64.cc?cl=996a80d)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=996a80d)  
[test/cctest/test-compiler.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-compiler.cc?cl=996a80d)  
[test/mjsunit/regress/regress-2618.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2618.js?cl=996a80d)  
  
---   

## **v8 issue:2595**  
   
**[Issue: Wrong inlining target](https://crbug.com/v8/2595)**  
**[Commit: Let ComputeTarget fail if it skips over NORMAL objects.](https://chromium.googlesource.com/v8/v8/+/79d18ea)**  
  
Date(Commit): Tue Apr 09 16:38:51 2013  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/13862008](https://chromiumcodereview.appspot.com/13862008)  
Regress: [mjsunit/regress/regress-2595.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2595.js)  
```javascript
var p = { f: function () { return "p"; } };
var o = Object.create(p);
o.x = true;
delete o.x;  

var u = { x: 0, f: function () { return "u"; } };  

function F(x) {
  return x.f();
}




assertEquals("p", F(o));
assertEquals("p", F(o));
assertEquals("u", F(u));
assertEquals("p", F(o));
assertEquals("u", F(u));



%OptimizeFunctionOnNextCall(F);
assertEquals("p", F(o));


o.f = function () { return "o"; };
assertEquals("o", F(o));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/79d18ea^!)  
[src/ast.cc](https://cs.chromium.org/chromium/src/v8/src/ast.cc?cl=79d18ea)  
[test/mjsunit/regress/regress-2595.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2595.js?cl=79d18ea)  
  
---   

## **v8 issue:2612**  
   
**[Issue: Memory black hole for a loop above a certain number of iterations](https://crbug.com/v8/2612)**  
**[Commit: Fix worst-case behavior of MergeRemovableSimulates().](https://chromium.googlesource.com/v8/v8/+/9559181)**  
  
Date(Commit): Mon Apr 08 17:37:22 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/13649003](https://chromiumcodereview.appspot.com/13649003)  
Regress: [mjsunit/regress/regress-2612.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2612.js)  
```javascript
var seed = 1;

function rand() {
  seed = seed * 171 % 1337 + 17;
  return (seed % 1000) / 1000;
}

function randi(max) {
  seed = seed * 131 % 1773 + 13;
  return seed % max;
}

function varname(i) {
  return "_" + i;
}

var source = "var ";

for (var i = 0; i < 750; i++) {
  source += [varname(i), "=", rand(), ","].join("");
}

for (var i = 750; i < 3000; i++) {
  source += [varname(i), "=",
             varname(randi(i)), "+",
             varname(randi(i)), ","].join("");
}

source += "x=1; return _0;"
var f = new Function(source);

f();
%OptimizeFunctionOnNextCall(f);
f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9559181^!)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=9559181)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=9559181)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=9559181)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=9559181)  
[test/mjsunit/regress/regress-2612.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2612.js?cl=9559181)  
  
---   

## **v8 issue:581**  
   
**[Issue: Concatenating arrays with total length over 2^32-1 doesn't work correctly.](https://crbug.com/v8/581)**  
**[Commit: Fix Array.prototype.concat when exceeding array size limit.](https://chromium.googlesource.com/v8/v8/+/e33b688)**  
  
Date(Commit): Fri Apr 05 15:12:59 2013  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/13465008](https://chromiumcodereview.appspot.com/13465008)  
Regress: [mjsunit/regress/regress-581.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-581.js)  
```javascript
var pow30 = Math.pow(2, 30);
var pow31 = Math.pow(2, 31);

var a = [];
a[pow31] = 31;

assertEquals(pow31 + 1, a.length);
assertThrows(function() { a.concat(a); }, RangeError);

var b = [];
b[pow31 - 3] = 32;
var ab = a.concat(b);
assertEquals(2 * pow31 - 1, ab.length);
assertEquals(31, ab[pow31]);
assertEquals(32, ab[2 * pow31 - 2]);
assertEquals(undefined, ab[2 * pow31 - 1]);

var c = [];
c[pow30] = 30;
assertThrows(function() { c.concat(c, a); }, RangeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e33b688^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=e33b688)  
[test/mjsunit/regress/regress-581.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-581.js?cl=e33b688)  
  
---   

## **v8 issue:2273**  
   
**[Issue: Built-in functions should not coerce 'this' value in a strict mode function](https://crbug.com/v8/2273)**  
**[Commit: Do not implicitly convert non-object receivers for strict mode functions.](https://chromium.googlesource.com/v8/v8/+/deecbb2)**  
  
Date(Commit): Fri Apr 05 11:57:02 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/13473009](https://chromiumcodereview.appspot.com/13473009)  
Regress: [mjsunit/regress/regress-2273.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2273.js)  
```javascript
var CheckStringReceiver = function() {
  "use strict";
  
  assertEquals("string", typeof this);
};

var CheckNumberReceiver = function() {
  "use strict";
  
  assertEquals("number", typeof this);
};

var CheckUndefinedReceiver = function() {
  "use strict";
  
  assertEquals("undefined", String(this));
};

var CheckNullReceiver = function() {
  "use strict";
  
  assertEquals("null", String(this));
};

var CheckCoersion = function() {
  
  assertEquals("object", typeof this);
};


function strict_mode() {
  "use strict";
  CheckStringReceiver.call("foo");
  CheckNumberReceiver.call(42);
  CheckUndefinedReceiver.call(undefined);
  CheckNullReceiver.call(null);
  [1].forEach(CheckStringReceiver, "foo");
  [2].every(CheckStringReceiver, "foo");
  [3].filter(CheckStringReceiver, "foo");
  [4].some(CheckNumberReceiver, 42);
  [5].map(CheckNumberReceiver, 42);

  CheckCoersion.call("foo");
  CheckCoersion.call(42);
  CheckCoersion.call(undefined);
  CheckCoersion.call(null);
  [1].forEach(CheckCoersion, "foo");
  [2].every(CheckCoersion, "foo");
  [3].filter(CheckCoersion, "foo");
  [4].some(CheckCoersion, 42);
  [5].map(CheckCoersion, 42);
};
strict_mode();

function sloppy_mode() {
  CheckStringReceiver.call("foo");
  CheckNumberReceiver.call(42);
  CheckUndefinedReceiver.call(undefined);
  CheckNullReceiver.call(null);
  [1].forEach(CheckStringReceiver, "foo");
  [2].every(CheckStringReceiver, "foo");
  [3].filter(CheckStringReceiver, "foo");
  [4].some(CheckNumberReceiver, 42);
  [5].map(CheckNumberReceiver, 42);

  CheckCoersion.call("foo");
  CheckCoersion.call(42);
  CheckCoersion.call(undefined);
  CheckCoersion.call(null);
  [1].forEach(CheckCoersion, "foo");
  [2].every(CheckCoersion, "foo");
  [3].filter(CheckCoersion, "foo");
  [4].some(CheckCoersion, 42);
  [5].map(CheckCoersion, 42);
};
sloppy_mode();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/deecbb2^!)  
[src/array.js](https://cs.chromium.org/chromium/src/v8/src/array.js?cl=deecbb2)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=deecbb2)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=deecbb2)  
[test/mjsunit/regress/regress-2273.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2273.js?cl=deecbb2)  
  
---   

## **v8 issue:2606**  
   
**[Issue: Unable to change writability and configurability of __proto__](https://crbug.com/v8/2606)**  
**[Commit: Make __proto__ a real JavaScript accessor property.](https://chromium.googlesource.com/v8/v8/+/9e757a6)**  
  
Date(Commit): Thu Apr 04 12:10:23 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/13533004](https://codereview.chromium.org/13533004)  
Regress: [mjsunit/regress/regress-2606.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2606.js)  
```javascript
var desc = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__");
assertFalse(desc.enumerable);
assertTrue(desc.configurable);
assertEquals("function", typeof desc.get);
assertEquals("function", typeof desc.set);


function replaced_get() {};
Object.defineProperty(Object.prototype, "__proto__", { get:replaced_get });
desc = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__");
assertFalse(desc.enumerable);
assertTrue(desc.configurable);
assertSame(replaced_get, desc.get);


function replaced_set(x) {};
Object.defineProperty(Object.prototype, "__proto__", { set:replaced_set });
desc = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__");
assertFalse(desc.enumerable);
assertTrue(desc.configurable);
assertSame(replaced_set, desc.set);


Object.defineProperty(Object.prototype, "__proto__", { configurable:false });
desc = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__");
assertFalse(desc.enumerable);
assertFalse(desc.configurable);
assertSame(replaced_get, desc.get);
assertSame(replaced_set, desc.set);


Object.freeze(Object.prototype);
assertTrue(Object.isFrozen(Object.prototype));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9e757a6^!)  
[include/v8.h](https://cs.chromium.org/chromium/src/v8/include/v8.h?cl=9e757a6)  
[src/accessors.cc](https://cs.chromium.org/chromium/src/v8/src/accessors.cc?cl=9e757a6)  
[src/accessors.h](https://cs.chromium.org/chromium/src/v8/src/accessors.h?cl=9e757a6)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=9e757a6)  
[src/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap.cc?cl=9e757a6)  
[src/heap.h](https://cs.chromium.org/chromium/src/v8/src/heap.h?cl=9e757a6)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=9e757a6)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=9e757a6)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=9e757a6)  
[test/mjsunit/proto-poison.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/proto-poison.js?cl=9e757a6)  
[test/mjsunit/regress/regress-2606.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2606.js?cl=9e757a6)  
  
---   

## **v8 issue:2593**  
   
**[Issue: Object.create and Object.hasOwnProperty optimizations](https://crbug.com/v8/2593)**  
**[Commit: Add extra flag for load-ic stubs in code cache.](https://chromium.googlesource.com/v8/v8/+/eee5884)**  
  
Date(Commit): Thu Apr 04 08:29:25 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/13552003](https://chromiumcodereview.appspot.com/13552003)  
Regress: [mjsunit/regress/regress-2593.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2593.js)  
```javascript
p1 =  { };
p2 =  { };
p3 =  { x : 1 };
p2.__proto__ = p3
p1.__proto__ = p2


p1.z = 1
delete p1.z


for (var i = 0; i < 10; i++) gc();

function f2() {
  p2.x;
}

function f1() {
  return p1.x;
}


for (var i = 0; i < 10; i++) f2();


for (var i = 0; i < 10; i++) f1();

assertEquals(1, f1());

p2.x = 2;

assertEquals(2, f1());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/eee5884^!)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=eee5884)  
[src/stub-cache.cc](https://cs.chromium.org/chromium/src/v8/src/stub-cache.cc?cl=eee5884)  
[src/stub-cache.h](https://cs.chromium.org/chromium/src/v8/src/stub-cache.h?cl=eee5884)  
[test/mjsunit/regress/regress-2593.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2593.js?cl=eee5884)  
  
---   

## **v8 issue:105**  
   
**[Issue: Implicit call to valueOf has wrong caller](https://crbug.com/v8/105)**  
**[Commit: Add test to check that Function.caller must not expose native functions.](https://chromium.googlesource.com/v8/v8/+/443f85e)**  
  
Date(Commit): Thu Mar 28 14:31:48 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/13166002](https://chromiumcodereview.appspot.com/13166002)  
Regress: [mjsunit/regress/regress-105.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-105.js)  
```javascript
var custom_valueOf = function() {
  assertEquals(null, custom_valueOf.caller);
  return 2;
}

var custom_toString = function() {
  assertEquals(null, custom_toString.caller);
  return "I used to be an adventurer like you";
}

var object = {};
object.valueOf = custom_valueOf;
object.toString = custom_toString;

assertEquals(2, Number(object));
assertEquals('I', String(object)[0]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/443f85e^!)  
[test/mjsunit/regress/regress-105.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-105.js?cl=443f85e)  
  
---   

## **v8 issue:2596**  
   
**[Issue: V8 is leaking holes](https://crbug.com/v8/2596)**  
**[Commit: Canonicalize NaNs on store to Fast(Float|Double) arrays](https://chromium.googlesource.com/v8/v8/+/47d8af7)**  
  
Date(Commit): Thu Mar 28 13:30:16 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/12918028](https://codereview.chromium.org/12918028)  
Regress: [mjsunit/regress/regress-2596.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2596.js)  
```javascript
var ab = new ArrayBuffer(8);
var i_view = new Int32Array(ab);
i_view[0] = %GetHoleNaNUpper()
i_view[1] = %GetHoleNaNLower();
var doubles = new Float64Array(ab);  
assertTrue(isNaN(doubles[0]));

var prototype = [2.5, 2.5];
var array = [3.5, 3.5];
array.__proto__ = prototype;
assertTrue(%HasDoubleElements(array));

function boom(index) {
  array[index] = doubles[0];
  return array[index];
}

assertTrue(isNaN(boom(0)));
assertTrue(isNaN(boom(0)));
assertTrue(isNaN(boom(0)));


%OptimizeFunctionOnNextCall(boom);
assertTrue(isNaN(boom(0)));
assertTrue(isNaN(boom(0)));
assertTrue(isNaN(boom(0)));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/47d8af7^!)  
[src/elements-kind.h](https://cs.chromium.org/chromium/src/v8/src/elements-kind.h?cl=47d8af7)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=47d8af7)  
[test/mjsunit/regress/regress-2596.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2596.js?cl=47d8af7)  
  
---   

## **v8 issue:2564**  
   
**[Issue: No Permission](https://crbug.com/v8/2564)**  
**[Commit: Stack trace API: poison stack frames below the first strict mode frame.](https://chromium.googlesource.com/v8/v8/+/9155d20)**  
  
Date(Commit): Thu Mar 28 10:40:07 2013  
Type: None  
Code Review: [https://chromiumcodereview.appspot.com/13150003](https://chromiumcodereview.appspot.com/13150003)  
Regress: [mjsunit/regress/regress-2564.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2564.js)  
```javascript
var o = [ function f0() { throw new Error(); },
          function f1() { o[0](); },
          function f2() { o[1](); },
          function f3() { o[2](); } ];

Error.prepareStackTrace = function(error, frames) {
  Error.prepareStackTrace = undefined;  
  try {
    assertEquals(5, frames.length);
    
    for (var i = 0; i < frames.length - 1; i++) {
      assertEquals(o[i], frames[i].getFunction());
      assertEquals(o, frames[i].getThis());
      
      assertEquals(undefined, frames[i].receiver);
      assertEquals(undefined, frames[i].fun);
      assertEquals(undefined, frames[i].pos);
    }
    return "success";
  } catch (e) {
    return "fail";
  }
}

try {
  o[3]();
} catch (e) {
  assertEquals("success", e.stack);
};


var o = [ function f0() { throw new Error(); },
          function f1() { o[0](); },
          function f2() { "use strict"; o[1](); },
          function f3() { o[2](); } ];

Error.prepareStackTrace = function(error, frames) {
  Error.prepareStackTrace = undefined;  
  try {
    assertEquals(5, frames.length);
    for (var i = 0; i < 2; i++) {
      
      assertEquals(o[i], frames[i].getFunction());
      assertEquals(o, frames[i].getThis());
    }
    for (var i = 2; i < frames.length; i++) {
      
      assertEquals(undefined, frames[i].getFunction());
      assertEquals(undefined, frames[i].getThis());
    }
    for (var i = 0; i < frames.length - 1; i++) {
      
      assertEquals("f"+i, frames[i].getFunctionName());
    }
    return "success";
  } catch (e) {
    return e;
  }
}

try {
  o[3]();
} catch (e) {
  assertEquals("success", e.stack);
};


var o = [ function f0() { "use strict"; throw new Error(); },
          function f1() { o[0](); },
          function f2() { o[1](); },
          function f3() { o[2](); } ];

Error.prepareStackTrace = function(error, frames) {
  Error.prepareStackTrace = undefined;  
  try {
    assertEquals(5, frames.length);
    for (var i = 0; i < frames.length; i++) {
      
      assertEquals(undefined, frames[i].getFunction());
      assertEquals(undefined, frames[i].getThis());
      if (i < frames.length - 1) {  
        assertEquals("f"+i, frames[i].getFunctionName());
      }
    }
    return "success";
  } catch (e) {
    return e;
  }
}

try {
  o[3]();
} catch (e) {
  assertEquals("success", e.stack);
};  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9155d20^!)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=9155d20)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=9155d20)  
[test/mjsunit/regress/regress-2564.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2564.js?cl=9155d20)  
  
---   

## **v8 issue:2470**  
   
**[Issue: Function constructor call allows invalid FormalParameterList/FunctionBody](https://crbug.com/v8/2470)**  
**[Commit: Harden Function()'s parsing of function literals.](https://chromium.googlesource.com/v8/v8/+/4b0395c)**  
  
Date(Commit): Thu Mar 07 15:46:14 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/12613007](https://codereview.chromium.org/12613007)  
Regress: [mjsunit/regress/regress-2470.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2470.js)  
```javascript
assertThrows('Function("/*", "*/){");', SyntaxError);


assertThrows('Function("});(function(){");', SyntaxError);


assertDoesNotThrow('Function("/*", "*/", "/**/");');
assertDoesNotThrow('Function("/*", "a", "*/", "/**/");');
assertDoesNotThrow('Function("a", "/*", "*/", "/**/");');
assertThrows('Function("a", "/*", "*/", "b", "/*", "*/", "/**/");', SyntaxError);


assertDoesNotThrow('Function("
assertDoesNotThrow('Function("
assertDoesNotThrow('Function("a", "
assertThrows('Function("a", "", "



var asString = Function("return 23").toString();
assertSame("function anonymous(\n) {\nreturn 23\n}", asString);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4b0395c^!)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=4b0395c)  
[src/compiler.h](https://cs.chromium.org/chromium/src/v8/src/compiler.h?cl=4b0395c)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=4b0395c)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=4b0395c)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=4b0395c)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=4b0395c)  
[test/mjsunit/new-function.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/new-function.js?cl=4b0395c)  
[test/mjsunit/regress/regress-2470.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2470.js?cl=4b0395c)  
  
---   

## **v8 issue:2570**  
   
**[Issue: JSON.stringify encoding issue](https://crbug.com/v8/2570)**  
**[Commit: Insert missing type cast in JSON.stringify.](https://chromium.googlesource.com/v8/v8/+/3a497df)**  
  
Date(Commit): Thu Mar 07 09:58:27 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/12599003](https://chromiumcodereview.appspot.com/12599003)  
Regress: [mjsunit/regress/regress-2570.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2570.js)  
```javascript
var o = ["\u56e7",   
         "\u00e6"];  

assertEquals('["\u56e7","\u00e6"]', JSON.stringify(o));
assertEquals('["\u56e7","\u00e6"]', JSON.stringify(o, null, 0));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3a497df^!)  
[src/json-stringifier.h](https://cs.chromium.org/chromium/src/v8/src/json-stringifier.h?cl=3a497df)  
[test/mjsunit/regress/regress-2570.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2570.js?cl=3a497df)  
  
---   

## **v8 issue:2568**  
   
**[Issue: Array.prototype.map plucking out "length" causes function to stick](https://crbug.com/v8/2568)**  
**[Commit: Fix Array.length, String.length and Function.prototype LoadICs on x64.](https://chromium.googlesource.com/v8/v8/+/a62cfd1)**  
  
Date(Commit): Wed Mar 06 18:19:35 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/12545004](https://chromiumcodereview.appspot.com/12545004)  
Regress: [mjsunit/regress/regress-2568.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2568.js)  
```javascript
function pluck1(a, key) {
    return a.map(function(item) { return item[key]; });
};
assertArrayEquals([2, 2], pluck1([[0, 0], [0, 0]], 'length'));
assertArrayEquals([1, 3], pluck1([[1, 2], [3, 4]], '0'));

function pluck2(a, key) {
    return a.map(function(item) { return item[key]; });
};
assertArrayEquals([2, 2], pluck2(["ab", "cd"], 'length'));
assertArrayEquals(["a", "c"], pluck2(["ab", "cd"], '0'));

function pluck3(a, key) {
    return a.map(function(item) { return item[key]; });
};
f = function() { 1 };
f.prototype = g = function() { 2 };
assertArrayEquals([g, g], pluck3([f, f], 'prototype'));
assertArrayEquals([undefined, undefined], pluck3([f, f], '0'));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a62cfd1^!)  
[src/x64/code-stubs-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/code-stubs-x64.cc?cl=a62cfd1)  
[test/mjsunit/regress/regress-2568.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2568.js?cl=a62cfd1)  
  
---   

## **v8 issue:2566**  
   
**[Issue: Incorrect compilation of property setting for arrays when property is 'length'](https://crbug.com/v8/2566)**  
**[Commit: Properly handle misses for StoreArrayLengthStub on ia32 and x64](https://chromium.googlesource.com/v8/v8/+/7fe9bd5)**  
  
Date(Commit): Tue Mar 05 16:31:11 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/12378085](https://codereview.chromium.org/12378085)  
Regress: [mjsunit/regress/regress-2566.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2566.js)  
```javascript
function setProp(obj, prop, val) {
  obj[prop] = val;
}
var obj = [];
setProp(obj, 'length', 1);
setProp(obj, 0, 5);
assertEquals(1, obj.length);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7fe9bd5^!)  
[src/ia32/code-stubs-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/code-stubs-ia32.cc?cl=7fe9bd5)  
[src/x64/code-stubs-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/code-stubs-x64.cc?cl=7fe9bd5)  
[test/mjsunit/regress/regress-2566.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2566.js?cl=7fe9bd5)  
  
---   

## **v8 issue:2565**  
   
**[Issue: Changes to __proto__ broke Object.create](https://crbug.com/v8/2565)**  
**[Commit: Add workaround for redefinition of __proto__ property.](https://chromium.googlesource.com/v8/v8/+/2aabf62)**  
  
Date(Commit): Mon Mar 04 17:53:40 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/12398010](https://codereview.chromium.org/12398010)  
Regress: [mjsunit/regress/regress-2565.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2565.js)  
```javascript
Object.freeze(Object.prototype);
var p = {};
var o = Object.create(p);
assertSame(p, o.__proto__);
assertSame(p, Object.getPrototypeOf(o));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2aabf62^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=2aabf62)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=2aabf62)  
[test/mjsunit/regress/regress-2565.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2565.js?cl=2aabf62)  
  
---   

## **v8 issue:2451**  
   
**[Issue: Math.round with negative numbers causes a method to de/re-optimize repeatedly and finally disabled](https://crbug.com/v8/2451)**  
**[Commit: Handle negative input in inlined Math.round on Intel CPUs.](https://chromium.googlesource.com/v8/v8/+/2a3063a)**  
  
Date(Commit): Wed Feb 27 14:44:57 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/12342037](https://chromiumcodereview.appspot.com/12342037)  
Regress: [mjsunit/regress/regress-2451.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2451.js)  
```javascript
function f() {
  assertEquals(-1.0, Math.round(-1.5));
  assertEquals(-2.0, Math.round(-2.5));
  assertEquals(-1.0, Math.round(-0.5000000000000001));
}

f();
f();
%OptimizeFunctionOnNextCall(f);
f();
assertOptimized(f);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2a3063a^!)  
[src/assembler.cc](https://cs.chromium.org/chromium/src/v8/src/assembler.cc?cl=2a3063a)  
[src/assembler.h](https://cs.chromium.org/chromium/src/v8/src/assembler.h?cl=2a3063a)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=2a3063a)  
[src/ia32/lithium-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.cc?cl=2a3063a)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=2a3063a)  
[src/x64/lithium-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.cc?cl=2a3063a)  
[test/mjsunit/regress/regress-2451.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2451.js?cl=2a3063a)  
  
---   

## **v8 issue:2441**  
   
**[Issue: defineProperty fails silently in strict mode](https://crbug.com/v8/2441)**  
**[Commit: Make __proto__ a foreign callback on Object.prototype.](https://chromium.googlesource.com/v8/v8/+/ce1e10f)**  
  
Date(Commit): Tue Feb 26 10:46:00 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/12212011](https://codereview.chromium.org/12212011)  
Regress: [mjsunit/regress/regress-2441.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2441.js)  
```javascript
var o = {};
Object.preventExtensions(o);
assertThrows("Object.defineProperty(o, 'foobarloo', {value:{}});", TypeError);
assertThrows("Object.defineProperty(o, '__proto__', {value:{}});", TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ce1e10f^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=ce1e10f)  
[src/factory.cc](https://cs.chromium.org/chromium/src/v8/src/factory.cc?cl=ce1e10f)  
[src/factory.h](https://cs.chromium.org/chromium/src/v8/src/factory.h?cl=ce1e10f)  
[src/json-parser.h](https://cs.chromium.org/chromium/src/v8/src/json-parser.h?cl=ce1e10f)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=ce1e10f)  
[src/property.h](https://cs.chromium.org/chromium/src/v8/src/property.h?cl=ce1e10f)  
[test/cctest/test-api.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-api.cc?cl=ce1e10f)  
[test/mjsunit/builtins.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/builtins.js?cl=ce1e10f)  
[test/mjsunit/harmony/object-observe.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/object-observe.js?cl=ce1e10f)  
[test/mjsunit/harmony/proxies.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/harmony/proxies.js?cl=ce1e10f)  
[test/mjsunit/json.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/json.js?cl=ce1e10f)  
[test/mjsunit/regress/regress-2441.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2441.js?cl=ce1e10f)  
[test/test262/test262.status](https://cs.chromium.org/chromium/src/v8/test/test262/test262.status?cl=ce1e10f)  
  
---   

## **v8 issue:2539**  
   
**[Issue: Optimized function.apply(this, arguments) broken when declared arguments are mutated.](https://crbug.com/v8/2539)**  
**[Commit: Fix f.apply() optimization when declared arguments are mutated.](https://chromium.googlesource.com/v8/v8/+/300413b)**  
  
Date(Commit): Thu Feb 14 15:12:49 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/12255033](https://codereview.chromium.org/12255033)  
Regress: [mjsunit/regress/regress-2539.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2539.js)  
```javascript
"use strict";
var dispatcher = {};
dispatcher.func = C;

function A() {
  B(10, 11);
}

function B(x,y) {
  x = 0; y = 0;
  dispatcher.func.apply(this, arguments);
  assertSame(2, arguments.length);
  assertSame(10, arguments[0]);
  assertSame(11, arguments[1]);
}

function C(x,y) {
  assertSame(2, arguments.length);
  assertSame(10, arguments[0]);
  assertSame(11, arguments[1]);
}

A();
A();
%OptimizeFunctionOnNextCall(A);
A();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/300413b^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=300413b)  
[test/mjsunit/compiler/inline-function-apply.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/inline-function-apply.js?cl=300413b)  
[test/mjsunit/regress/regress-2539.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2539.js?cl=300413b)  
  
---   

## **v8 issue:2537**  
   
**[Issue: Range analysis propagates incorrect relation operators](https://crbug.com/v8/2537)**  
**[Commit: Fix NegateCompareOp and InvertCompareOp](https://chromium.googlesource.com/v8/v8/+/19dab05)**  
  
Date(Commit): Wed Feb 13 14:36:19 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/12217136](https://codereview.chromium.org/12217136)  
Regress: [mjsunit/regress/regress-2537.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2537.js)  
```javascript
var large_int = 0x40000000;

function foo(x, expected) {
  assertEquals(expected, x);  
  x += 0;  
           
  if (3 != x) {
    x += 0;  
    
    assertEquals(expected, x);
  }
}

foo(1, 1);
foo(3, 3);
%OptimizeFunctionOnNextCall(foo);
foo(large_int, large_int);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/19dab05^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=19dab05)  
[src/token.h](https://cs.chromium.org/chromium/src/v8/src/token.h?cl=19dab05)  
[test/mjsunit/regress/regress-2537.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2537.js?cl=19dab05)  
  
---   

## **v8 issue:2073**  
   
**[Issue: Garbage collector sometimes fails on objects with Object.defineProperty (memleak?)](https://crbug.com/v8/2073)**  
**[Commit: Make embedded maps in optimized code weak.](https://chromium.googlesource.com/v8/v8/+/e6224d2)**  
  
Date(Commit): Thu Jan 24 11:55:05 2013  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/11575007](https://chromiumcodereview.appspot.com/11575007)  
Regress: [mjsunit/regress/regress-2073.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2073.js)  
```javascript
var counter = 0;

function nextid() {
  counter += 1;
  return counter;
}

function Scope() {
  this.id = nextid();
  this.parent = null;
  this.left = null;
  this.right = null;
  this.head = null;
  this.tail = null;
  this.counter = 0;
}

Scope.prototype = {
  new: function() {
    var Child,
        child;
    Child = function() {};
    Child.prototype = this;
    child = new Child();
    child.id = nextid();
    child.parent = this;
    child.left = this.last;
    child.right = null;
    child.head = null;
    child.tail = null;
    child.counter = 0;
    if (this.head) {
      this.tail.right = child;
      this.tail = child;
    } else {
      this.head = this.tail = child;
    }
    return child;
  },

  destroy: function() {
    if ($root == this) return;
    var parent = this.parent;
    if (parent.head == this) parent.head = this.right;
    if (parent.tail == this) parent.tail = this.left;
    if (this.left) this.left.right = this.right;
    if (this.right) this.right.left = this.left;
  }
};

function inc(scope) {
  scope.counter = scope.counter + 1;
}

var $root = new Scope();

n = 100000;
m = 10;

function doit() {
   var a = $root.new();
   var b = a.new();
   inc(b);
   if (i > m) $root.head.destroy();
}

for (var i = 0; i < n; i++) {
   doit();
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e6224d2^!)  
[src/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap.cc?cl=e6224d2)  
[src/lithium.cc](https://cs.chromium.org/chromium/src/v8/src/lithium.cc?cl=e6224d2)  
[src/lithium.h](https://cs.chromium.org/chromium/src/v8/src/lithium.h?cl=e6224d2)  
[src/mark-compact.cc](https://cs.chromium.org/chromium/src/v8/src/mark-compact.cc?cl=e6224d2)  
[src/mark-compact.h](https://cs.chromium.org/chromium/src/v8/src/mark-compact.h?cl=e6224d2)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=e6224d2)  
[src/objects-visiting-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-visiting-inl.h?cl=e6224d2)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=e6224d2)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=e6224d2)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=e6224d2)  
[test/mjsunit/regress/regress-2073.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2073.js?cl=e6224d2)  
  
---   

## **v8 issue:2499**  
   
**[Issue: A specific form of bitwise operations has incorrect value sometimes](https://crbug.com/v8/2499)**  
**[Commit: Fix pattern detection for replacing shifts by rotation.](https://chromium.googlesource.com/v8/v8/+/79a0e3b)**  
  
Date(Commit): Tue Jan 22 13:55:22 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/12047015](https://chromiumcodereview.appspot.com/12047015)  
Regress: [mjsunit/regress/regress-2499.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2499.js)  
```javascript
function foo(word, nBits) {
  return (word[1] >>> nBits) | (word[0] << (32 - nBits));
}

word = [0x1001, 0];

var expected = foo(word, 1);
foo(word, 1);
%OptimizeFunctionOnNextCall(foo);
var optimized = foo(word, 1);
assertEquals(expected, optimized)  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/79a0e3b^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=79a0e3b)  
[test/mjsunit/regress/regress-2499.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2499.js?cl=79a0e3b)  
  
---   

## **v8 issue:2489**  
   
**[Issue: Deoptimization of strict arguments object with function.prototype.apply(this, arguments) dispatching produces wrong values](https://crbug.com/v8/2489)**  
**[Commit: Fix arguments materialization for inlined apply().](https://chromium.googlesource.com/v8/v8/+/0484ddc)**  
  
Date(Commit): Wed Jan 16 09:25:45 2013  
Type: Bug  
Code Review: [https://codereview.chromium.org/11931012](https://codereview.chromium.org/11931012)  
Regress: [mjsunit/regress/regress-2489.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2489.js)  
```javascript
"use strict";

function f(a, b) {
  return g("c", "d");
}

function g(a, b) {
  g.constructor.apply(this, arguments);
}

g.constructor = function(a, b) {
  assertEquals("c", a);
  assertEquals("d", b);
}

f("a", "b");
f("a", "b");
%OptimizeFunctionOnNextCall(f);
f("a", "b");
g.x = "deopt";
f("a", "b");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0484ddc^!)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=0484ddc)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=0484ddc)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=0484ddc)  
[test/mjsunit/regress/regress-2489.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2489.js?cl=0484ddc)  
  
---   

## **v8 issue:2419**  
   
**[Issue: Array.prototype.sort does not check frozenness](https://crbug.com/v8/2419)**  
**[Commit: Check for read-only-ness when preparing for array sort.](https://chromium.googlesource.com/v8/v8/+/4ee20d8)**  
  
Date(Commit): Fri Jan 04 15:24:47 2013  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/11759022](https://chromiumcodereview.appspot.com/11759022)  
Regress: [mjsunit/regress/regress-2419.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2419.js)  
```javascript
var a = [5, 4, 3, 2, 1, 0];
Object.freeze(a);
assertThrows(function() { a.sort(); });
assertArrayEquals([5, 4, 3, 2, 1, 0], a);

var b = {0: 5, 1: 4, 2: 3, 3: 2, 4: 1, 5: 0, length: 6};
Object.freeze(b);
assertThrows(function() { Array.prototype.sort.call(b); });
assertPropertiesEqual({0: 5, 1: 4, 2: 3, 3: 2, 4: 1, 5: 0, length: 6}, b);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4ee20d8^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=4ee20d8)  
[test/mjsunit/regress/regress-2419.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2419.js?cl=4ee20d8)  
  
---   

## **v8 issue:2243**  
   
**[Issue: Assigning to function identifier under strict should throw](https://crbug.com/v8/2243)**  
**[Commit: Simplify implementation of assignment-to-const checks.](https://chromium.googlesource.com/v8/v8/+/c6bb497)**  
  
Date(Commit): Tue Dec 18 12:00:50 2012  
Type: Bug  
Code Review: [https://codereview.chromium.org/11607016](https://codereview.chromium.org/11607016)  
Regress: [mjsunit/es6/regress/regress-2243.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2243.js)  
```javascript
assertThrows("'use strict'; (function f() { f = 123; })()", TypeError);
assertThrows("(function f() { 'use strict'; f = 123; })()", TypeError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c6bb497^!)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=c6bb497)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=c6bb497)  
[src/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/full-codegen-mips.cc?cl=c6bb497)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=c6bb497)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=c6bb497)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=c6bb497)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=c6bb497)  
[test/mjsunit/regress/regress-2243.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2243.js?cl=c6bb497)  
  
---   

## **v8 issue:2315**  
   
**[Issue: Eval cannot be compiled lazily anymore](https://crbug.com/v8/2315)**  
**[Commit: Allow lazy compilation (and thus optimisation) of functions inside eval.](https://chromium.googlesource.com/v8/v8/+/3348b5c)**  
  
Date(Commit): Fri Dec 07 10:35:50 2012  
Type: ----  
Code Review: [https://codereview.chromium.org/11438042](https://codereview.chromium.org/11438042)  
Regress: [mjsunit/regress/regress-2315.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2315.js)  
```javascript
var foo = (function() {
  return eval("(function bar() { return 1; })");
})();

foo();
foo();
%OptimizeFunctionOnNextCall(foo);
foo();

assertOptimized(foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3348b5c^!)  
[src/contexts.h](https://cs.chromium.org/chromium/src/v8/src/contexts.h?cl=3348b5c)  
[src/lithium.h](https://cs.chromium.org/chromium/src/v8/src/lithium.h?cl=3348b5c)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=3348b5c)  
[src/preparser.h](https://cs.chromium.org/chromium/src/v8/src/preparser.h?cl=3348b5c)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=3348b5c)  
[test/mjsunit/regress/regress-2315.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2315.js?cl=3348b5c)  
[test/mjsunit/regress/regress-492.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-492.js?cl=3348b5c)  
[test/mjsunit/regress/regress-crbug-135066.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-crbug-135066.js?cl=3348b5c)  
  
---   

## **v8 issue:2443**  
   
**[Issue: Number.prototype.{toPrecision,toExponential} should accept out-of-range input for NaN/Infinity](https://crbug.com/v8/2443)**  
**[Commit: Fix spec violations in methods of Number.prototype.](https://chromium.googlesource.com/v8/v8/+/3388f92)**  
  
Date(Commit): Fri Dec 07 10:20:35 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/11465005](https://chromiumcodereview.appspot.com/11465005)  
Regress: [mjsunit/regress/regress-2443.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2443.js)  
```javascript
assertThrows(function() { Number.prototype.toExponential.call({}) },
             TypeError);

assertThrows(function() { Number.prototype.toPrecision.call({}) },
             TypeError);

assertThrows(function() { Number.prototype.toFixed.call({}) },
             TypeError);

assertThrows(function() { Number.prototype.toString.call({}) },
             TypeError);

assertThrows(function() { Number.prototype.toLocaleString.call({}) },
             TypeError);

assertThrows(function() { Number.prototype.ValueOf.call({}) },
             TypeError);




var x_obj = new Number(1);
x_obj.valueOf = function() { assertUnreachable(); };

assertEquals("1.00e+0",
             Number.prototype.toExponential.call(x_obj, 2));

assertEquals("1.0",
             Number.prototype.toPrecision.call(x_obj, 2));

assertEquals("1.00",
             Number.prototype.toFixed.call(x_obj, 2));


assertEquals("1.00e+0",
             Number.prototype.toExponential.call(1, 2));

assertEquals("1.0",
             Number.prototype.toPrecision.call(1, 2));

assertEquals("1.00",
             Number.prototype.toFixed.call(1, 2));










var f_flag = false;
var f_obj = { valueOf: function() { f_flag = true; return 1000; } };

assertEquals("NaN",
             Number.prototype.toExponential.call(NaN, f_obj));
assertTrue(f_flag);

f_flag = false;
assertEquals("Infinity",
             Number.prototype.toExponential.call(1/0, f_obj));
assertTrue(f_flag);

f_flag = false;
assertEquals("-Infinity",
             Number.prototype.toExponential.call(-1/0, f_obj));
assertTrue(f_flag);

f_flag = false;
assertEquals("NaN",
             Number.prototype.toPrecision.call(NaN, f_obj));
assertTrue(f_flag);

f_flag = false;
assertEquals("Infinity",
             Number.prototype.toPrecision.call(1/0, f_obj));
assertTrue(f_flag);

f_flag = false;
assertEquals("-Infinity",
             Number.prototype.toPrecision.call(-1/0, f_obj));
assertTrue(f_flag);



f_flag = false;
assertThrows(function() { Number.prototype.toFixed.call(NaN, f_obj) },
             RangeError);
assertTrue(f_flag);

f_flag = false;
assertThrows(function() { Number.prototype.toFixed.call(1/0, f_obj) },
             RangeError);
assertTrue(f_flag);

f_flag = false;
assertThrows(function() { Number.prototype.toFixed.call(-1/0, f_obj) },
             RangeError);
assertTrue(f_flag);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3388f92^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=3388f92)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=3388f92)  
[test/mjsunit/function-call.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/function-call.js?cl=3388f92)  
[test/mjsunit/regress/regress-2443.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2443.js?cl=3388f92)  
[test/mjsunit/regress/regress-crbug-18639.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-crbug-18639.js?cl=3388f92)  
  
---   

## **v8 issue:2444**  
   
**[Issue: Math.{max, min}() must not return after first NaN value](https://crbug.com/v8/2444)**  
**[Commit: Iterate through all arguments for side effects in Math.min/max.](https://chromium.googlesource.com/v8/v8/+/276c790)**  
  
Date(Commit): Thu Dec 06 13:13:38 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/11444030](https://chromiumcodereview.appspot.com/11444030)  
Regress: [mjsunit/regress/regress-2444.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2444.js)  
```javascript
var flags;

function resetFlags(size) {
  flags = Array(size);
  while (size--) flags[size] = 0;
}

function assertFlags(array) {
  assertArrayEquals(array, flags);
}

function object_factory(flag_index, value, expected_flags) {
  var obj = {};
  obj.valueOf = function() {
    assertFlags(expected_flags);
    flags[flag_index]++;
    return value;
  }
  return obj;
}


assertEquals(-Infinity, Math.max());

resetFlags(1);
assertEquals(NaN,
             Math.max(object_factory(0, NaN, [0])));
assertFlags([1]);

resetFlags(2);
assertEquals(NaN,
             Math.max(object_factory(0, NaN, [0, 0]),
                      object_factory(1,   0, [1, 0])));
assertFlags([1, 1]);

resetFlags(3);
assertEquals(NaN,
             Math.max(object_factory(0, NaN, [0, 0, 0]),
                      object_factory(1,   0, [1, 0, 0]),
                      object_factory(2,   1, [1, 1, 0])));
assertFlags([1, 1, 1]);

resetFlags(3);
assertEquals(NaN,
             Math.max(object_factory(0,   2, [0, 0, 0]),
                      object_factory(1,   0, [1, 0, 0]),
                      object_factory(2, NaN, [1, 1, 0])));
assertFlags([1, 1, 1]);

resetFlags(3);
assertEquals(2,
             Math.max(object_factory(0,   2, [0, 0, 0]),
                      object_factory(1,   0, [1, 0, 0]),
                      object_factory(2,   1, [1, 1, 0])));
assertFlags([1, 1, 1]);


assertEquals(+Infinity, Math.min());

resetFlags(1);
assertEquals(NaN,
             Math.min(object_factory(0, NaN, [0])));
assertFlags([1]);

resetFlags(2);
assertEquals(NaN,
             Math.min(object_factory(0, NaN, [0, 0]),
                      object_factory(1,   0, [1, 0])));
assertFlags([1, 1]);

resetFlags(3);
assertEquals(NaN,
             Math.min(object_factory(0, NaN, [0, 0, 0]),
                      object_factory(1,   0, [1, 0, 0]),
                      object_factory(2,   1, [1, 1, 0])));
assertFlags([1, 1, 1]);

resetFlags(3);
assertEquals(NaN,
             Math.min(object_factory(0,   2, [0, 0, 0]),
                      object_factory(1,   0, [1, 0, 0]),
                      object_factory(2, NaN, [1, 1, 0])));
assertFlags([1, 1, 1]);

resetFlags(3);
assertEquals(0,
             Math.min(object_factory(0,   2, [0, 0, 0]),
                      object_factory(1,   0, [1, 0, 0]),
                      object_factory(2,   1, [1, 1, 0])));
assertFlags([1, 1, 1]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/276c790^!)  
[src/math.js](https://cs.chromium.org/chromium/src/v8/src/math.js?cl=276c790)  
[test/mjsunit/regress/regress-2444.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2444.js?cl=276c790)  
  
---   

## **v8 issue:2438**  
   
**[Issue: [ES5.1 - 15.10.6.2] RegExp.prototype.exec(string), step 5 "ToInteger(lastIndex)" not always executed](https://crbug.com/v8/2438)**  
**[Commit: Fix spec violations related to regexp.lastIndex](https://chromium.googlesource.com/v8/v8/+/6c92aba)**  
  
Date(Commit): Wed Dec 05 12:32:25 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/11451005](https://chromiumcodereview.appspot.com/11451005)  
Regress: [mjsunit/regress/regress-2438.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2438.js)  
```javascript
function testSideEffects(subject, re) {
  var counter = 0;
  var side_effect_object = { valueOf: function() { return counter++; } };
  re.lastIndex = side_effect_object;
  re.exec(subject);

  assertEquals(1, counter);

  re.lastIndex = side_effect_object;
  re.test(subject);

  assertEquals(2, counter);
}

testSideEffects("zzzz", /a/);
testSideEffects("zzzz", /a/g);
testSideEffects("xaxa", /a/);
testSideEffects("xaxa", /a/g);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6c92aba^!)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=6c92aba)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=6c92aba)  
[src/regexp.js](https://cs.chromium.org/chromium/src/v8/src/regexp.js?cl=6c92aba)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=6c92aba)  
[src/string.js](https://cs.chromium.org/chromium/src/v8/src/string.js?cl=6c92aba)  
[test/mjsunit/regress/regress-2437.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2437.js?cl=6c92aba)  
[test/mjsunit/regress/regress-2438.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2438.js?cl=6c92aba)  
  
---   

## **v8 issue:2437**  
   
**[Issue: RegExp.prototype.exec should always update lastIndex if no match was found](https://crbug.com/v8/2437)**  
**[Commit: Fix spec violations related to regexp.lastIndex](https://chromium.googlesource.com/v8/v8/+/6c92aba)**  
  
Date(Commit): Wed Dec 05 12:32:25 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/11451005](https://chromiumcodereview.appspot.com/11451005)  
Regress: [mjsunit/regress/regress-2437.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2437.js)  
```javascript
r = /a/;
r.lastIndex = 1;
r.exec("zzzz");
assertEquals(1, r.lastIndex);


r = /a/;
r.lastIndex = 1;
r.test("zzzz");
assertEquals(1, r.lastIndex);


r = /a/;
r.lastIndex = 1;
"zzzz".match(r);
assertEquals(1, r.lastIndex);


r = /a/;
r.lastIndex = 1;
"zzzz".replace(r, "");
assertEquals(1, r.lastIndex);


r = /\d/;
r.lastIndex = 1;
"zzzz".replace(r, "");
assertEquals(1, r.lastIndex);


r = /a/;
r.lastIndex = 1;
"zzzz".replace(r, "a");
assertEquals(1, r.lastIndex);


r = /\d/;
r.lastIndex = 1;
"zzzz".replace(r, "a");
assertEquals(1, r.lastIndex);


r = /a/;
r.lastIndex = 1;
"zzzz".replace(r, function() { return ""; });
assertEquals(1, r.lastIndex);



r = /a/g;
r.lastIndex = -1;
"0123abcd".replace(r, "x");
assertEquals(0, r.lastIndex);

r.lastIndex = -1;
"01234567".replace(r, "x");
assertEquals(0, r.lastIndex);

r.lastIndex = -1;
"0123abcd".match(r);
assertEquals(0, r.lastIndex);

r.lastIndex = -1;
"01234567".match(r);
assertEquals(0, r.lastIndex);


r = /a/;
r.lastIndex = -1;
"0123abcd".replace(r, "x");
assertEquals(-1, r.lastIndex);

r.lastIndex = -1;
"01234567".replace(r, "x");
assertEquals(-1, r.lastIndex);

r.lastIndex = -1;
"0123abcd".match(r);
assertEquals(-1, r.lastIndex);

r.lastIndex = -1;
"01234567".match(r);
assertEquals(-1, r.lastIndex);

r = /a/y;
r.lastIndex = -1;
"0123abcd".replace(r, "x");
assertEquals(0, r.lastIndex);

r.lastIndex = -1;
"01234567".replace(r, "x");
assertEquals(0, r.lastIndex);



r = /a/g;
r.lastIndex = 1;
r.exec("01234567");
assertEquals(0, r.lastIndex);

r.lastIndex = 1;
r.exec("0123abcd");
assertEquals(5, r.lastIndex);

r = /a/;
r.lastIndex = 1;
r.exec("01234567");
assertEquals(1, r.lastIndex);

r.lastIndex = 1;
r.exec("0123abcd");
assertEquals(1, r.lastIndex);

r = /a/g;
r.lastIndex = 1;
r.test("01234567");
assertEquals(0, r.lastIndex);

r.lastIndex = 1;
r.test("0123abcd");
assertEquals(5, r.lastIndex);

r = /a/;
r.lastIndex = 1;
r.test("01234567");
assertEquals(1, r.lastIndex);

r.lastIndex = 1;
r.test("0123abcd");
assertEquals(1, r.lastIndex);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6c92aba^!)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=6c92aba)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=6c92aba)  
[src/regexp.js](https://cs.chromium.org/chromium/src/v8/src/regexp.js?cl=6c92aba)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=6c92aba)  
[src/string.js](https://cs.chromium.org/chromium/src/v8/src/string.js?cl=6c92aba)  
[test/mjsunit/regress/regress-2437.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2437.js?cl=6c92aba)  
[test/mjsunit/regress/regress-2438.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2438.js?cl=6c92aba)  
  
---   

## **v8 issue:2433**  
   
**[Issue: Array access past length leads to reading uninitialized data after transition to FAST_DOUBLE_ELEMENTS](https://crbug.com/v8/2433)**  
**[Commit: CopyPackedSmiToDoubleElements should fill the FixedDoubleArray with holes](https://chromium.googlesource.com/v8/v8/+/7553f0d)**  
  
Date(Commit): Thu Nov 29 08:34:19 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/11280223](https://chromiumcodereview.appspot.com/11280223)  
Regress: [mjsunit/regress/regress-2433.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2433.js)  
```javascript
arr = [];
arr[0] = 0;
arr[0] = 1.1;
assertEquals(undefined, arr[1]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7553f0d^!)  
[src/elements.cc](https://cs.chromium.org/chromium/src/v8/src/elements.cc?cl=7553f0d)  
[test/mjsunit/regress/regress-2433.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2433.js?cl=7553f0d)  
  
---   

## **v8 issue:2416**  
   
**[Issue: According to V8, 2147483647 <= -2147483648 is true.](https://crbug.com/v8/2416)**  
**[Commit: Fix corner case in x64 compare stubs.](https://chromium.googlesource.com/v8/v8/+/a956594)**  
  
Date(Commit): Tue Nov 20 15:57:10 2012  
Type: ----  
Code Review: [https://codereview.chromium.org/11413087](https://codereview.chromium.org/11413087)  
Regress: [mjsunit/regress/regress-2416.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2416.js)  
```javascript
assertFalse(2147483647 < -2147483648)
assertFalse(2147483647 <= -2147483648)
assertFalse(2147483647 == -2147483648)
assertTrue(2147483647 >= -2147483648)
assertTrue(2147483647 > -2147483648)

assertTrue(-2147483648 < 2147483647)
assertTrue(-2147483648 <= 2147483647)
assertFalse(-2147483648 == 2147483647)
assertFalse(-2147483648 >= 2147483647)
assertFalse(-2147483648 > 2147483647)

assertFalse(2147483647 < 2147483647)
assertTrue(2147483647 <= 2147483647)
assertTrue(2147483647 == 2147483647)
assertTrue(2147483647 >= 2147483647)
assertFalse(2147483647 > 2147483647)

assertFalse(-2147483648 < -2147483648)
assertTrue(-2147483648 <= -2147483648)
assertTrue(-2147483648 == -2147483648)
assertTrue(-2147483648 >= -2147483648)
assertFalse(-2147483648 > -2147483648)


assertFalse(1073741823 < -1073741824)
assertFalse(1073741823 <= -1073741824)
assertFalse(1073741823 == -1073741824)
assertTrue(1073741823 >= -1073741824)
assertTrue(1073741823 > -1073741824)

assertTrue(-1073741824 < 1073741823)
assertTrue(-1073741824 <= 1073741823)
assertFalse(-1073741824 == 1073741823)
assertFalse(-1073741824 >= 1073741823)
assertFalse(-1073741824 > 1073741823)

assertFalse(1073741823 < 1073741823)
assertTrue(1073741823 <= 1073741823)
assertTrue(1073741823 == 1073741823)
assertTrue(1073741823 >= 1073741823)
assertFalse(1073741823 > 1073741823)

assertFalse(-1073741824 < -1073741824)
assertTrue(-1073741824 <= -1073741824)
assertTrue(-1073741824 == -1073741824)
assertTrue(-1073741824 >= -1073741824)
assertFalse(-1073741824 > -1073741824)  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a956594^!)  
[src/x64/code-stubs-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/code-stubs-x64.cc?cl=a956594)  
[test/mjsunit/regress/regress-2416.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2416.js?cl=a956594)  
  
---   

## **v8 issue:2263**  
   
**[Issue: Array.prototype.join must perform ToUint32(length) before ToString(separator)](https://crbug.com/v8/2263)**  
**[Commit: Fix Array.prototype.join evaluation order.](https://chromium.googlesource.com/v8/v8/+/3d1582c)**  
  
Date(Commit): Fri Nov 16 12:45:23 2012  
Type: Bug  
Code Review: [https://codereview.chromium.org/11280025](https://codereview.chromium.org/11280025)  
Regress: [mjsunit/regress/regress-2263.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2263.js)  
```javascript
assertThrows = function assertThrows(code, type_opt, cause_opt) {
  var threwException = true;
  try {
    if (typeof code === 'function') {
      code();
    } else {
      eval(code);
    }
    threwException = false;
  } catch (e) {
    if (typeof type_opt === 'function') {
      assertInstanceof(e, type_opt);
    } else if (type_opt !== void 0) {
      failWithMessage("invalid use of assertThrows, maybe you want assertThrowsEquals");
    }
    if (arguments.length >= 3) {
      assertEquals(e.type, cause_opt);
    }
    
    return;
  }
  failWithMessage("Did not throw exception");
};

var obj = { length: { valueOf: function(){ throw { type: "length" }}}};
var sep = { toString: function(){ throw { type: "toString" }}};
assertThrows("Array.prototype.join.call(obj, sep)", undefined, "length");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3d1582c^!)  
[src/array.js](https://cs.chromium.org/chromium/src/v8/src/array.js?cl=3d1582c)  
[test/mjsunit/regress/regress-2263.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2263.js?cl=3d1582c)  
  
---   

## **v8 issue:2410**  
   
**[Issue: Object.getOwnPropertyNames() should not access Object.prototype](https://crbug.com/v8/2410)**  
**[Commit: When using an Object as a set in Object.getOwnPropertyNames, null out the proto](https://chromium.googlesource.com/v8/v8/+/af824ea)**  
  
Date(Commit): Fri Nov 16 09:32:39 2012  
Type: ----  
Code Review: [https://codereview.chromium.org/11364237](https://codereview.chromium.org/11364237)  
Regress: [mjsunit/regress/regress-2410.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2410.js)  
```javascript
Object.defineProperty(Object.prototype,
                      'thrower',
                      { get: function() { throw Error('bug') } });
var obj = { thrower: 'local' };
assertEquals(['thrower'], Object.getOwnPropertyNames(obj));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/af824ea^!)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=af824ea)  
[test/mjsunit/regress/regress-2410.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2410.js?cl=af824ea)  
  
---   

## **v8 issue:2398**  
   
**[Issue: Formatting Error.message is observable.](https://crbug.com/v8/2398)**  
**[Commit: Make formatting error message side-effect-free.](https://chromium.googlesource.com/v8/v8/+/4cca6c6)**  
  
Date(Commit): Mon Nov 12 10:33:20 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/11359130](https://chromiumcodereview.appspot.com/11359130)  
Regress: [mjsunit/regress/regress-2398.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2398.js)  
```javascript
"use strict";

var observed = false;

var object = { get toString() { observed = true; } };
Object.defineProperty(object, "ro", { value: 1 });

try {
  object.ro = 2;  
} catch (e) {
  e.message;  
}

assertFalse(observed);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4cca6c6^!)  
[src/isolate.cc](https://cs.chromium.org/chromium/src/v8/src/isolate.cc?cl=4cca6c6)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=4cca6c6)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=4cca6c6)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=4cca6c6)  
[test/mjsunit/regress/regress-2398.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2398.js?cl=4cca6c6)  
  
---   

## **v8 issue:2374**  
   
**[Issue: JSON.parse() is broken after r12747](https://crbug.com/v8/2374)**  
**[Commit: Fixed json regression](https://chromium.googlesource.com/v8/v8/+/fa53250)**  
  
Date(Commit): Fri Oct 19 08:23:45 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/11186059](https://chromiumcodereview.appspot.com/11186059)  
Regress: [mjsunit/regress/regress-2374.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2374.js)  
```javascript
var msg = '{"result":{"profile":{"head":{"functionName":"(root)","url":"","lineNumber":0,"totalTime":495.7243772462511,"selfTime":0,"numberOfCalls":0,"visible":true,"callUID":2771605942,"children":[{"functionName":"(program)","url":"","lineNumber":0,"totalTime":495.7243772462511,"selfTime":495.7243772462511,"numberOfCalls":0,"visible":true,"callUID":1902715303,"children":[]}]},"bottomUpHead":{"functionName":"(root)","url":"","lineNumber":0,"totalTime":495.7243772462511,"selfTime":0,"numberOfCalls":0,"visible":true,"callUID":2771605942,"children":[{"functionName":"(program)","url":"","lineNumber":0,"totalTime":495.7243772462511,"selfTime":495.7243772462511,"numberOfCalls":0,"visible":true,"callUID":1902715303,"children":[]}]}}},"id":41}';

var obj = JSON.parse(msg);
var obj2 = JSON.parse(msg);

assertEquals(JSON.stringify(obj), JSON.stringify(obj2));
assertEquals(JSON.stringify(obj, null, 0), JSON.stringify(obj2));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fa53250^!)  
[src/json-parser.h](https://cs.chromium.org/chromium/src/v8/src/json-parser.h?cl=fa53250)  
[test/mjsunit/regress/regress-2374.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2374.js?cl=fa53250)  
  
---   

## **v8 issue:2373**  
   
**[Issue: JSON.parse() is broken after r12761](https://crbug.com/v8/2373)**  
**[Commit: Fixed error introduced in r12761.](https://chromium.googlesource.com/v8/v8/+/7bc94a9)**  
  
Date(Commit): Thu Oct 18 18:43:19 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/11198068](https://chromiumcodereview.appspot.com/11198068)  
Regress: [mjsunit/regress/regress-2373.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2373.js)  
```javascript
var o = JSON.parse('{"a":2600753951}');
assertEquals(2600753951, o.a);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7bc94a9^!)  
[src/json-parser.h](https://cs.chromium.org/chromium/src/v8/src/json-parser.h?cl=7bc94a9)  
[test/mjsunit/regress/regress-2373.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2373.js?cl=7bc94a9)  
  
---   

## **v8 issue:2322**  
   
**[Issue: Crash in "let" scope resolution](https://crbug.com/v8/2322)**  
**[Commit: Reject uses of lexical for-loop variable on the RHS.](https://chromium.googlesource.com/v8/v8/+/3f7b5c3)**  
  
Date(Commit): Fri Oct 05 09:07:53 2012  
Type: Bug  
Code Review: [https://codereview.chromium.org/11031045](https://codereview.chromium.org/11031045)  
Regress: [mjsunit/es6/regress/regress-2322.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2322.js)  
```javascript
"use strict";

assertThrows("'use strict'; for (let x in x);", ReferenceError);

let s;
for (let pppp in {}) {};
assertThrows(function() { pppp = true }, ReferenceError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3f7b5c3^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=3f7b5c3)  
[test/mjsunit/regress/regress-2322.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2322.js?cl=3f7b5c3)  
  
---   

## **v8 issue:2339**  
   
**[Issue: Wrong handling of constant operand 0 in integer multiplication.](https://crbug.com/v8/2339)**  
**[Commit: Avoid wrong imul deopt on ia32 and x64 (fixes v8 bug 2339).](https://chromium.googlesource.com/v8/v8/+/8fbfad6)**  
  
Date(Commit): Wed Sep 26 09:57:30 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10963032](https://chromiumcodereview.appspot.com/10963032)  
Regress: [mjsunit/regress/regress-2339.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2339.js)  
```javascript
function simple() {
  return simple_two_args(0, undefined);
}

function simple_two_args(always_zero, always_undefined) {
  var always_five = always_undefined || 5;
  return always_zero * always_five * .5;
}


simple();
simple();
%OptimizeFunctionOnNextCall(simple);
simple();
assertOptimized(simple);
gc();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8fbfad6^!)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=8fbfad6)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=8fbfad6)  
[test/mjsunit/regress/regress-1117.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1117.js?cl=8fbfad6)  
[test/mjsunit/regress/regress-2339.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2339.js?cl=8fbfad6)  
  
---   

## **v8 issue:2346**  
   
**[Issue: Generic KeyedStoreIC doesn't change length and element_kind atomically](https://crbug.com/v8/2346)**  
**[Commit: x64 and ARM: Fix issue 2346 (order of operations in keyed store](https://chromium.googlesource.com/v8/v8/+/72e9f1b)**  
  
Date(Commit): Tue Sep 25 13:35:42 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10985017](https://chromiumcodereview.appspot.com/10985017)  
Regress: [mjsunit/regress/regress-2346.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2346.js)  
```javascript
function get() { return x; }
function set(x) { this.x = x; }

var obj = {x: 1};
obj.__defineGetter__("accessor", get);
obj.__defineSetter__("accessor", set);
var a = new Array();
a[1] = 42;
obj[1] = 42;

var descIsData = Object.getOwnPropertyDescriptor(obj, 'x');
assertTrue(descIsData.enumerable);
assertTrue(descIsData.writable);
assertTrue(descIsData.configurable);

var descIsAccessor = Object.getOwnPropertyDescriptor(obj, 'accessor');
assertTrue(descIsAccessor.enumerable);
assertTrue(descIsAccessor.configurable);
assertTrue(descIsAccessor.get == get);
assertTrue(descIsAccessor.set == set);

var descIsNotData = Object.getOwnPropertyDescriptor(obj, 'not-x');
assertTrue(descIsNotData == undefined);

var descIsNotAccessor = Object.getOwnPropertyDescriptor(obj, 'not-accessor');
assertTrue(descIsNotAccessor == undefined);

var descArray = Object.getOwnPropertyDescriptor(a, '1');
assertTrue(descArray.enumerable);
assertTrue(descArray.configurable);
assertTrue(descArray.writable);
assertEquals(descArray.value, 42);

var descObjectElement = Object.getOwnPropertyDescriptor(obj, '1');
assertTrue(descObjectElement.enumerable);
assertTrue(descObjectElement.configurable);
assertTrue(descObjectElement.writable);
assertEquals(descObjectElement.value, 42);


var a = new String('foobar');
for (var i = 0; i < a.length; i++) {
  var descStringObject = Object.getOwnPropertyDescriptor(a, i);
  assertTrue(descStringObject.enumerable);
  assertFalse(descStringObject.configurable);
  assertFalse(descStringObject.writable);
  assertEquals(descStringObject.value, a.substring(i, i+1));
}


a.x = 42;
a[10] = 'foo';
var descStringProperty = Object.getOwnPropertyDescriptor(a, 'x');
assertTrue(descStringProperty.enumerable);
assertTrue(descStringProperty.configurable);
assertTrue(descStringProperty.writable);
assertEquals(descStringProperty.value, 42);

var descStringElement = Object.getOwnPropertyDescriptor(a, '10');
assertTrue(descStringElement.enumerable);
assertTrue(descStringElement.configurable);
assertTrue(descStringElement.writable);
assertEquals(descStringElement.value, 'foo');


var proto = {};
proto[10] = 42;

var objWithProto = new Array();
objWithProto.prototype = proto;
objWithProto[0] = 'bar';
var descWithProto = Object.getOwnPropertyDescriptor(objWithProto, '10');
assertEquals(undefined, descWithProto);


var global = (function() { return this; })();

global[42] = 42;

function el_getter() { return 239; };
function el_setter() {};
Object.defineProperty(global, '239', {get: el_getter, set: el_setter});

var descRegularElement = Object.getOwnPropertyDescriptor(global, '42');
assertEquals(42, descRegularElement.value);

var descAccessorElement = Object.getOwnPropertyDescriptor(global, '239');
assertEquals(el_getter, descAccessorElement.get);
assertEquals(el_setter, descAccessorElement.set);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/72e9f1b^!)  
[src/arm/ic-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/ic-arm.cc?cl=72e9f1b)  
[src/builtins.cc](https://cs.chromium.org/chromium/src/v8/src/builtins.cc?cl=72e9f1b)  
[src/ia32/ic-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/ic-ia32.cc?cl=72e9f1b)  
[src/ic.h](https://cs.chromium.org/chromium/src/v8/src/ic.h?cl=72e9f1b)  
[src/x64/ic-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/ic-x64.cc?cl=72e9f1b)  
[test/mjsunit/regress/regress-2346.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2346.js?cl=72e9f1b)  
  
---   

## **v8 issue:2326**  
   
**[Issue: Fatal error: CHECK(BailoutId(data->OsrAstId()->value()) == ast_id) failed](https://crbug.com/v8/2326)**  
**[Commit: Fix caching of optimized code for OSR.](https://chromium.googlesource.com/v8/v8/+/77a7d9f)**  
  
Date(Commit): Fri Sep 14 10:41:31 2012  
Type: Bug  
Code Review: [https://codereview.chromium.org/10933088](https://codereview.chromium.org/10933088)  
Regress: [mjsunit/regress/regress-2326.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2326.js)  
```javascript
function makeClosure() {
  function f(mode, iterations) {
    var accumulator = 0;
    if (mode == 1) {
      while (--iterations > 0) accumulator = Math.ceil(accumulator);
      return 1;
    } else {
      while (--iterations > 0) accumulator = Math.floor(accumulator);
      return 2;
    }
  }
  return f;
}


var f1 = makeClosure();
var f2 = makeClosure();


assertSame(1, f1(1, 100000));


assertSame(2, f2(2, 100000));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/77a7d9f^!)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=77a7d9f)  
[test/mjsunit/regress/regress-2326.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2326.js?cl=77a7d9f)  
  
---   

## **v8 issue:2261**  
   
**[Issue: Materialization of arguments object during deopt in strict mode yields wrong values](https://crbug.com/v8/2261)**  
**[Commit: Fix arguments object materialization during deopt.](https://chromium.googlesource.com/v8/v8/+/f37f504)**  
  
Date(Commit): Wed Sep 12 12:28:42 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10908194](https://chromiumcodereview.appspot.com/10908194)  
Regress: [mjsunit/regress/regress-2261.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2261.js)  
```javascript
(function () {
  var forceDeopt = 0;
  function inner(x) {
    "use strict";
    x = 2;
    
    
    %DebugPrint(arguments[0]);
    forceDeopt + 1;
    return arguments[0];
  }

  assertEquals(1, inner(1));
  assertEquals(1, inner(1));
  %OptimizeFunctionOnNextCall(inner);
  assertEquals(1, inner(1));
  forceDeopt = "not a number";
  assertEquals(1, inner(1));
})();





(function () {
  var forceDeopt = 0;
  function inner(x) {
    "use strict";
    x = 2;
    
    
    %DebugPrint(arguments[0]);
    forceDeopt + 1;
    return arguments[0];
  }

  function outer(x) {
    return inner(x);
  }

  assertEquals(1, outer(1));
  assertEquals(1, outer(1));
  %OptimizeFunctionOnNextCall(outer);
  assertEquals(1, outer(1));
  forceDeopt = "not a number";
  assertEquals(1, outer(1));
})();





(function () {
  var forceDeopt = 0;
  function inner(x,y,z) {
    "use strict";
    x = 3;
    
    
    %DebugPrint(arguments[0]);
    forceDeopt + 1;
    return arguments[0];
  }

  function middle(x) {
    "use strict";
    x = 2;
    return inner(10*x, 20*x, 30*x) + arguments[0];
  }

  function outer(x) {
   return middle(x);
  }

  assertEquals(21, outer(1));
  assertEquals(21, outer(1));
  %OptimizeFunctionOnNextCall(outer);
  assertEquals(21, outer(1));
  forceDeopt = "not a number";
  assertEquals(21, outer(1));
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f37f504^!)  
[src/arm/lithium-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-arm.cc?cl=f37f504)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=f37f504)  
[src/arm/lithium-codegen-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.h?cl=f37f504)  
[src/deoptimizer.cc](https://cs.chromium.org/chromium/src/v8/src/deoptimizer.cc?cl=f37f504)  
[src/deoptimizer.h](https://cs.chromium.org/chromium/src/v8/src/deoptimizer.h?cl=f37f504)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=f37f504)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=f37f504)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=f37f504)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=f37f504)  
[src/ia32/lithium-codegen-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.h?cl=f37f504)  
[src/ia32/lithium-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.cc?cl=f37f504)  
[src/lithium.h](https://cs.chromium.org/chromium/src/v8/src/lithium.h?cl=f37f504)  
[src/mips/lithium-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/lithium-codegen-mips.cc?cl=f37f504)  
[src/mips/lithium-codegen-mips.h](https://cs.chromium.org/chromium/src/v8/src/mips/lithium-codegen-mips.h?cl=f37f504)  
[src/mips/lithium-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/lithium-mips.cc?cl=f37f504)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=f37f504)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=f37f504)  
[src/x64/lithium-codegen-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.h?cl=f37f504)  
[src/x64/lithium-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.cc?cl=f37f504)  
[test/mjsunit/compiler/inline-arguments.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/inline-arguments.js?cl=f37f504)  
[test/mjsunit/object-define-property.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/object-define-property.js?cl=f37f504)  
[test/mjsunit/regress/regress-2261.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2261.js?cl=f37f504)  
  
---   

## **v8 issue:2250**  
   
**[Issue: LICM is too aggressive with moving checks across conditional control flow](https://crbug.com/v8/2250)**  
**[Commit: Disable speculative LICM when it may lead to unnecessary deopts](https://chromium.googlesource.com/v8/v8/+/3544e2e)**  
  
Date(Commit): Thu Aug 23 21:08:58 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10867033](https://chromiumcodereview.appspot.com/10867033)  
Regress: [mjsunit/regress/regress-2250.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2250.js)  
```javascript
function eq(a, b) {
  if (typeof b === "object") {
    return b.equals(a);  
  }
  return a === b;
}

Object.prototype.equals = function (other) {
  return (this === other);
};

function test() {
  for (var i = 0; !eq(i, 10); i++)
    ;
}

eq({}, {});
eq({}, {});
eq(1, 1);
eq(1, 1);
test();
%OptimizeFunctionOnNextCall(test);
test();
%OptimizeFunctionOnNextCall(test);


test();
assertOptimized(test);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3544e2e^!)  
[src/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap.cc?cl=3544e2e)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=3544e2e)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=3544e2e)  
[src/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic.cc?cl=3544e2e)  
[src/objects-debug.cc](https://cs.chromium.org/chromium/src/v8/src/objects-debug.cc?cl=3544e2e)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=3544e2e)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=3544e2e)  
[test/mjsunit/regress/regress-2250.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2250.js?cl=3544e2e)  
  
---   

## **v8 issue:2294**  
   
**[Issue: Apparently incorrect rounding in Uint8ClampedArray implementation in V8](https://crbug.com/v8/2294)**  
**[Commit: Fix rounding in Uint8ClampedArray setter.](https://chromium.googlesource.com/v8/v8/+/efc26f9)**  
  
Date(Commit): Wed Aug 22 14:27:11 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10831409](https://chromiumcodereview.appspot.com/10831409)  
Regress: [mjsunit/regress/regress-2294.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2294.js)  
```javascript
var clampedArray = new Uint8ClampedArray(10);

function test() {
  clampedArray[0] = 0.499;
  assertEquals(0, clampedArray[0]);
  clampedArray[0] = 0.5;
  assertEquals(0, clampedArray[0]);
  clampedArray[0] = 0.501;
  assertEquals(1, clampedArray[0]);
  clampedArray[0] = 1.499;
  assertEquals(1, clampedArray[0]);
  clampedArray[0] = 1.5;
  assertEquals(2, clampedArray[0]);
  clampedArray[0] = 1.501;
  assertEquals(2, clampedArray[0]);
  clampedArray[0] = 2.5;
  assertEquals(2, clampedArray[0]);
  clampedArray[0] = 3.5;
  assertEquals(4, clampedArray[0]);
  clampedArray[0] = 252.5;
  assertEquals(252, clampedArray[0]);
  clampedArray[0] = 253.5;
  assertEquals(254, clampedArray[0]);
  clampedArray[0] = 254.5;
  assertEquals(254, clampedArray[0]);
  clampedArray[0] = 256.5;
  assertEquals(255, clampedArray[0]);
  clampedArray[0] = -0.5;
  assertEquals(0, clampedArray[0]);
  clampedArray[0] = -1.5;
  assertEquals(0, clampedArray[0]);
  clampedArray[0] = 1000000000000;
  assertEquals(255, clampedArray[0]);
  clampedArray[0] = -1000000000000;
  assertEquals(0, clampedArray[0]);
}

test();
test();
%OptimizeFunctionOnNextCall(test);
test();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/efc26f9^!)  
[src/arm/macro-assembler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.cc?cl=efc26f9)  
[src/ia32/assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/assembler-ia32.cc?cl=efc26f9)  
[src/ia32/assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/assembler-ia32.h?cl=efc26f9)  
[src/ia32/disasm-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/disasm-ia32.cc?cl=efc26f9)  
[src/ia32/macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.cc?cl=efc26f9)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=efc26f9)  
[src/platform.h](https://cs.chromium.org/chromium/src/v8/src/platform.h?cl=efc26f9)  
[src/x64/macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.cc?cl=efc26f9)  
[test/mjsunit/regress/regress-2294.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2294.js?cl=efc26f9)  
  
---   

## **v8 issue:2291**  
   
**[Issue: Object equality check error](https://crbug.com/v8/2291)**  
**[Commit: Fix bug in compare IC.  BUG=2291](https://chromium.googlesource.com/v8/v8/+/ee3a66b)**  
  
Date(Commit): Wed Aug 15 15:08:42 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/10830334](https://chromiumcodereview.appspot.com/10830334)  
Regress: [mjsunit/regress/regress-2291.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2291.js)  
```javascript
function StrictCompare(x) { return x === Object(x); }

var obj = new Object();
var obj2 = new Object();
obj == obj;  

StrictCompare(obj);  

assertFalse(StrictCompare('foo'));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ee3a66b^!)  
[src/code-stubs.cc](https://cs.chromium.org/chromium/src/v8/src/code-stubs.cc?cl=ee3a66b)  
[src/heap.h](https://cs.chromium.org/chromium/src/v8/src/heap.h?cl=ee3a66b)  
[test/mjsunit/regress/regress-2291.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2291.js?cl=ee3a66b)  
  
---   

## **v8 issue:2289**  
   
**[Issue: string.replace crashes for very long strings](https://crbug.com/v8/2289)**  
**[Commit: Ensure capacity when adding parts in String.replace.](https://chromium.googlesource.com/v8/v8/+/28c8929)**  
  
Date(Commit): Tue Aug 14 11:33:12 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10830304](https://chromiumcodereview.appspot.com/10830304)  
Regress: [mjsunit/regress/regress-2289.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2289.js)  
```javascript
var foo = "a";
for (var i = 0; i < 12; i++) foo += foo;
foo = foo + 'b' + foo;

foo.replace(/b/, "a");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/28c8929^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=28c8929)  
[test/mjsunit/regress/regress-2289.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2289.js?cl=28c8929)  
  
---   

## **v8 issue:2286**  
   
**[Issue: segfault when calling unknown inline runtime call.](https://crbug.com/v8/2286)**  
**[Commit: Prevent segfault on undefined inline runtime call.](https://chromium.googlesource.com/v8/v8/+/d3733ce)**  
  
Date(Commit): Tue Aug 14 10:06:34 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10828282](https://chromiumcodereview.appspot.com/10828282)  
Regress: [mjsunit/regress/regress-2286.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2286.js)  
```javascript
assertThrows("f()", ReferenceError);
assertThrows("%f()", Error);
assertThrows("%_f()", SyntaxError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d3733ce^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=d3733ce)  
[test/mjsunit/regress-2286.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress-2286.js?cl=d3733ce)  
  
---   

## **v8 issue:2284**  
   
**[Issue: Calling %constructor() on the builtins global object causes crashes](https://crbug.com/v8/2284)**  
**[Commit: Remove prototype of global builtins object.](https://chromium.googlesource.com/v8/v8/+/e77f24f)**  
  
Date(Commit): Mon Aug 13 15:34:49 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10854116](https://chromiumcodereview.appspot.com/10854116)  
Regress: [mjsunit/regress/regress-2284.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2284.js)  
```javascript
assertThrows("%foobar();", Error);
assertThrows("%constructor();", Error);
assertThrows("%constructor(23);", Error);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e77f24f^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=e77f24f)  
[test/mjsunit/regress/regress-2284.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2284.js?cl=e77f24f)  
  
---   

## **v8 issue:2249**  
   
**[Issue: Whiteness witness triggers when transforming dictionary to fast elements if the backing store is the empty array.](https://crbug.com/v8/2249)**  
**[Commit: Fix corner case when transforming dictionary to fast elements.](https://chromium.googlesource.com/v8/v8/+/50bf19a)**  
  
Date(Commit): Mon Jul 23 08:41:53 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10802051](https://chromiumcodereview.appspot.com/10802051)  
Regress: [mjsunit/regress/regress-2249.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2249.js)  
```javascript
var o = {};
o[Math.pow(2,30)-1] = 0;
o[Math.pow(2,31)-1] = 0;
o[1] = 0;  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/50bf19a^!)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=50bf19a)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=50bf19a)  
[test/mjsunit/regress-2249.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress-2249.js?cl=50bf19a)  
  
---   

## **v8 issue:2234**  
   
**[Issue: Math.sin(0) is sometimes incorrect on ARM](https://crbug.com/v8/2234)**  
**[Commit: Fix transcendental cache on ARM in optimized code.](https://chromium.googlesource.com/v8/v8/+/022ba05)**  
  
Date(Commit): Mon Jul 16 09:44:59 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/10695205](https://chromiumcodereview.appspot.com/10695205)  
Regress: [mjsunit/regress/regress-2234.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2234.js)  
```javascript
function test(i) {
  
  Math.sin(i / 1779 * Math.PI);
  
  
  assertEquals(0, Math.sin(0));
}

for (i = 0; i < 10000; ++i) {
  test(i);
  if (i == 0) %OptimizeFunctionOnNextCall(test);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/022ba05^!)  
[src/arm/code-stubs-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/code-stubs-arm.cc?cl=022ba05)  
[test/mjsunit/regress/regress-2234.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2234.js?cl=022ba05)  
  
---   

## **v8 issue:1591**  
   
**[Issue: Reading Error.stack in a __lookupGetter__ causes inf loop](https://crbug.com/v8/1591)**  
**[Commit: Do not use user-defined __lookupGetter__ when generating stack trace.](https://chromium.googlesource.com/v8/v8/+/2a81966)**  
  
Date(Commit): Wed Jul 11 11:35:19 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/10736030](https://chromiumcodereview.appspot.com/10736030)  
Regress: [mjsunit/regress/regress-1591.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1591.js)  
```javascript
var stack;
var used_custom_lookup = false;

({
  __lookupGetter__ : function() {
    used_custom_lookup = true;
  },

  test : function() {
    try {
      f();
    } catch (err) {
      stack = err.stack;
    }
  }
}).test();

var expected_message = "ReferenceError: f is not defined";
assertTrue(stack.indexOf(expected_message) >= 0);
assertFalse(used_custom_lookup);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2a81966^!)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=2a81966)  
[test/mjsunit/regress/regress-1591.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1591.js?cl=2a81966)  
  
---   

## **v8 issue:2225**  
   
**[Issue: SharedFunctionInfo::CanGenerateInlineConstructor can't cope with proxies](https://crbug.com/v8/2225)**  
**[Commit: Fix inline constructors for Harmony Proxy prototypes.](https://chromium.googlesource.com/v8/v8/+/09bfdab)**  
  
Date(Commit): Tue Jul 10 11:28:33 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10736009](https://chromiumcodereview.appspot.com/10736009)  
Regress: [mjsunit/es6/regress/regress-2225.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2225.js)  
```javascript
var proxy_has_x = false;
var proxy = new Proxy({}, {
  get(t, key, receiver) {
    assertSame('x', key);
    if (proxy_has_x) { return 19 }
    return 8;
  }
});


assertSame(undefined, Object.prototype.__lookupGetter__.call(proxy, 'foo'));
assertSame(undefined, Object.prototype.__lookupSetter__.call(proxy, 'bar'));
assertSame(undefined, Object.prototype.__lookupGetter__.call(proxy, '123'));
assertSame(undefined, Object.prototype.__lookupSetter__.call(proxy, '456'));


var object = Object.create(proxy);
assertSame(undefined, Object.prototype.__lookupGetter__.call(object, 'foo'));
assertSame(undefined, Object.prototype.__lookupSetter__.call(object, 'bar'));
assertSame(undefined, Object.prototype.__lookupGetter__.call(object, '123'));
assertSame(undefined, Object.prototype.__lookupSetter__.call(object, '456'));


function F() { this.x = 42 }
F.prototype = proxy;
var instance = new F();

proxy_has_x = false;
assertSame(42, instance.x);
delete instance.x;
assertSame(8, instance.x);

proxy_has_x = true;
assertSame(19, instance.x);


function G() { this.x = 42; }
G.prototype.__proto__ = proxy;
instance = new G();

proxy_has_x = false;
assertSame(42, instance.x);
delete instance.x;
assertSame(8, instance.x);

proxy_has_x = true;
assertSame(19, instance.x);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/09bfdab^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=09bfdab)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=09bfdab)  
[test/mjsunit/regress/regress-2225.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2225.js?cl=09bfdab)  
  
---   

## **v8 issue:2226**  
   
**[Issue: Multiple assignments set wrong values](https://crbug.com/v8/2226)**  
**[Commit: After transitioning to constant function, return the constant function as result of the assignment.](https://chromium.googlesource.com/v8/v8/+/1007696)**  
  
Date(Commit): Tue Jul 10 09:31:30 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/10700137](https://chromiumcodereview.appspot.com/10700137)  
Regress: [mjsunit/regress/regress-2226.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2226.js)  
```javascript
var foo = function() { 0; /* foo function */ };
var bar = function() { 1; /* bar function */ };
var baz = function() { 2; /* baz function */ };

var test = foo.test = bar.test = baz;

assertEquals(baz, test);
assertEquals(baz, foo.test);
assertEquals(baz, bar.test);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1007696^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=1007696)  
[test/mjsunit/regress/regress-2226.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2226.js?cl=1007696)  
  
---   

## **v8 issue:2219**  
   
**[Issue: Harmony Proxy traps are not GC-safe](https://crbug.com/v8/2219)**  
**[Commit: Fix unhandlified code calling Harmony Proxy traps.](https://chromium.googlesource.com/v8/v8/+/026f179)**  
  
Date(Commit): Fri Jul 06 11:34:22 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10703103](https://chromiumcodereview.appspot.com/10703103)  
Regress: [mjsunit/es6/regress/regress-2219.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2219.js)  
```javascript
var p = new Proxy({}, {getOwnPropertyDescriptor: function() { gc() }});
var o = Object.create(p);
assertSame(23, o.x = 23);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/026f179^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=026f179)  
[test/mjsunit/regress/regress-2219.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2219.js?cl=026f179)  
  
---   

## **v8 issue:2119**  
   
**[Issue: error in strict mode with --nouse_ic](https://crbug.com/v8/2119)**  
**[Commit: Correctly throw reference error in strict mode with ICs disabled.](https://chromium.googlesource.com/v8/v8/+/99a58e3)**  
  
Date(Commit): Mon Jun 25 13:28:11 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/10659011](https://chromiumcodereview.appspot.com/10659011)  
Regress: [mjsunit/regress/regress-2119.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2119.js)  
```javascript
function strict_function() {
  "use strict"
  undeclared = 1;
}

assertThrows(strict_function);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/99a58e3^!)  
[src/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic.cc?cl=99a58e3)  
[test/mjsunit/regress/regress-2119.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2119.js?cl=99a58e3)  
  
---   

## **v8 issue:2193**  
   
**[Issue: V8 roll to 3.12.1 introduced intermittent crashes in layout tests](https://crbug.com/v8/2193)**  
**[Commit: Fix sharing of literal boilerplates for optimized code.](https://chromium.googlesource.com/v8/v8/+/84b866b)**  
  
Date(Commit): Fri Jun 22 13:55:15 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10649008](https://chromiumcodereview.appspot.com/10649008)  
Regress: [mjsunit/regress/regress-2193.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2193.js)  
```javascript
function bozo() {};
function MakeClosure() {
  return function f(use_literals) {
    if (use_literals) {
      return [1,2,3,3,4,5,6,7,8,9,bozo];
    } else {
      return 0;
    }
  }
}


var closure1 = MakeClosure();
var closure2 = MakeClosure();
var expected = [1,2,3,3,4,5,6,7,8,9,bozo];




assertEquals(0, closure1(false));
assertEquals(expected, closure1(true));
%OptimizeFunctionOnNextCall(closure1);
assertEquals(expected, closure1(true));



assertEquals(0, closure2(false));
%OptimizeFunctionOnNextCall(closure2);
assertEquals(expected, closure2(true));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/84b866b^!)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=84b866b)  
[src/factory.cc](https://cs.chromium.org/chromium/src/v8/src/factory.cc?cl=84b866b)  
[src/flag-definitions.h](https://cs.chromium.org/chromium/src/v8/src/flag-definitions.h?cl=84b866b)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=84b866b)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=84b866b)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=84b866b)  
[test/mjsunit/regress/regress-2193.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2193.js?cl=84b866b)  
  
---   

## **v8 issue:2186**  
   
**[Issue: Harmony Map distinguishes heapnumber and smi representations of the same number](https://crbug.com/v8/2186)**  
**[Commit: Fix handling of numbers in SameValue method.](https://chromium.googlesource.com/v8/v8/+/928a1bf)**  
  
Date(Commit): Mon Jun 18 14:21:29 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10532198](https://chromiumcodereview.appspot.com/10532198)  
Regress: [mjsunit/es6/regress/regress-2186.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2186.js)  
```javascript
function heapify(i) {
  return 2.0 * (i / 2);
}
heapify(1);

var ONE = 1;
var ANOTHER_ONE = heapify(ONE);
assertSame(ONE, ANOTHER_ONE);
assertEquals("number", typeof ONE);
assertEquals("number", typeof ANOTHER_ONE);

var set = new Set;
set.add(ONE);
assertTrue(set.has(ONE));
assertTrue(set.has(ANOTHER_ONE));

var map = new Map;
map.set(ONE, 23);
assertSame(23, map.get(ONE));
assertSame(23, map.get(ANOTHER_ONE));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/928a1bf^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=928a1bf)  
[test/mjsunit/regress/regress-2186.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2186.js?cl=928a1bf)  
  
---   

## **v8 issue:2172**  
   
**[Issue: toString and split methods causes "illegal access" error](https://crbug.com/v8/2172)**  
**[Commit: Add missing string length check in regexp engine.](https://chromium.googlesource.com/v8/v8/+/675d9b8)**  
  
Date(Commit): Thu Jun 14 13:59:48 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/10536170](https://chromiumcodereview.appspot.com/10536170)  
Regress: [mjsunit/regress/regress-2172.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2172.js)  
```javascript
for (var i = 0; i < 10000; i++){
  (i + "\0").split(/(.)\1/i);
}

for (var i = 0; i < 10000; i++){
  (i + "\u1234\0").split(/(.)\1/i);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/675d9b8^!)  
[src/ia32/regexp-macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/regexp-macro-assembler-ia32.cc?cl=675d9b8)  
[src/x64/regexp-macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/regexp-macro-assembler-x64.cc?cl=675d9b8)  
[test/mjsunit/regress/regress-2172.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2172.js?cl=675d9b8)  
  
---   

## **v8 issue:2156**  
   
**[Issue: Major speed regression:  3.6.6.25 -> 3.11.1](https://crbug.com/v8/2156)**  
**[Commit: Fix performance regression caused by r11202.](https://chromium.googlesource.com/v8/v8/+/74ab92e)**  
  
Date(Commit): Wed Jun 13 11:58:18 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10539131](https://chromiumcodereview.appspot.com/10539131)  
Regress: [mjsunit/es6/regress/regress-2156.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2156.js)  
```javascript
var key1 = {};
var key2 = {};
var map = new WeakMap;



assertTrue(%HaveSameMap(key1, key2));
map.set(key1, 1);
map.set(key2, 2);
assertTrue(%HaveSameMap(key1, key2));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/74ab92e^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=74ab92e)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=74ab92e)  
[test/mjsunit/regress/regress-2156.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2156.js?cl=74ab92e)  
  
---   

## **v8 issue:2170**  
   
**[Issue: Strange effects with floating point arrays that have other properties.](https://crbug.com/v8/2170)**  
**[Commit: Fix EnsureCanContainElements to properly handle double values.](https://chromium.googlesource.com/v8/v8/+/a1d9aca)**  
  
Date(Commit): Mon Jun 11 08:41:48 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10542084](https://chromiumcodereview.appspot.com/10542084)  
Regress: [mjsunit/regress/regress-2170.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2170.js)  
```javascript
function array_fun() {
  for (var i = 0; i < 2; i++) {
    var a = [1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8];
    var x = new Array();
    x.fixed$length = true;
    for (var j = 0; j < a.length; j++) {
      x.push(a[j]);
    }
    for(var j = 0; j < x.length; j++) {
      if (typeof x[j] != 'number') {
        throw "foo";
      }
      x[j] = x[j];
    }
  }
}

try {
  for (var i = 0; i < 10; ++i) {
    array_fun();
  }
  %OptimizeFunctionOnNextCall(array_fun);
  for (var i = 0; i < 10; ++i) {
    array_fun();
  }
} catch (e) {
  assertUnreachable();
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a1d9aca^!)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=a1d9aca)  
[test/mjsunit/regress/regress-2170.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2170.js?cl=a1d9aca)  
  
---   

## **v8 issue:2163**  
   
**[Issue: ClearNonLiveTransitions throws away non-stale accessor-pairs](https://crbug.com/v8/2163)**  
**[Commit: ClearNonLiveTransitions has to hold on to non-map values.](https://chromium.googlesource.com/v8/v8/+/a85f4e4)**  
  
Date(Commit): Tue Jun 05 11:36:57 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10535004](https://chromiumcodereview.appspot.com/10535004)  
Regress: [mjsunit/regress/regress-2163.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2163.js)  
```javascript
var dp = Object.defineProperty;

function getter() { return 111; }
function setter(x) { print(222); }
function anotherGetter() { return 333; }
function anotherSetter(x) { print(444); }
var obj1, obj2;


obj1 = {};
dp(obj1, "alpha", { get: getter, set: setter });
obj2 = {}
dp(obj2, "alpha", { get: getter });
obj1 = {};
assertEquals(111, obj2.alpha);
gc();
assertEquals(111, obj2.alpha);


obj1 = {};
dp(obj1, "alpha", { get: getter, set: setter });
obj2 = {}
dp(obj2, "alpha", { get: getter });
obj1 = {};
gc();
obj3 = {}
dp(obj3, "alpha", { get: getter });



obj1 = {};
dp(obj1, "alpha", { get: getter, set: setter });
obj1.beta = 10;
obj2 = {}
dp(obj2, "alpha", { get: getter, set: setter });
obj1 = {};
assertEquals(111, obj2.alpha);
gc();
obj2.alpha = 100
assertEquals(111, obj2.alpha);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a85f4e4^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=a85f4e4)  
[test/mjsunit/accessor-map-sharing.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/accessor-map-sharing.js?cl=a85f4e4)  
[test/mjsunit/regress/regress-2163.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2163.js?cl=a85f4e4)  
  
---   

## **v8 issue:2153**  
   
**[Issue: CALLBACKS transition conflicts with normal property](https://crbug.com/v8/2153)**  
**[Commit: Fixed JSObject::SetPropertyForResult (issue 2153)](https://chromium.googlesource.com/v8/v8/+/39f88f1)**  
  
Date(Commit): Tue May 29 12:42:22 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/10453054](https://chromiumcodereview.appspot.com/10453054)  
Regress: [mjsunit/regress/regress-2153.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2153.js)  
```javascript
var o = {};
o.__defineGetter__('foo', function () { return null; });
var o = {};
o.foo = 42;
assertEquals(42, o.foo);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/39f88f1^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=39f88f1)  
[test/mjsunit/regress/regress-2153.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2153.js?cl=39f88f1)  
  
---   

## **v8 issue:2071**  
   
**[Issue: with statement is broken since Chrome 19](https://crbug.com/v8/2071)**  
**[Commit: Disable optimization for functions that have scopes that cannot be reconstructed from the context chain.](https://chromium.googlesource.com/v8/v8/+/15b796b)**  
  
Date(Commit): Fri May 18 13:06:16 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/10388164](https://chromiumcodereview.appspot.com/10388164)  
Regress: [mjsunit/regress/regress-2071.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2071.js)  
```javascript
a = {};

a.b = 42;

with(a) {
  a.f = (function f1() {
    function f2() {
      return b;
    };
    return f2;
  })();
}

for(var i = 0; i < 10000; i++) {
  assertEquals(42, a.f());
}

with(a) {
  a.g = (function f1() {
    function f2() {
      function f3() {
        return b;
      }
      return f3;
    };
    return f2();
  })();
}

for(var i = 0; i < 10000; i++) {
  assertEquals(42, a.g());
}

function outer() {
  with(a) {
    a.h = (function f1() {
      function f2() {
        function f3() {
          return b;
        }
        return f3;
      };
      return f2();
    })();
  }
};

outer();

for(var i = 0; i < 10000; i++) {
  assertEquals(42, a.h());
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/15b796b^!)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=15b796b)  
[src/full-codegen.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen.cc?cl=15b796b)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=15b796b)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=15b796b)  
[test/mjsunit/regress/regress-2071.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2071.js?cl=15b796b)  
  
---   

## **v8 issue:2110**  
   
**[Issue: Inconsistent results assigning large numbers to Uint8Array](https://crbug.com/v8/2110)**  
**[Commit: Fixed corner cases in truncation behavior when storing to TypedArrays.](https://chromium.googlesource.com/v8/v8/+/f6dacfe)**  
  
Date(Commit): Mon Apr 30 15:17:59 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/10260011](https://chromiumcodereview.appspot.com/10260011)  
Regress: [mjsunit/regress/regress-2110.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2110.js)  
```javascript
var uint8 = new Uint8Array(1);

function test() {
  uint8[0] = 0x800000aa;
  assertEquals(0xaa, uint8[0]);
}

test();
test();
test();
%OptimizeFunctionOnNextCall(test);
test();

var uint32 = new Uint32Array(1);

function test2() {
  uint32[0] = 0x80123456789abcde;
  assertEquals(0x789ac000, uint32[0]);
}

test2();
test2();
%OptimizeFunctionOnNextCall(test2);
test2();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f6dacfe^!)  
[src/ia32/stub-cache-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/stub-cache-ia32.cc?cl=f6dacfe)  
[src/x64/stub-cache-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/stub-cache-x64.cc?cl=f6dacfe)  
[test/mjsunit/regress/regress-2110.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2110.js?cl=f6dacfe)  
  
---   

## **v8 issue:2058**  
   
**[Issue: RegExp.$1 not updated after a second global regex match within a replace callback](https://crbug.com/v8/2058)**  
**[Commit: Ensure that a call to String.prototype.match with a](https://chromium.googlesource.com/v8/v8/+/f90e665)**  
  
Date(Commit): Tue Apr 10 10:42:25 2012  
Type: ----  
Code Review: [http://codereview.chromium.org/10029009](http://codereview.chromium.org/10029009)  
Regress: [mjsunit/regress/regress-2058.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2058.js)  
```javascript
"Now is the".replace(/Now (\w+) the/g, function() {
  "foo bar".match(/( )/);
  assertEquals(RegExp.$1, " ");
})  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f90e665^!)  
[src/string.js](https://cs.chromium.org/chromium/src/v8/src/string.js?cl=f90e665)  
[test/mjsunit/regress/regress-2058.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2058.js?cl=f90e665)  
  
---   

## **v8 issue:2056**  
   
**[Issue: Math.max/Math.min have been bebugged in Chrome 18](https://crbug.com/v8/2056)**  
**[Commit: Add regression test case for issue 2025.](https://chromium.googlesource.com/v8/v8/+/db34072)**  
  
Date(Commit): Thu Apr 05 08:08:05 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/10006004](https://chromiumcodereview.appspot.com/10006004)  
Regress: [mjsunit/regress/regress-2056.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2056.js)  
```javascript
var cases = [
    [0.0, 0.0, 0.0, 0,0],
    [undefined, 0.0, NaN, NaN],
    [0.0, undefined, NaN, NaN],
    [NaN, 0.0, NaN, NaN],
    [0.0, NaN, NaN, NaN],
    [-NaN, 0.0, NaN, NaN],
    [0.0, -NaN, NaN, NaN],
    [Infinity, 0.0, Infinity, 0.0],
    [0.0, Infinity, Infinity, 0.0],
    [-Infinity, 0.0, 0.0, -Infinity],
    [0.0, -Infinity, 0.0, -Infinity]
];

function do_min(a, b) {
    return Math.min(a, b);
}

function do_max(a, b) {
    return Math.max(a, b);
}


for (i = 0; i < cases.length; ++i) {
    var c = cases[i];
    assertEquals(c[3], do_min(c[0], c[1]));
    assertEquals(c[2], do_max(c[0], c[1]));
}


for (i = 0; i < cases.length; ++i) {
    var c = cases[i];
    %OptimizeFunctionOnNextCall(do_min);
    %OptimizeFunctionOnNextCall(do_max);
    assertEquals(c[3], do_min(c[0], c[1]));
    assertEquals(c[2], do_max(c[0], c[1]));
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/db34072^!)  
[test/mjsunit/regress/regress-2056.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2056.js?cl=db34072)  
  
---   

## **v8 issue:2054**  
   
**[Issue: Fatal error in src\hydrogen.cc, line 4543](https://crbug.com/v8/2054)**  
**[Commit: Fix rewriter to not treat throw as an expression.](https://chromium.googlesource.com/v8/v8/+/47aa325)**  
  
Date(Commit): Wed Apr 04 13:41:05 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/9969146](https://chromiumcodereview.appspot.com/9969146)  
Regress: [mjsunit/regress/regress-2054.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2054.js)  
```javascript
var N = 1e5;  
for (var i = 0; i < N; i++) {
  if (i > N) throw new Error;
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/47aa325^!)  
[src/rewriter.cc](https://cs.chromium.org/chromium/src/v8/src/rewriter.cc?cl=47aa325)  
[test/mjsunit/regress/regress-2054.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2054.js?cl=47aa325)  
  
---   

## **v8 issue:2055**  
   
**[Issue: Assertion in JSObject::TransitionElementsKind hit](https://crbug.com/v8/2055)**  
**[Commit: Fix array boilerplate object transitioning.](https://chromium.googlesource.com/v8/v8/+/7b59b1d)**  
  
Date(Commit): Tue Apr 03 16:54:28 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/9950095](https://chromiumcodereview.appspot.com/9950095)  
Regress: [mjsunit/regress/regress-2055.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2055.js)  
```javascript
function test1(depth) {
  if (--depth < 0) {
    return [];
  } else {
    return [ 0, test1(depth) ];
  }
}
assertEquals([0,[0,[]]], test1(2));

function test2(depth) {
  if (--depth < 0) {
    return [];
  } else {
    var o = [ 0, test2(depth) ];
    return (depth == 0) ? 0.5 : o;
  }
}
assertEquals([0,0.5], test2(2));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7b59b1d^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=7b59b1d)  
[test/mjsunit/regress/regress-2055.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2055.js?cl=7b59b1d)  
  
---   

## **v8 issue:2034**  
   
**[Issue: Harmony WeakMap does not store frozen proxy](https://crbug.com/v8/2034)**  
**[Commit: Fix hidden properties to ignore [[Extensible]].](https://chromium.googlesource.com/v8/v8/+/5798bc2)**  
  
Date(Commit): Mon Apr 02 08:26:30 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/9844025](https://chromiumcodereview.appspot.com/9844025)  
Regress: [mjsunit/es6/regress/regress-2034.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/es6/regress/regress-2034.js)  
```javascript
var key = {};
var map = new WeakMap;
Object.preventExtensions(key);


assertFalse(map.has(key));
assertSame(undefined, map.get(key));


map.set(key, 1);
assertTrue(map.has(key));
assertSame(1, map.get(key));


map.delete(key, 1);
assertFalse(map.has(key));
assertSame(undefined, map.get(key));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5798bc2^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=5798bc2)  
[test/mjsunit/regress/regress-2034.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2034.js?cl=5798bc2)  
  
---   

## **v8 issue:2045**  
   
**[Issue: Google Maps are broken with V8 3.9.24.1](https://crbug.com/v8/2045)**  
**[Commit: Ensure that arguments object is materialized when deoptimizing from inlined function.](https://chromium.googlesource.com/v8/v8/+/8360ec8)**  
  
Date(Commit): Fri Mar 30 13:22:39 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/9963008](https://chromiumcodereview.appspot.com/9963008)  
Regress: [mjsunit/regress/regress-2045.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2045.js)  
```javascript
function foo() {
  assertEquals(2, arguments.length);
}

function bar() {
  G.x;
  return foo.apply(this, arguments);
}

function baz() {
  return bar(1, 2);
}

G = {x: 0};
baz();
baz();
%OptimizeFunctionOnNextCall(baz);
baz();
delete G.x;
baz();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8360ec8^!)  
[src/arm/lithium-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-arm.cc?cl=8360ec8)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=8360ec8)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=8360ec8)  
[src/ia32/lithium-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.cc?cl=8360ec8)  
[src/mips/lithium-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/lithium-mips.cc?cl=8360ec8)  
[src/x64/lithium-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.cc?cl=8360ec8)  
[test/mjsunit/regress/regress-2045.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2045.js?cl=8360ec8)  
  
---   

## **v8 issue:2030**  
   
**[Issue: Failures in mjsunit/mirror-array on x64.](https://crbug.com/v8/2030)**  
**[Commit: Fix polymorphic load on named fields.](https://chromium.googlesource.com/v8/v8/+/057371d)**  
  
Date(Commit): Tue Mar 27 10:42:38 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/9864028](https://chromiumcodereview.appspot.com/9864028)  
Regress: [mjsunit/regress/regress-2030.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2030.js)  
```javascript
function a() {
  this.x = 1;
}
var aa = new a();
%DebugPrint(aa);

function b() {
  this.z = 23;
  this.x = 2;
}
var bb = new b();
%DebugPrint(bb);

function f(o) {
  return o.x;
}

assertSame(1, f(aa));
assertSame(1, f(aa));
assertSame(2, f(bb));
assertSame(2, f(bb));
%OptimizeFunctionOnNextCall(f);
assertSame(1, f(aa));
assertSame(2, f(bb));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/057371d^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=057371d)  
[test/mjsunit/regress/regress-2030.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2030.js?cl=057371d)  
  
---   

## **v8 issue:2032**  
   
**[Issue: Case independent regexp test (new webkit test) is failing](https://crbug.com/v8/2032)**  
**[Commit: Fix edge case for case independent regexp character classes.](https://chromium.googlesource.com/v8/v8/+/bfb1e9e)**  
  
Date(Commit): Tue Mar 27 08:42:37 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/9860029](https://chromiumcodereview.appspot.com/9860029)  
Regress: [mjsunit/regress/regress-2032.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2032.js)  
```javascript
assertTrue(/[@-A]/i.test("a"));
assertTrue(/[@-A]/i.test("A"));
assertTrue(/[@-A]/i.test("@"));

assertFalse(/[@-A]/.test("a"));
assertTrue(/[@-A]/.test("A"));
assertTrue(/[@-A]/.test("@"));

assertFalse(/[¿-À]/i.test('¾'));
assertTrue(/[¿-À]/i.test('¿'));
assertTrue(/[¿-À]/i.test('À'));
assertTrue(/[¿-À]/i.test('à'));
assertFalse(/[¿-À]/i.test('á'));
assertFalse(/[¿-À]/i.test('Á'));

assertFalse(/[¿-À]/.test('¾'));
assertTrue(/[¿-À]/.test('¿'));
assertTrue(/[¿-À]/.test('À'));
assertFalse(/[¿-À]/.test('à'));
assertFalse(/[¿-À]/.test('á'));
assertFalse(/[¿-À]/.test('á'));
assertFalse(/[¿-À]/i.test('Á'));

assertFalse(/[Ö-×]/i.test('Õ'));
assertTrue(/[Ö-×]/i.test('Ö'));
assertTrue(/[Ö-×]/i.test('ö'));
assertTrue(/[Ö-×]/i.test('×'));
assertFalse(/[Ö-×]/i.test('Ø'));

assertFalse(/[Ö-×]/.test('Õ'));
assertTrue(/[Ö-×]/.test('Ö'));
assertFalse(/[Ö-×]/.test('ö'));
assertTrue(/[Ö-×]/.test('×'));
assertFalse(/[Ö-×]/.test('Ø'));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/bfb1e9e^!)  
[src/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/jsregexp.cc?cl=bfb1e9e)  
[test/mjsunit/regress/regress-2032.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2032.js?cl=bfb1e9e)  
  
---   

## **v8 issue:2027**  
   
**[Issue: setMinutes Has Incorrect Return Type](https://crbug.com/v8/2027)**  
**[Commit: Fix the return type of the date set methods.](https://chromium.googlesource.com/v8/v8/+/a47d1c0)**  
  
Date(Commit): Mon Mar 26 10:13:03 2012  
Type: ----  
Code Review: [https://chromiumcodereview.appspot.com/9809010](https://chromiumcodereview.appspot.com/9809010)  
Regress: [mjsunit/regress/regress-2027.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-2027.js)  
```javascript
var d = new Date(2010, 1, 1);

function Check(time) {
  assertEquals(d.getTime(), time);
}

Check(d.setMilliseconds(10));
Check(d.setSeconds(10));
Check(d.setMinutes(10));
Check(d.setHours(10));
Check(d.setDate(10));
Check(d.setMonth(10));
Check(d.setFullYear(2010));
Check(d.setUTCMilliseconds(10));
Check(d.setUTCSeconds(10));
Check(d.setUTCMinutes(10));
Check(d.setUTCHours(10));
Check(d.setUTCDate(10));
Check(d.setUTCMonth(10));
Check(d.setUTCFullYear(2010));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a47d1c0^!)  
[src/date.js](https://cs.chromium.org/chromium/src/v8/src/date.js?cl=a47d1c0)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=a47d1c0)  
[test/mjsunit/regress/regress-2027.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-2027.js?cl=a47d1c0)  
  
---   

## **v8 issue:1624**  
   
**[Issue: Strict eval function leaks variable definitions](https://crbug.com/v8/1624)**  
**[Commit: Fix declarations escaping global strict eval.](https://chromium.googlesource.com/v8/v8/+/79a98de)**  
  
Date(Commit): Thu Mar 15 13:02:21 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/9703021](https://chromiumcodereview.appspot.com/9703021)  
Regress: [mjsunit/regress/regress-1624-strict.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1624-strict.js), [mjsunit/regress/regress-1624.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1624.js)  
```javascript
"use strict";
var evil = eval;



var no_touch = 0;
eval('"use strict"; var no_touch = 1;');
assertSame(0, no_touch);



var no_touch = 0;
evil('"use strict"; var no_touch = 2;');
assertSame(0, no_touch);



var no_touch = 0;
eval('var no_touch = 3;');
assertSame(0, no_touch);



var no_touch = 0;
evil('var no_touch = 4;');
assertSame(4, no_touch);



var no_touch = 0;
(function() {
  var no_touch = 0;
  eval('"use strict"; var no_touch = 5;');
  assertSame(0, no_touch);
})()
assertSame(0, no_touch);



var no_touch = 0;
(function() {
  var no_touch = 0;
  evil('"use strict"; var no_touch = 6;');
  assertSame(0, no_touch);
})()
assertSame(0, no_touch);



var no_touch = 0;
(function() {
  var no_touch = 0;
  eval('var no_touch = 7;');
  assertSame(0, no_touch);
})()
assertSame(0, no_touch);



var no_touch = 0;
(function() {
  var no_touch = 0;
  evil('var no_touch = 8;');
  assertSame(0, no_touch);
})()
assertSame(8, no_touch);



var no_touch = 0;
(function() {
  "use strict";
  var no_touch = 0;
  eval('"use strict"; var no_touch = 9;');
  assertSame(0, no_touch);
})()
assertSame(0, no_touch);



var no_touch = 0;
(function() {
  "use strict";
  var no_touch = 0;
  evil('"use strict"; var no_touch = 10;');
  assertSame(0, no_touch);
})()
assertSame(0, no_touch);



var no_touch = 0;
(function() {
  "use strict";
  var no_touch = 0;
  eval('var no_touch = 11;');
  assertSame(0, no_touch);
})()
assertSame(0, no_touch);



var no_touch = 0;
(function() {
  "use strict";
  var no_touch = 0;
  evil('var no_touch = 12;');
  assertSame(0, no_touch);
})()
assertSame(12, no_touch);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/79a98de^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=79a98de)  
[src/parser.h](https://cs.chromium.org/chromium/src/v8/src/parser.h?cl=79a98de)  
[test/mjsunit/regress/regress-1624-strict.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1624-strict.js?cl=79a98de)  
[test/mjsunit/regress/regress-1624.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1624.js?cl=79a98de)  
[test/test262/test262.status](https://cs.chromium.org/chromium/src/v8/test/test262/test262.status?cl=79a98de)  
  
---   

## **v8 issue:1973**  
   
**[Issue: [[Get]]/[[Put]] for primitives should wrap on non-strict accessor call](https://crbug.com/v8/1973)**  
**[Commit: Fix wrapping of receiver for non-strict callbacks.](https://chromium.googlesource.com/v8/v8/+/2c7f0ed)**  
  
Date(Commit): Wed Mar 14 17:42:19 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/9705020](https://chromiumcodereview.appspot.com/9705020)  
Regress: [mjsunit/regress/regress-1973.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1973.js)  
```javascript
function TestAccessorWrapping(primitive) {
  var prototype = Object.getPrototypeOf(Object(primitive))
  
  var strict_type = typeof primitive;
  Object.defineProperty(prototype, "strict", {
    get: function() { "use strict"; assertSame(strict_type, typeof this); },
    set: function() { "use strict"; assertSame(strict_type, typeof this); }
  });
  primitive.strict = primitive.strict;
  
  var sloppy_type = typeof Object(primitive);
  Object.defineProperty(prototype, "sloppy", {
    get: function() { assertSame(sloppy_type, typeof this); },
    set: function() { assertSame(sloppy_type, typeof this); }
  });
  primitive.sloppy = primitive.sloppy;
}

TestAccessorWrapping(true);
TestAccessorWrapping(0);
TestAccessorWrapping({});
TestAccessorWrapping("");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2c7f0ed^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=2c7f0ed)  
[test/mjsunit/getter-in-value-prototype.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/getter-in-value-prototype.js?cl=2c7f0ed)  
[test/mjsunit/regress/regress-1973.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1973.js?cl=2c7f0ed)  
  
---   

## **v8 issue:1980**  
   
**[Issue: Error.prototype.toString throws 'illegal access' instead of TypeError](https://crbug.com/v8/1980)**  
**[Commit: Fix Error.prototype.toString to throw TypeError.](https://chromium.googlesource.com/v8/v8/+/8c2708d)**  
  
Date(Commit): Mon Mar 05 13:57:48 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/9568005](https://chromiumcodereview.appspot.com/9568005)  
Regress: [mjsunit/regress/regress-1980.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1980.js)  
```javascript
var msg = "Method Error.prototype.toString called on incompatible receiver ";

var invalid_this = [ "invalid", 23, undefined, null ];
for (var i = 0; i < invalid_this.length; i++) {
  var exception = false;
  try {
    Error.prototype.toString.call(invalid_this[i]);
  } catch (e) {
    exception = true;
    assertEquals(msg + invalid_this[i], e.message);
  }
  assertTrue(exception);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8c2708d^!)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=8c2708d)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=8c2708d)  
[test/mjsunit/function-call.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/function-call.js?cl=8c2708d)  
[test/mjsunit/regress/regress-1980.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1980.js?cl=8c2708d)  
  
---   

## **v8 issue:1790**  
   
**[Issue: Sequence of element access in built-in Array functions not spec conform.](https://crbug.com/v8/1790)**  
**[Commit: Fix sequence of element access in array builtins.](https://chromium.googlesource.com/v8/v8/+/e423637)**  
  
Date(Commit): Fri Feb 17 10:06:26 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/9419044](https://chromiumcodereview.appspot.com/9419044)  
Regress: [mjsunit/regress/regress-1790.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1790.js)  
```javascript
function CheckSequence(builtin, callback) {
  var array = [1,2,3];
  var callback_count = 0;
  var callback_wrapper = function() {
    callback_count++;
    return callback()
  }

  
  Object.defineProperty(array, '1', {
    get: function () { delete array[1]; },
    configurable: true
  });

  assertTrue(array.hasOwnProperty('1'));
  builtin.apply(array, [callback_wrapper, 'argument']);
  assertFalse(array.hasOwnProperty('1'));
  assertEquals(3, callback_count);
}

CheckSequence(Array.prototype.every,       function() { return true; });
CheckSequence(Array.prototype.filter,      function() { return true; });
CheckSequence(Array.prototype.forEach,     function() { return 0; });
CheckSequence(Array.prototype.map,         function() { return 0; });
CheckSequence(Array.prototype.reduce,      function() { return 0; });
CheckSequence(Array.prototype.reduceRight, function() { return 0; });
CheckSequence(Array.prototype.some,        function() { return false; });  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e423637^!)  
[src/array.js](https://cs.chromium.org/chromium/src/v8/src/array.js?cl=e423637)  
[test/mjsunit/regress/regress-1790.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1790.js?cl=e423637)  
[test/test262/test262.status](https://cs.chromium.org/chromium/src/v8/test/test262/test262.status?cl=e423637)  
  
---   

## **v8 issue:1924**  
   
**[Issue: Parse error with labelled statements](https://crbug.com/v8/1924)**  
**[Commit: Fix handling of 'c: if (0) break c; else ()' where a parser optimization](https://chromium.googlesource.com/v8/v8/+/f0a87d7)**  
  
Date(Commit): Wed Feb 08 08:40:11 2012  
Type: Bug  
Code Review: [https://chromiumcodereview.appspot.com/9159043](https://chromiumcodereview.appspot.com/9159043)  
Regress: [mjsunit/regress/regress-1924.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1924.js)  
```javascript
a: break a;
a: b: break a;
a: b: break b;
assertThrows("a: break a a", SyntaxError)
assertThrows("a: break a 1", SyntaxError)
assertThrows("a: break a ''", SyntaxError)
assertThrows("a: break a var b", SyntaxError)
assertThrows("a: break a {}", SyntaxError)

a: if (0) break a;
b: if (0) {break b;} else {}
c: if (0) break c; else {}
d: if (0) break d; else break d;  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f0a87d7^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=f0a87d7)  
[test/mjsunit/regress/regress-1924.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1924.js?cl=f0a87d7)  
  
---   

## **v8 issue:1898**  
   
**[Issue: Sputnik math tests crash due to Math.min/max](https://crbug.com/v8/1898)**  
**[Commit: Fixing issue 1898 (using HChange outside the insert-representation-changes phase).](https://chromium.googlesource.com/v8/v8/+/ddc0144)**  
  
Date(Commit): Fri Jan 13 07:48:44 2012  
Type: Bug  
Code Review: [http://codereview.chromium.org/9190047](http://codereview.chromium.org/9190047)  
Regress: [mjsunit/regress/regress-1898.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1898.js)  
```javascript
function f(x) {
  Math.log(Math.min(0.1, Math.abs(x)));
}

f(0.1);
f(0.1);
%OptimizeFunctionOnNextCall(f);
f(0.1);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ddc0144^!)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=ddc0144)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=ddc0144)  
[test/mjsunit/regress/regress-1898.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1898.js?cl=ddc0144)  
  
---   

## **v8 issue:1849**  
   
**[Issue: Preallocated Array incorrectly transitions to fast-double-elements backing store](https://crbug.com/v8/1849)**  
**[Commit: Ensure large Smi-only arrays don't transition to FAST_DOUBLE_ARRAY](https://chromium.googlesource.com/v8/v8/+/dff0e36)**  
  
Date(Commit): Fri Dec 30 12:54:23 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/8968028](http://codereview.chromium.org/8968028)  
Regress: [mjsunit/regress/regress-1849.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1849.js)  
```javascript
var count = 1e5;
var arr = new Array(count);
assertFalse(%HasDoubleElements(arr));
for (var i = 0; i < count; i++) {
  arr[i] = 0;
}
assertFalse(%HasDoubleElements(arr));
assertTrue(%HasSmiElements(arr));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/dff0e36^!)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=dff0e36)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=dff0e36)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=dff0e36)  
[test/mjsunit/regress/regress-1849.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1849.js?cl=dff0e36)  
[test/mjsunit/regress/regress-95113.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-95113.js?cl=dff0e36)  
  
---   

## **v8 issue:1530**  
   
**[Issue: Defining function's 'prototype' property with Object.defineProperty sets different value and makes property immutable](https://crbug.com/v8/1530)**  
**[Commit: Fix handling of foreign callbacks in DefineOwnProperty.](https://chromium.googlesource.com/v8/v8/+/04f0e33)**  
  
Date(Commit): Tue Dec 20 08:49:51 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/8996008](http://codereview.chromium.org/8996008)  
Regress: [mjsunit/regress/regress-1530.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1530.js)  
```javascript
var f = function() {};



var a = { foo: 'bar' };
f.prototype = a;
assertSame(f.prototype, a);
assertSame(f.prototype.foo, 'bar');
assertSame(new f().foo, 'bar');
assertSame(Object.getPrototypeOf(new f()), a);
assertSame(Object.getOwnPropertyDescriptor(f, 'prototype').value, a);
assertTrue(Object.getOwnPropertyDescriptor(f, 'prototype').writable);




var b = { foo: 'baz' };
Object.defineProperty(f, 'prototype', { value: b, writable: true });
assertSame(f.prototype, b);
assertSame(f.prototype.foo, 'baz');
assertSame(new f().foo, 'baz');
assertSame(Object.getPrototypeOf(new f()), b);
assertSame(Object.getOwnPropertyDescriptor(f, 'prototype').value, b);
assertTrue(Object.getOwnPropertyDescriptor(f, 'prototype').writable);



var c = { foo: 'other' };
f.prototype = c;
assertSame(f.prototype, c);
assertSame(f.prototype.foo, 'other');
assertSame(new f().foo, 'other');
assertSame(Object.getPrototypeOf(new f()), c);
assertSame(Object.getOwnPropertyDescriptor(f, 'prototype').value, c);
assertTrue(Object.getOwnPropertyDescriptor(f, 'prototype').writable);



var d = { foo: 'final' };
Object.defineProperty(f, 'prototype', { value: d, writable: false });
assertSame(f.prototype, d);
assertSame(f.prototype.foo, 'final');
assertSame(new f().foo, 'final');
assertSame(Object.getPrototypeOf(new f()), d);
assertSame(Object.getOwnPropertyDescriptor(f, 'prototype').value, d);
assertFalse(Object.getOwnPropertyDescriptor(f, 'prototype').writable);


assertThrows("'use strict'; f.prototype = {}");
assertThrows("Object.defineProperty(f, 'prototype', { value: {} })");




Object.defineProperty(f, 'name', { value: {} });
Object.defineProperty(f, 'length', { value: {} });
assertThrows("Object.defineProperty(f, 'caller', { value: {} })");
assertThrows("Object.defineProperty(f, 'arguments', { value: {} })");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/04f0e33^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=04f0e33)  
[test/mjsunit/regress/regress-1530.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1530.js?cl=04f0e33)  
[test/test262/test262.status](https://cs.chromium.org/chromium/src/v8/test/test262/test262.status?cl=04f0e33)  
  
---   

## **v8 issue:1757**  
   
**[Issue: String.charAt on a substring of an externalized string returns wrong result.](https://crbug.com/v8/1757)**  
**[Commit: Fixing issue 1757 (string slices of external strings).](https://chromium.googlesource.com/v8/v8/+/3249530)**  
  
Date(Commit): Mon Oct 10 16:09:03 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/8217011](http://codereview.chromium.org/8217011)  
Regress: [mjsunit/regress/regress-1757.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1757.js)  
```javascript
var a = "internalized dummy";
a = "abcdefghijklmnopqrstuvqxy"+"z";
externalizeString(a, true);
assertEquals('b', a.substring(1).charAt(0));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3249530^!)  
[src/arm/code-stubs-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/code-stubs-arm.cc?cl=3249530)  
[src/ia32/code-stubs-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/code-stubs-ia32.cc?cl=3249530)  
[src/mips/code-stubs-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/code-stubs-mips.cc?cl=3249530)  
[src/x64/code-stubs-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/code-stubs-x64.cc?cl=3249530)  
[test/mjsunit/regress/regress-1757.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1757.js?cl=3249530)  
  
---   

## **v8 issue:1415**  
   
**[Issue: UTF-8 to UCS4 invalid conversion](https://crbug.com/v8/1415)**  
**[Commit: Fix issue 1415 - allow surrogate pair codes in decodeURIComponent.](https://chromium.googlesource.com/v8/v8/+/4750f0c)**  
  
Date(Commit): Tue Oct 04 07:15:07 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/8118004](http://codereview.chromium.org/8118004)  
Regress: [mjsunit/regress/regress-1415.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1415.js)  
```javascript
assertThrows(function(){ decodeURIComponent("%ED%A0%80"); }, URIError);

assertThrows(function(){ decodeURIComponent("%ED%AF%BF"); }, URIError);

assertThrows(function(){ decodeURIComponent("%ED%B0%80"); }, URIError);

assertThrows(function(){ decodeURIComponent("%ED%BF%BF"); }, URIError);



assertThrows(function(){ decodeURIComponent("%C1%BF"); }, URIError);

assertThrows(function(){ decodeURIComponent("%E0%9F%BF"); }, URIError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4750f0c^!)  
[src/uri.js](https://cs.chromium.org/chromium/src/v8/src/uri.js?cl=4750f0c)  
[test/mjsunit/regress/regress-1415.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1415.js?cl=4750f0c)  
  
---   

## **v8 issue:1748**  
   
**[Issue: Problem with regex operators ^ and $](https://crbug.com/v8/1748)**  
**[Commit: Fix bug in x64 RegExp detecting start of string.](https://chromium.googlesource.com/v8/v8/+/4b385d7)**  
  
Date(Commit): Mon Oct 03 10:31:01 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/8116001](http://codereview.chromium.org/8116001)  
Regress: [mjsunit/regress/regress-1748.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1748.js)  
```javascript
var str = Array(10000).join("X");
str.replace(/^|X/g, function(m, i, s) {
  if (i > 0) assertEquals("X", m, "at position 0x" + i.toString(16));
});  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4b385d7^!)  
[src/regexp-macro-assembler-tracer.cc](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-tracer.cc?cl=4b385d7)  
[src/x64/regexp-macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/regexp-macro-assembler-x64.cc?cl=4b385d7)  
[test/mjsunit/regress/regress-1748.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1748.js?cl=4b385d7)  
  
---   

## **v8 issue:1692**  
   
**[Issue: propertyIsEnumerable is broken for numeric property names](https://crbug.com/v8/1692)**  
**[Commit: Check enumerability of array indices correctly in propertyIsEnumerable.](https://chromium.googlesource.com/v8/v8/+/165e105)**  
  
Date(Commit): Mon Oct 03 09:15:58 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/8113001](http://codereview.chromium.org/8113001)  
Regress: [mjsunit/regress/regress-1692.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1692.js)  
```javascript
var p = Object.create({}, {
  a : { value : 42, enumerable : true },
  b : { value : 42, enumerable : false },
  1 : { value : 42, enumerable : true },
  2 : { value : 42, enumerable : false },
  f : { get: function(){}, enumerable: true },
  g : { get: function(){}, enumerable: false },
  11 : { get: function(){}, enumerable: true },
  12 : { get: function(){}, enumerable: false }
});
var o = Object.create(p, {
  c : { value : 42, enumerable : true },
  d : { value : 42, enumerable : false },
  3 : { value : 42, enumerable : true },
  4 : { value : 42, enumerable : false },
  h : { get: function(){}, enumerable: true },
  k : { get: function(){}, enumerable: false },
  13 : { get: function(){}, enumerable: true },
  14 : { get: function(){}, enumerable: false }
});


assertFalse(o.propertyIsEnumerable("a"));
assertFalse(o.propertyIsEnumerable("b"));
assertFalse(o.propertyIsEnumerable("1"));
assertFalse(o.propertyIsEnumerable("2"));


assertTrue(o.propertyIsEnumerable("c"));
assertFalse(o.propertyIsEnumerable("d"));
assertTrue(o.propertyIsEnumerable("3"));
assertFalse(o.propertyIsEnumerable("4"));


assertFalse(o.propertyIsEnumerable("f"));
assertFalse(o.propertyIsEnumerable("g"));
assertFalse(o.propertyIsEnumerable("11"));
assertFalse(o.propertyIsEnumerable("12"));


assertTrue(o.propertyIsEnumerable("h"));
assertFalse(o.propertyIsEnumerable("k"));
assertTrue(o.propertyIsEnumerable("13"));
assertFalse(o.propertyIsEnumerable("14"));


assertFalse(o.propertyIsEnumerable("xxx"));
assertFalse(o.propertyIsEnumerable("999"));


var o = Object("string");

o[10] = 42;
assertTrue(o.propertyIsEnumerable(10));
assertTrue(o.propertyIsEnumerable(0));


var o = [1,2,3,4,5];
assertTrue(o.propertyIsEnumerable(3));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/165e105^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=165e105)  
[test/mjsunit/regress/regress-1692.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1692.js?cl=165e105)  
  
---   

## **v8 issue:1708**  
   
**[Issue: MarkWordToObjectStarts encountered consecutive one-bits.](https://crbug.com/v8/1708)**  
**[Commit: Fix transferal of marking bits on array trimming.](https://chromium.googlesource.com/v8/v8/+/873e498)**  
  
Date(Commit): Thu Sep 22 13:03:22 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7979038](http://codereview.chromium.org/7979038)  
Regress: [mjsunit/regress/regress-1708.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1708.js)  
```javascript
(function() {
  var head = new Array(1);
  var tail = head;

  
  
  for (var i = 0; i < 200; i++) {
    tail[1] = new Array(1000);
    tail = tail[1];
  }
  array = new Array(100);
  gc(); gc();

  
  
  
  assertEquals(100, array.length);
  for (var i = 0; i < 50; i++) {
    array.shift();
  }
  assertEquals(50, array.length);

  
  
  
  
  for (var i = 0; i < 200; i++) {
    tail[1] = new Array(1000);
    tail = tail[1];
  }
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/873e498^!)  
[src/mark-compact.cc](https://cs.chromium.org/chromium/src/v8/src/mark-compact.cc?cl=873e498)  
[test/mjsunit/regress/regress-1708.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1708.js?cl=873e498)  
  
---   

## **v8 issue:1711**  
   
**[Issue: String.prototype.split should execute spec-defined steps in order](https://crbug.com/v8/1711)**  
**[Commit: Fixed string.split: always convert non-regexp separator to string.](https://chromium.googlesource.com/v8/v8/+/b7cac76)**  
  
Date(Commit): Thu Sep 22 08:18:58 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/7976046](http://codereview.chromium.org/7976046)  
Regress: [mjsunit/regress/regress-1711.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1711.js)  
```javascript
var side_effect = false;
var separator = new Object();
separator.toString = function() {
  side_effect = true;
  return undefined;
}
'subject'.split(separator, 0);
assertTrue(side_effect);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b7cac76^!)  
[src/string.js](https://cs.chromium.org/chromium/src/v8/src/string.js?cl=b7cac76)  
[test/mjsunit/regress/regress-1711.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1711.js?cl=b7cac76)  
  
---   

## **v8 issue:1215**  
   
**[Issue: "name" and "message" have bad attributes on *Error.prototype](https://crbug.com/v8/1215)**  
**[Commit: Add regression test for issue 1215, expand regression test for issue 1447.](https://chromium.googlesource.com/v8/v8/+/0fbf8c88)**  
  
Date(Commit): Tue Sep 06 07:43:51 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7739024](http://codereview.chromium.org/7739024)  
Regress: [mjsunit/regress/regress-1215.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1215.js)  
```javascript
var desc = Object.getOwnPropertyDescriptor(Error.prototype, 'message');

assertEquals(desc.writable, true);
assertEquals(desc.enumerable, false);
assertEquals(desc.configurable, true);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0fbf8c88^!)  
[test/mjsunit/regress/regress-1215.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1215.js?cl=0fbf8c88)  
[test/mjsunit/regress/regress-1447.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1447.js?cl=0fbf8c88)  
  
---   

## **v8 issue:1548**  
   
**[Issue: The 'caller' and 'arguments' properties on built-in functions can't be neutered.](https://crbug.com/v8/1548)**  
**[Commit: Make arguments and caller always be null on native functions (fixes issue 1548 and issue 1643).](https://chromium.googlesource.com/v8/v8/+/4e94cd8)**  
  
Date(Commit): Thu Sep 01 11:09:11 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/7792054](http://codereview.chromium.org/7792054)  
Regress: [mjsunit/regress/regress-1548.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1548.js)  
```javascript
function testfn(f) { return [1].map(f)[0]; }
function foo() { return [].map.caller; }
assertThrows(function() { testfn(foo); } );



delete Array.prototype.map.caller;
assertThrows(function() { testfn(foo); } );


function testarguments(f) { return [1].map(f)[0]; }
function bar() { return [].map.arguments; }
assertThrows(function() { testarguments(bar); } );



delete Array.prototype.map.arguments;
assertThrows(function() { testarguments(bar); } );  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4e94cd8^!)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=4e94cd8)  
[test/mjsunit/regress/regress-1548.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1548.js?cl=4e94cd8)  
  
---   

## **v8 issue:1650**  
   
**[Issue: Constant function check inserted for HApplyArguments deoptimizes into incorrect state](https://crbug.com/v8/1650)**  
**[Commit: Do constant function check earlier in TryCallApply and ensure correct environment for deopt.](https://chromium.googlesource.com/v8/v8/+/e833f91)**  
  
Date(Commit): Thu Sep 01 10:33:59 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7812033](http://codereview.chromium.org/7812033)  
Regress: [mjsunit/regress/regress-1650.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1650.js)  
```javascript
function g(f) { return f.call.apply(f.bind, arguments); }

var x = new Object;

function t() { }

g(t, x);
g(t, x);
g(t, x);
%OptimizeFunctionOnNextCall(g);

function Fake() {}

var fakeCallInvoked = false;

Fake.prototype.call = function () {
  assertSame(Fake.prototype.bind, this);
  assertEquals(2, arguments.length);
  assertSame(fake, arguments[0]);
  assertSame(x, arguments[1]);
  fakeCallInvoked = true;
};

Fake.prototype.bind = function () {
};

var fake = new Fake;

g(fake, x);

assertTrue(fakeCallInvoked);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e833f91^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=e833f91)  
[test/mjsunit/regress/regress-1650.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1650.js?cl=e833f91)  
  
---   

## **v8 issue:1647**  
   
**[Issue: Immediately called function turns to undefined](https://crbug.com/v8/1647)**  
**[Commit: Introduce local function declarations in Crankshaft and fix issue 1647.](https://chromium.googlesource.com/v8/v8/+/ffc6c7e)**  
  
Date(Commit): Wed Aug 31 13:26:08 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/7776009](http://codereview.chromium.org/7776009)  
Regress: [mjsunit/regress/regress-1647.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1647.js)  
```javascript
var t = { foo: function() {} };

var f = (function bar() {
 t.foo();
 assertEquals("function", typeof bar);
});

for (var i = 0; i < 10; i++) f();
%OptimizeFunctionOnNextCall(f);
t.number = 2;
f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ffc6c7e^!)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=ffc6c7e)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=ffc6c7e)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=ffc6c7e)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=ffc6c7e)  
[src/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/full-codegen-mips.cc?cl=ffc6c7e)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=ffc6c7e)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=ffc6c7e)  
[test/mjsunit/regress/regress-1647.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1647.js?cl=ffc6c7e)  
[test/mjsunit/regress/regress-fundecl.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-fundecl.js?cl=ffc6c7e)  
  
---   

## **v8 issue:1625**  
   
**[Issue: Array.prototype.push = 1; breaks Object.defineProperties.](https://crbug.com/v8/1625)**  
**[Commit: Use InternalArray in Object.defineProperties to avoid issues with overwriten properties on Array.prototype](https://chromium.googlesource.com/v8/v8/+/d9c1984)**  
  
Date(Commit): Thu Aug 18 08:39:06 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/7631039](http://codereview.chromium.org/7631039)  
Regress: [mjsunit/regress/regress-1625.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1625.js)  
```javascript
Array.prototype.push = 1;
var desc = {foo: {value: 10}, bar: {get: function() {return 42; }}};
var obj = {};
var x = Object.defineProperties(obj, desc);
assertEquals(x.foo, 10);
assertEquals(x.bar, 42);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d9c1984^!)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=d9c1984)  
[test/mjsunit/regress/regress-1625.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1625.js?cl=d9c1984)  
  
---   

## **v8 issue:1620**  
   
**[Issue: V8 allows escapes in identifiers that are not unicode escapes](https://crbug.com/v8/1620)**  
**[Commit: Make scanner not accept invalid unicode escapes in identifiers.](https://chromium.googlesource.com/v8/v8/+/7d17c8d)**  
  
Date(Commit): Tue Aug 16 13:31:08 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7663005](http://codereview.chromium.org/7663005)  
Regress: [mjsunit/regress/regress-1620.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1620.js)  
```javascript
assertThrows("var \\u\\u\\u = 42;");
assertThrows("var \\u41 = 42;");
assertThrows("var \\u123 = 42;");
eval("var \\u1234 = 42;");
assertEquals(42, eval("\u1234"));
assertThrows("var uuu = 42; var x = \\u\\u\\u");





assertEquals(0xFFFD, "\uFFFD".charCodeAt(0));


assertThrows("/x/g\\uim", SyntaxError);
assertThrows("/x/g\\u2im", SyntaxError);
assertThrows("/x/g\\u22im", SyntaxError);
assertThrows("/x/g\\u222im", SyntaxError);
assertThrows("/x/g\\\\u2222im", SyntaxError);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7d17c8d^!)  
[src/scanner-base.cc](https://cs.chromium.org/chromium/src/v8/src/scanner-base.cc?cl=7d17c8d)  
[src/scanner-base.h](https://cs.chromium.org/chromium/src/v8/src/scanner-base.h?cl=7d17c8d)  
[test/mjsunit/regress/regress-1620.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1620.js?cl=7d17c8d)  
  
---   

## **v8 issue:1592**  
   
**[Issue: No Permission](https://crbug.com/v8/1592)**  
**[Commit: Fix fun.apply(receiver, arguments) optimization.](https://chromium.googlesource.com/v8/v8/+/a107387)**  
  
Date(Commit): Wed Aug 10 16:05:17 2011  
Type: None  
Code Review: [http://codereview.chromium.org/7497067](http://codereview.chromium.org/7497067)  
Regress: [mjsunit/regress/regress-1592.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1592.js)  
```javascript
var f = {
  apply: function(a, b) {}
};

function test(a) {
  f.apply(this, arguments);
}


test(1);
test(1);

%OptimizeFunctionOnNextCall(test);


test(1);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a107387^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=a107387)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=a107387)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=a107387)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=a107387)  
[test/mjsunit/regress/regress-1592.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1592.js?cl=a107387)  
  
---   

## **v8 issue:1546**  
   
**[Issue: c-style comments is closed unexpectedly by some characters](https://crbug.com/v8/1546)**  
**[Commit: Fix bug in scanner.](https://chromium.googlesource.com/v8/v8/+/61ae1be)**  
  
Date(Commit): Fri Aug 05 11:21:04 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7585004](http://codereview.chromium.org/7585004)  
Regress: [mjsunit/regress/regress-1546.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1546.js)  
```javascript
eval("/*\u822a/ */");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/61ae1be^!)  
[src/scanner-base.cc](https://cs.chromium.org/chromium/src/v8/src/scanner-base.cc?cl=61ae1be)  
[test/mjsunit/regress/regress-1546.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1546.js?cl=61ae1be)  
  
---   

## **v8 issue:1583**  
   
**[Issue: Incorrect scope chain for hoisted functions in optimizing compiler.](https://crbug.com/v8/1583)**  
**[Commit: Fix a bug in scope analysis.](https://chromium.googlesource.com/v8/v8/+/b625ce2)**  
  
Date(Commit): Fri Aug 05 08:28:11 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7572019](http://codereview.chromium.org/7572019)  
Regress: [mjsunit/regress/regress-1583.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1583.js)  
```javascript
function f() {
  try {
    throw 0;
  } catch (e) {
    try {
      var x = { a: 'hest' };
      x.m = function (e) { return x.a; };
    } catch (e) {
    }
  }
  return x;
}

var o = f();
assertEquals('hest', o.m());
assertEquals('hest', o.m());
assertEquals('hest', o.m());
%OptimizeFunctionOnNextCall(o.m);
assertEquals('hest', o.m());




var global = 'horse';
var p = { get global() { return global; }};
assertEquals('horse', p.global);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b625ce2^!)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=b625ce2)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=b625ce2)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=b625ce2)  
[src/parser.h](https://cs.chromium.org/chromium/src/v8/src/parser.h?cl=b625ce2)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=b625ce2)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=b625ce2)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=b625ce2)  
[test/mjsunit/regress/regress-1583.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1583.js?cl=b625ce2)  
  
---   

## **v8 issue:1419**  
   
**[Issue: Binded function's length changes after applying bind to other function](https://crbug.com/v8/1419)**  
**[Commit: Ensure that the length property of bound functions are actual unique](https://chromium.googlesource.com/v8/v8/+/9721edd)**  
  
Date(Commit): Wed Aug 03 12:44:17 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/7475002](http://codereview.chromium.org/7475002)  
Regress: [mjsunit/regress/regress-1419.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1419.js)  
```javascript
function foo() {
}

var f1 = function (x) {}.bind(foo);
var f2 = function () {};

assertEquals(1, f1.length);


f2.bind(foo);

assertEquals(1, f1.length);

var desc = Object.getOwnPropertyDescriptor(f1, 'length');
assertEquals(false, desc.writable);
assertEquals(false, desc.enumerable);
assertEquals(true, desc.configurable);

Object.defineProperty(f1, 'length', {
  value: 'abc',
  writable: true
});
assertEquals('abc', f1.length);
f1.length = 42;
assertEquals(42, f1.length);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9721edd^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=9721edd)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=9721edd)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=9721edd)  
[test/mjsunit/regress/regress-1419.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1419.js?cl=9721edd)  
  
---   

## **v8 issue:1582**  
   
**[Issue: Maximum call stack size exceeded error with SproutCore apps](https://crbug.com/v8/1582)**  
**[Commit: Check for phi-uses of arguments object before eliminating dead phi's.](https://chromium.googlesource.com/v8/v8/+/a547d33)**  
  
Date(Commit): Tue Aug 02 09:32:28 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/7553006](http://codereview.chromium.org/7553006)  
Regress: [mjsunit/regress/regress-1582.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1582.js)  
```javascript
function f(restIsArray, rest) {
  var arr;
  if (typeof rest === "object" && (rest instanceof Array)) {
    arr = rest;
  } else {
    arr = arguments;
  }
  var i = arr.length;
  while (--i >= 0) arr[i];
  var arrIsArguments = (arr[1] !== rest);
  assertEquals(restIsArray, arrIsArguments);
}

f(false, 'b', 'c');
f(false, 'b', 'c');
f(false, 'b', 'c');
%OptimizeFunctionOnNextCall(f);
f(true, ['b', 'c']);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a547d33^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=a547d33)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=a547d33)  
[test/mjsunit/regress/regress-1582.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1582.js?cl=a547d33)  
  
---   

## **v8 issue:1563**  
   
**[Issue: Arm movt translation bug in DoClampTToUint8](https://crbug.com/v8/1563)**  
**[Commit: Fix bug in ARM pixel array clamping](https://chromium.googlesource.com/v8/v8/+/1f9801b)**  
  
Date(Commit): Fri Jul 22 16:01:53 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7461028](http://codereview.chromium.org/7461028)  
Regress: [mjsunit/regress/regress-1563.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1563.js)  
```javascript
obj = new Uint8ClampedArray(10);



function set_pixel(obj, arg) {
  obj[0] = arg;
}

set_pixel(obj, 1.5);
set_pixel(obj, NaN);
%OptimizeFunctionOnNextCall(set_pixel);
set_pixel(obj, undefined);
set_pixel(obj, undefined);

assertEquals(0, obj[0]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1f9801b^!)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=1f9801b)  
[test/mjsunit/regress/regress-1563.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1563.js?cl=1f9801b)  
  
---   

## **v8 issue:1560**  
   
**[Issue: Optimized code for polymorphic keyed stores does not handle COW backing stores.](https://crbug.com/v8/1560)**  
**[Commit: Add map check for COW elements to crankshaft array handling code.](https://chromium.googlesource.com/v8/v8/+/d477928)**  
  
Date(Commit): Thu Jul 14 14:45:20 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7366008](http://codereview.chromium.org/7366008)  
Regress: [mjsunit/regress/regress-1560.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1560.js)  
```javascript
function mkCOWArray() {
  var a = [''];
  assertEquals('', a[0]);
  return a;
}

function mkArray() {
  var a = [];
  a[0] = '';
  return a;
}

function mkNumberDictionary() {
  var a = new Array();
  a[0] = '';
  a[100000] = '';
  return a;
}

function write(a, i) { a[i] = "bazinga!"; }

function test(factories, w) {
  factories.forEach(function(f) { w(f(), 0); });
  factories.forEach(function(f) { w(f(), 0); });
      %OptimizeFunctionOnNextCall(w);
  factories.forEach(function(f) { w(f(), 0); });
}


for (var i = 0; i < 5; i++) write(mkArray(), 0);
%OptimizeFunctionOnNextCall(write);
write(mkCOWArray(), 0);
var failure = mkCOWArray();


%DeoptimizeFunction(write);
gc();
test([mkArray, mkNumberDictionary], write);
test([mkArray, mkNumberDictionary, mkCOWArray], write);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d477928^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=d477928)  
[test/mjsunit/regress/regress-1560.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1560.js?cl=d477928)  
  
---   

## **v8 issue:1531**  
   
**[Issue: No Permission](https://crbug.com/v8/1531)**  
**[Commit: Fix a bug in for/in iteration of arguments objects.](https://chromium.googlesource.com/v8/v8/+/fe23339b)**  
  
Date(Commit): Fri Jul 08 07:31:48 2011  
Type: None  
Code Review: [http://codereview.chromium.org/7278033](http://codereview.chromium.org/7278033)  
Regress: [mjsunit/regress/regress-1531.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1531.js)  
```javascript
function test(x) {
  arguments[10] = 0;
  var arr = [];
  for (var p in arguments) arr.push(p);
  return arr;
}
assertEquals(["0", "10"], test(0));



function test1(x, y, z) {
  
  arguments.__defineGetter__("5", function () { return 0; });
  
  delete arguments[5];
  
  return arguments[2];
}

assertEquals(void 0, test1(0));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fe23339b^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=fe23339b)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=fe23339b)  
[test/mjsunit/regress/regress-1531.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1531.js?cl=fe23339b)  
  
---   

## **v8 issue:1529**  
   
**[Issue: No Permission](https://crbug.com/v8/1529)**  
**[Commit: Fix bug 1529: check for NULL handle in v8::TryCatch::StackTrace.](https://chromium.googlesource.com/v8/v8/+/8f60208)**  
  
Date(Commit): Mon Jul 04 13:29:56 2011  
Type: None  
Code Review: [http://codereview.chromium.org/7309004](http://codereview.chromium.org/7309004)  
Regress: [mjsunit/regress/regress-1529.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1529.js)  
```javascript
try {
  Error.prepareStackTrace = function (error, stackTrace) {
    stackTrace.some();
  };
  x;
} catch (e) {}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8f60208^!)  
[src/api.cc](https://cs.chromium.org/chromium/src/v8/src/api.cc?cl=8f60208)  
[test/mjsunit/regress/regress-1529.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1529.js?cl=8f60208)  
  
---   

## **v8 issue:1528**  
   
**[Issue: No Permission](https://crbug.com/v8/1528)**  
**[Commit: Fix a bug in with and catch context allocation.](https://chromium.googlesource.com/v8/v8/+/57c29c1)**  
  
Date(Commit): Mon Jul 04 09:34:47 2011  
Type: None  
Code Review: [http://codereview.chromium.org/7309002](http://codereview.chromium.org/7309002)  
Regress: [mjsunit/regress/regress-1528.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1528.js)  
```javascript
try {
  fail;
} catch (e) {
  with({}) {  
    
    eval('const x = 7');
  }
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/57c29c1^!)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=57c29c1)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=57c29c1)  
[src/mips/full-codegen-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/full-codegen-mips.cc?cl=57c29c1)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=57c29c1)  
[src/parser.h](https://cs.chromium.org/chromium/src/v8/src/parser.h?cl=57c29c1)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=57c29c1)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=57c29c1)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=57c29c1)  
[test/mjsunit/regress/regress-1528.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1528.js?cl=57c29c1)  
  
---   

## **v8 issue:1521**  
   
**[Issue: Optimizing compiler incorrectly resolves variable reference from closure created in the catch clause.](https://crbug.com/v8/1521)**  
**[Commit: Fix an issue with optimization of functions inside catch.](https://chromium.googlesource.com/v8/v8/+/a48c03b)**  
  
Date(Commit): Fri Jul 01 14:05:46 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7285032](http://codereview.chromium.org/7285032)  
Regress: [mjsunit/regress/regress-1521.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1521.js)  
```javascript
function test(x) {
  try {
    throw new Error();
  } catch (e) {
    var y = {f: 1};
    var f = function () {
      var z = y;
      var g = function () {
        if (y.f === z.f) return x;
      };
      %OptimizeFunctionOnNextCall(g);
      return g;
    }
    assertEquals(3, f()());
  }
}

test(3);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a48c03b^!)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=a48c03b)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=a48c03b)  
[test/mjsunit/regress/regress-1521.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1521.js?cl=a48c03b)  
  
---   

## **v8 issue:1360**  
   
**[Issue: Don't use Global receiver for calls in Array.prototype.sort and String.prototype.replace](https://crbug.com/v8/1360)**  
**[Commit: Do not pass the global object as the receiver to strict-mode and](https://chromium.googlesource.com/v8/v8/+/0d8c343)**  
  
Date(Commit): Thu Jun 30 12:29:19 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7283006](http://codereview.chromium.org/7283006)  
Regress: [mjsunit/regress/regress-1360.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1360.js)  
```javascript
var global = this;
function strict() { "use strict"; assertEquals(void 0, this); }
function non_strict() { assertEquals(global, this); }

[1,2,3].sort(strict);
[1,2,3].sort(non_strict);

"axc".replace("x", strict);
"axc".replace("x", non_strict);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0d8c343^!)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=0d8c343)  
[src/array.js](https://cs.chromium.org/chromium/src/v8/src/array.js?cl=0d8c343)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=0d8c343)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=0d8c343)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=0d8c343)  
[src/string.js](https://cs.chromium.org/chromium/src/v8/src/string.js?cl=0d8c343)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=0d8c343)  
[test/mjsunit/regress/regress-1360.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1360.js?cl=0d8c343)  
[test/sputnik/sputnik.status](https://cs.chromium.org/chromium/src/v8/test/sputnik/sputnik.status?cl=0d8c343)  
  
---   

## **v8 issue:1513**  
   
**[Issue: No Permission](https://crbug.com/v8/1513)**  
**[Commit: Fix a bug in Object.defineProperty.](https://chromium.googlesource.com/v8/v8/+/3f84fcf)**  
  
Date(Commit): Thu Jun 30 11:11:19 2011  
Type: None  
Code Review: [http://codereview.chromium.org/7289011](http://codereview.chromium.org/7289011)  
Regress: [mjsunit/regress/regress-1513.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1513.js)  
```javascript
function testcase() {
  return (function (a, b, c) {
      delete arguments[0];
      Object.defineProperty(arguments, "0", {
              value: 10,
              writable: false,
              enumerable: false,
              configurable: false
            });
      assertEquals(10, arguments[0]);
    }(0, 1, 2));
}

testcase();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3f84fcf^!)  
[src/handles.cc](https://cs.chromium.org/chromium/src/v8/src/handles.cc?cl=3f84fcf)  
[src/handles.h](https://cs.chromium.org/chromium/src/v8/src/handles.h?cl=3f84fcf)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=3f84fcf)  
[test/mjsunit/regress/regress-1513.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1513.js?cl=3f84fcf)  
  
---   

## **v8 issue:1491**  
   
**[Issue: Property validation and shadowing in objects with array prototypes](https://crbug.com/v8/1491)**  
**[Commit: Correctly handle non-array receivers in Array length setter.](https://chromium.googlesource.com/v8/v8/+/a96b915)**  
  
Date(Commit): Tue Jun 21 08:07:45 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/7206038](http://codereview.chromium.org/7206038)  
Regress: [mjsunit/regress/regress-1491.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1491.js)  
```javascript
var o = Object.create([]);



var value = "asdf";
o.length = value;
assertEquals(value, o.length);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a96b915^!)  
[src/accessors.cc](https://cs.chromium.org/chromium/src/v8/src/accessors.cc?cl=a96b915)  
[test/mjsunit/regress/regress-1491.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1491.js?cl=a96b915)  
  
---   

## **v8 issue:1472**  
   
**[Issue: RegExp causes OOM](https://crbug.com/v8/1472)**  
**[Commit: Refix issue 1472.  The previous fix worked for the example in the bug](https://chromium.googlesource.com/v8/v8/+/c95ecb1)**  
  
Date(Commit): Fri Jun 17 08:01:12 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7193007](http://codereview.chromium.org/7193007)  
Regress: [mjsunit/regress/regress-1472.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1472.js)  
```javascript
var r1 = /(?:a(?:b(?:c(?:d(?:e(?:f(?:g(?:h(?:i(?:j(?:k(?:l(?:m(?:n(?:o(?:p(?:q(?:r(?:s(?:t(?:u(?:v(?:w(?:x(?:y(?:z(?:FooBar)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)+)/;
"xxx".match(r1);

var r2 = /(?:a(?:b(?:c(?:d(?:e(?:f(?:g(?:h(?:i(?:j(?:k(?:l(?:FooBar){0,2}){0,2}){0,2}){0,2}){0,2}){0,2}){0,2}){0,2}){0,2}){0,2}){0,2}){0,2}){0,2}/;
"xxx".match(r2);

var r3 = /(?:a(?:b(?:c(?:d(?:e(?:f(?:g(?:h(?:i(?:j(?:k(?:l(?:FooBar){2}){2}){2}){2}){2}){2}){2}){2}){2}){2}){2}){2}){2}/;
"xxx".match(r3);

var r4 = /(?:a(?:b(?:c(?:d(?:e(?:f(?:g(?:h(?:i(?:FooBar){3,6}){3,6}){3,6}){3,6}){3,6}){3,6}){3,6}){3,6}){3,6}){3,6}/;
"xxx".match(r4);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c95ecb1^!)  
[src/ast.cc](https://cs.chromium.org/chromium/src/v8/src/ast.cc?cl=c95ecb1)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=c95ecb1)  
[src/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/jsregexp.cc?cl=c95ecb1)  
[test/mjsunit/regress/regress-1472.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1472.js?cl=c95ecb1)  
  
---   

## **v8 issue:1476**  
   
**[Issue: Incorrect code generated for LModI with power-of-2 divisor](https://crbug.com/v8/1476)**  
**[Commit: Add missing branches in code generated for LModI with power-of-2 divisor.](https://chromium.googlesource.com/v8/v8/+/14bf246)**  
  
Date(Commit): Wed Jun 15 19:57:39 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/7097015](http://codereview.chromium.org/7097015)  
Regress: [mjsunit/regress/regress-1476.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1476.js)  
```javascript
function foo (i) { return (i % 2) | 0; }

assertEquals (-1, foo(-1));
assertEquals (-1, foo(-1));
%OptimizeFunctionOnNextCall(foo);
assertEquals (-1, foo(-1));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/14bf246^!)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=14bf246)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=14bf246)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=14bf246)  
[test/mjsunit/regress/regress-1476.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1476.js?cl=14bf246)  
  
---   

## **v8 issue:794**  
   
**[Issue: Function.prototype.bind created function has prototype property](https://crbug.com/v8/794)**  
**[Commit: Ensure that bound functions does not have a prototype (fixes issue 794)](https://chromium.googlesource.com/v8/v8/+/23d0aa6)**  
  
Date(Commit): Wed Jun 15 10:47:37 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7148014](http://codereview.chromium.org/7148014)  
Regress: [mjsunit/regress/regress-794.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-794.js)  
```javascript
function foo() {}
assertFalse("prototype" in foo.bind());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/23d0aa6^!)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=23d0aa6)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=23d0aa6)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=23d0aa6)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=23d0aa6)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=23d0aa6)  
[test/mjsunit/function-bind.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/function-bind.js?cl=23d0aa6)  
[test/mjsunit/regress/regress-794.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-794.js?cl=23d0aa6)  
  
---   

## **v8 issue:1447**  
   
**[Issue: Can't freeze forEach while forEach call is in progress](https://crbug.com/v8/1447)**  
**[Commit: Fix issue 1447 by not redefining properties unneccesarily in seal and freeze.](https://chromium.googlesource.com/v8/v8/+/aa7ad8e)**  
  
Date(Commit): Fri Jun 10 09:45:02 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/7044104](http://codereview.chromium.org/7044104)  
Regress: [mjsunit/regress/regress-1447.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1447.js)  
```javascript
[0].forEach(function(){ Object.freeze(Array.prototype.forEach); });
[0].every(function(){ Object.seal(Array.prototype.every); });

function testStrict(){
  "use strict";
  [0].forEach(function(){ Object.freeze(Array.prototype.forEach); });
  [0].every(function(){ Object.seal(Array.prototype.every); });
}

testStrict();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/aa7ad8e^!)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=aa7ad8e)  
[test/mjsunit/regress/regress-1447.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1447.js?cl=aa7ad8e)  
  
---   

## **v8 issue:1436**  
   
**[Issue: reduce and reduceRight bind callback's this to null rather than undefined.](https://crbug.com/v8/1436)**  
**[Commit: Fix Array.prototype.{reduce,reduceRight} to pass undefined as receiver for strict mode callbacks.](https://chromium.googlesource.com/v8/v8/+/626cdff)**  
  
Date(Commit): Thu Jun 09 09:05:15 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/7044054](http://codereview.chromium.org/7044054)  
Regress: [mjsunit/regress/regress-1436.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1436.js)  
```javascript
var global = this;
function non_strict(){ assertEquals(global, this); }
function strict(){ "use strict"; assertEquals(void 0, this); }
function strict_null(){ "use strict"; assertEquals(null, this); }

[2, 3].reduce(non_strict);
[2, 3].reduce(strict);
[2, 3].reduceRight(non_strict);
[2, 3].reduceRight(strict);



[2, 3].every(non_strict);
[2, 3].every(non_strict, undefined);
[2, 3].every(non_strict, null);
[2, 3].every(strict);
[2, 3].every(strict, undefined);
[2, 3].every(strict_null, null);

[2, 3].filter(non_strict);
[2, 3].filter(non_strict, undefined);
[2, 3].filter(non_strict, null);
[2, 3].filter(strict);
[2, 3].filter(strict, undefined);
[2, 3].filter(strict_null, null);

[2, 3].forEach(non_strict);
[2, 3].forEach(non_strict, undefined);
[2, 3].forEach(non_strict, null);
[2, 3].forEach(strict);
[2, 3].forEach(strict, undefined);
[2, 3].forEach(strict_null, null);

[2, 3].map(non_strict);
[2, 3].map(non_strict, undefined);
[2, 3].map(non_strict, null);
[2, 3].map(strict);
[2, 3].map(strict, undefined);
[2, 3].map(strict_null, null);

[2, 3].some(non_strict);
[2, 3].some(non_strict, undefined);
[2, 3].some(non_strict, null);
[2, 3].some(strict);
[2, 3].some(strict, undefined);
[2, 3].some(strict_null, null);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/626cdff^!)  
[src/array.js](https://cs.chromium.org/chromium/src/v8/src/array.js?cl=626cdff)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=626cdff)  
[src/parser.h](https://cs.chromium.org/chromium/src/v8/src/parser.h?cl=626cdff)  
[src/preparse-data-format.h](https://cs.chromium.org/chromium/src/v8/src/preparse-data-format.h?cl=626cdff)  
[src/preparse-data.h](https://cs.chromium.org/chromium/src/v8/src/preparse-data.h?cl=626cdff)  
[src/preparser.cc](https://cs.chromium.org/chromium/src/v8/src/preparser.cc?cl=626cdff)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=626cdff)  
[test/mjsunit/regress/regress-1436.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1436.js?cl=626cdff)  
  
---   

## **v8 issue:1434**  
   
**[Issue: Crankshafted === specialized for doubles doesn't handle undefined correctly](https://crbug.com/v8/1434)**  
**[Commit: Add failing test case for bug 1434](https://chromium.googlesource.com/v8/v8/+/ad98d14)**  
  
Date(Commit): Wed Jun 08 07:45:37 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7131006](http://codereview.chromium.org/7131006)  
Regress: [mjsunit/regress/regress-1434.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1434.js)  
```javascript
function compare(a, b) {
  return a === b;
}

compare(1.5, 2.5);
%OptimizeFunctionOnNextCall(compare);
assertTrue(compare(undefined, undefined));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ad98d14^!)  
[test/mjsunit/bugs/bug-1434.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-1434.js?cl=ad98d14)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=ad98d14)  
  
---   

## **v8 issue:1423**  
   
**[Issue: "use strict" causes page to crash](https://crbug.com/v8/1423)**  
**[Commit: Fix a bug in Lithium environment iteration.](https://chromium.googlesource.com/v8/v8/+/6a81642)**  
  
Date(Commit): Mon Jun 06 11:30:17 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/6993023](http://codereview.chromium.org/6993023)  
Regress: [mjsunit/regress/regress-1423.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1423.js)  
```javascript
"use strict";

function f0() {
  return f1('literal', true);
}

function f1(x, y) {
  return f2(x, y);
}







function f2(x, y) {
  if (y) {
    if (f3(x, 'other-literal')) {
      return 0;
    } else {
      return 1;
    }
  } else {
    return 2;
  }
}

function f3(x, y) {
  return x === y;
}

for (var i = 0; i < 5; ++i) f0();
%OptimizeFunctionOnNextCall(f0);
assertEquals(1, f0());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6a81642^!)  
[src/arm/lithium-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-arm.cc?cl=6a81642)  
[src/ia32/lithium-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.cc?cl=6a81642)  
[src/lithium-allocator-inl.h](https://cs.chromium.org/chromium/src/v8/src/lithium-allocator-inl.h?cl=6a81642)  
[src/lithium-allocator.cc](https://cs.chromium.org/chromium/src/v8/src/lithium-allocator.cc?cl=6a81642)  
[src/lithium-allocator.h](https://cs.chromium.org/chromium/src/v8/src/lithium-allocator.h?cl=6a81642)  
[src/lithium.h](https://cs.chromium.org/chromium/src/v8/src/lithium.h?cl=6a81642)  
[src/x64/lithium-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.cc?cl=6a81642)  
[test/mjsunit/regress/regress-1423.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1423.js?cl=6a81642)  
  
---   

## **v8 issue:1412**  
   
**[Issue: Apply with arguments optimization needs updating for ES5](https://crbug.com/v8/1412)**  
**[Commit: Fix a number of IC stubs to correctly set the call kind.](https://chromium.googlesource.com/v8/v8/+/cc4a2d7)**  
  
Date(Commit): Mon May 30 13:23:17 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7086029](http://codereview.chromium.org/7086029)  
Regress: [mjsunit/regress/regress-1412.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1412.js)  
```javascript
function strict() { "use strict"; return this; }

function test_strict() {
  assertEquals(void 0, strict.apply(undefined, arguments));
  assertEquals(42, strict.apply(42, arguments));
  assertEquals("asdf", strict.apply("asdf", arguments));
}

for (var i = 0; i < 10; i++) test_strict();
%OptimizeFunctionOnNextCall(test_strict);
test_strict();

function test_builtin(receiver) {
  Object.prototype.valueOf.apply(receiver, arguments);
}

for (var i = 0; i < 10; i++) test_builtin(this);
%OptimizeFunctionOnNextCall(test_builtin);
test_builtin(this);

var exception = false;
try {
  test_builtin(undefined);
} catch(e) {
  exception = true;
}
assertTrue(exception);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cc4a2d7^!)  
[src/arm/builtins-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/builtins-arm.cc?cl=cc4a2d7)  
[src/arm/code-stubs-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/code-stubs-arm.cc?cl=cc4a2d7)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=cc4a2d7)  
[src/arm/ic-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/ic-arm.cc?cl=cc4a2d7)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=cc4a2d7)  
[src/arm/macro-assembler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.cc?cl=cc4a2d7)  
[src/arm/macro-assembler-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.h?cl=cc4a2d7)  
[src/arm/stub-cache-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/stub-cache-arm.cc?cl=cc4a2d7)  
[src/ia32/builtins-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/builtins-ia32.cc?cl=cc4a2d7)  
[src/ia32/code-stubs-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/code-stubs-ia32.cc?cl=cc4a2d7)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=cc4a2d7)  
[src/ia32/ic-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/ic-ia32.cc?cl=cc4a2d7)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=cc4a2d7)  
[src/ia32/macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.cc?cl=cc4a2d7)  
[src/ia32/macro-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.h?cl=cc4a2d7)  
[src/ia32/stub-cache-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/stub-cache-ia32.cc?cl=cc4a2d7)  
[src/stub-cache.cc](https://cs.chromium.org/chromium/src/v8/src/stub-cache.cc?cl=cc4a2d7)  
[src/stub-cache.h](https://cs.chromium.org/chromium/src/v8/src/stub-cache.h?cl=cc4a2d7)  
[src/x64/builtins-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/builtins-x64.cc?cl=cc4a2d7)  
[src/x64/code-stubs-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/code-stubs-x64.cc?cl=cc4a2d7)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=cc4a2d7)  
[src/x64/ic-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/ic-x64.cc?cl=cc4a2d7)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=cc4a2d7)  
[src/x64/macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.cc?cl=cc4a2d7)  
[src/x64/macro-assembler-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.h?cl=cc4a2d7)  
[src/x64/stub-cache-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/stub-cache-x64.cc?cl=cc4a2d7)  
[test/mjsunit/bugs/bug-1412.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-1412.js?cl=cc4a2d7)  
[test/mjsunit/strict-mode-implicit-receiver.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/strict-mode-implicit-receiver.js?cl=cc4a2d7)  
  
---   

## **v8 issue:1365**  
   
**[Issue: Calling functions through variables doesn't use undefined as receiver.](https://crbug.com/v8/1365)**  
**[Commit: Pass undefined to JS builtins when called with implicit receiver.](https://chromium.googlesource.com/v8/v8/+/19b718f)**  
  
Date(Commit): Thu May 26 11:07:48 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7068009](http://codereview.chromium.org/7068009)  
Regress: [mjsunit/regress/regress-1365.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1365.js)  
```javascript
var valueOf = Object.prototype.valueOf;
var hasOwnProperty = Object.prototype.hasOwnProperty;

function callGlobalValueOf() { valueOf(); }
function callGlobalHasOwnProperty() { valueOf(); }

assertEquals(Object.prototype, Object.prototype.valueOf());
assertThrows(callGlobalValueOf);
assertThrows(callGlobalHasOwnProperty);

%OptimizeFunctionOnNextCall(Object.prototype.valueOf);
Object.prototype.valueOf();

assertEquals(Object.prototype, Object.prototype.valueOf());
assertThrows(callGlobalValueOf);
assertThrows(callGlobalHasOwnProperty);

function CheckExceptionCallLocal() {
  var valueOf = Object.prototype.valueOf;
  var hasOwnProperty = Object.prototype.hasOwnProperty;
  var exception = false;
  try { valueOf(); } catch(e) { exception = true; }
  assertTrue(exception);
  exception = false;
  try { hasOwnProperty(); } catch(e) { exception = true; }
  assertTrue(exception);
}
CheckExceptionCallLocal();

function CheckExceptionCallParameter(f) {
  var exception = false;
  try { f(); } catch(e) { exception = true; }
  assertTrue(exception);
}
CheckExceptionCallParameter(Object.prototype.valueOf);
CheckExceptionCallParameter(Object.prototype.hasOwnProperty);

function CheckPotentiallyShadowedByEval() {
  var exception = false;
  try {
    eval("hasOwnProperty('x')");
  } catch(e) {
    exception = true;
  }
  assertTrue(exception);
}
CheckPotentiallyShadowedByEval();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/19b718f^!)  
[src/arm/builtins-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/builtins-arm.cc?cl=19b718f)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=19b718f)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=19b718f)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=19b718f)  
[src/compiler.h](https://cs.chromium.org/chromium/src/v8/src/compiler.h?cl=19b718f)  
[src/handles.cc](https://cs.chromium.org/chromium/src/v8/src/handles.cc?cl=19b718f)  
[src/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap.cc?cl=19b718f)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=19b718f)  
[src/ia32/builtins-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/builtins-ia32.cc?cl=19b718f)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=19b718f)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=19b718f)  
[src/mips/builtins-mips.cc](https://cs.chromium.org/chromium/src/v8/src/mips/builtins-mips.cc?cl=19b718f)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=19b718f)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=19b718f)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=19b718f)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=19b718f)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=19b718f)  
[src/x64/builtins-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/builtins-x64.cc?cl=19b718f)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=19b718f)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=19b718f)  
[test/cctest/test-api.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-api.cc?cl=19b718f)  
[test/mjsunit/regress/regress-1170.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1170.js?cl=19b718f)  
[test/mjsunit/regress/regress-124.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-124.js?cl=19b718f)  
[test/mjsunit/regress/regress-1365.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1365.js?cl=19b718f)  
[test/mjsunit/regress/regress-485.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-485.js?cl=19b718f)  
[test/mozilla/mozilla.status](https://cs.chromium.org/chromium/src/v8/test/mozilla/mozilla.status?cl=19b718f)  
[test/sputnik/sputnik.status](https://cs.chromium.org/chromium/src/v8/test/sputnik/sputnik.status?cl=19b718f)  
  
---   

## **v8 issue:1355**  
   
**[Issue: TypeError on assignment to a read-only accessor property not in strict mode](https://crbug.com/v8/1355)**  
**[Commit: Change calls to undefined property setters to not throw (fixes issue 1355).](https://chromium.googlesource.com/v8/v8/+/f675db6)**  
  
Date(Commit): Wed May 25 08:37:38 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7064027](http://codereview.chromium.org/7064027)  
Regress: [mjsunit/regress/regress-1355.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1355.js)  
```javascript
var foo = Object.defineProperty({}, "bar", {
 get: function () {
      return 10;
    }
  });

assertDoesNotThrow("foo.bar = 20");

function shouldThrow() {
  'use strict';
  foo.bar = 20;
}

assertThrows("shouldThrow()");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f675db6^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=f675db6)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=f675db6)  
[test/mjsunit/getter-in-prototype.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/getter-in-prototype.js?cl=f675db6)  
[test/mjsunit/indexed-accessors.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/indexed-accessors.js?cl=f675db6)  
[test/mjsunit/regress/regress-1355.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1355.js?cl=f675db6)  
  
---   

## **v8 issue:1403**  
   
**[Issue: CHECK(array_proto->GetPrototype()->IsNull()) failed (64 bit)](https://crbug.com/v8/1403)**  
**[Commit: Handle changes to the Object prototype in fast handling of arrays](https://chromium.googlesource.com/v8/v8/+/eff2946)**  
  
Date(Commit): Tue May 24 12:28:10 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org//7067019](http://codereview.chromium.org//7067019)  
Regress: [mjsunit/regress/regress-1403.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1403.js)  
```javascript
a = [];
assertThrows(() => Object.prototype.__proto__ = { __proto__: null }, TypeError);
a.shift();

a = [];
Array.prototype.__proto__ = { __proto__: null };
a.shift();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/eff2946^!)  
[src/builtins.cc](https://cs.chromium.org/chromium/src/v8/src/builtins.cc?cl=eff2946)  
[test/mjsunit/regress/regress-1403.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1403.js?cl=eff2946)  
  
---   

## **v8 issue:1387**  
   
**[Issue: There can be only one [[ThrowTypeError]] function](https://crbug.com/v8/1387)**  
**[Commit: Change strict mode poison pill to be the samme type error function (fixes issue 1387).](https://chromium.googlesource.com/v8/v8/+/ab67432)**  
  
Date(Commit): Tue May 24 11:07:06 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/7067017](http://codereview.chromium.org/7067017)  
Regress: [mjsunit/regress/regress-1387.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1387.js)  
```javascript
function foo() {
  'use strict';
  return arguments;
}

var get = Object.getOwnPropertyDescriptor(foo(), "callee").get;
var set = Object.getOwnPropertyDescriptor(foo(), "callee").set;
assertEquals(get, set);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ab67432^!)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=ab67432)  
[src/builtins.cc](https://cs.chromium.org/chromium/src/v8/src/builtins.cc?cl=ab67432)  
[src/builtins.h](https://cs.chromium.org/chromium/src/v8/src/builtins.h?cl=ab67432)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=ab67432)  
[test/mjsunit/regress/regress-1387.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1387.js?cl=ab67432)  
  
---   

## **v8 issue:1401**  
   
**[Issue: ARM: Wrong value returned from keyed property assignemnt](https://crbug.com/v8/1401)**  
**[Commit: Add regression test for issue 1401](https://chromium.googlesource.com/v8/v8/+/825a433)**  
  
Date(Commit): Mon May 23 13:03:45 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org//7062002](http://codereview.chromium.org//7062002)  
Regress: [mjsunit/regress/regress-1401.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1401.js)  
```javascript
var bottom = 0;
var sizes = new Array();

for (i = 0; i < 10; i++) {
  sizes[i] = 0;
}

function foo() {
  var size = bottom + 1 + 10;
  var t =  (sizes[++bottom] = size);
  return t;
}

for (i = 0; i < 5; i++) {
  assertEquals(i + 11, foo());
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/825a433^!)  
[test/mjsunit/regress/regress-1401.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1401.js?cl=825a433)  
  
---   

## **v8 issue:1394**  
   
**[Issue: JSLinux bootup is slow.](https://crbug.com/v8/1394)**  
**[Commit: Fix bug in optimized compiler's switch-statement.](https://chromium.googlesource.com/v8/v8/+/6691196)**  
  
Date(Commit): Wed May 18 11:06:07 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7037023](http://codereview.chromium.org/7037023)  
Regress: [mjsunit/compiler/regress-1394.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-1394.js)  
```javascript
function f(x) {
  var ret = -1;
  switch(x){
    default:
    case 0:
      ret = 0;
      break;
    case 1:
      ret = 1;
      break;
    case 2:
      ret = 2;
      break;
    case 3:
      ret = 3;
      break;
    case 4:
      ret = 4;
      break;
  }
  return ret;
};

for (var i = 0; i < 3; i++) assertEquals(i, f(i));

%OptimizeFunctionOnNextCall(f);

assertEquals(0, f(0));
assertEquals(1, f(1));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6691196^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=6691196)  
[test/mjsunit/compiler/regress-1394.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-1394.js?cl=6691196)  
  
---   

## **v8 issue:1389**  
   
**[Issue: Incorrect result with -always-opt for x++](https://crbug.com/v8/1389)**  
**[Commit: Fix error in postfix ++ in Crankshaft.](https://chromium.googlesource.com/v8/v8/+/0eca2b4)**  
  
Date(Commit): Tue May 17 11:41:59 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7033008](http://codereview.chromium.org/7033008)  
Regress: [mjsunit/regress/regress-1389.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1389.js)  
```javascript
for (var i=0; i<4; i++) {
  (function () {
    (function () {
      (function () {
        var x;
        y = x++;
      })();
    })();
  })();
}

assertEquals(NaN, y);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0eca2b4^!)  
[src/arm/lithium-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-arm.cc?cl=0eca2b4)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=0eca2b4)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=0eca2b4)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=0eca2b4)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=0eca2b4)  
[src/ia32/lithium-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.cc?cl=0eca2b4)  
[src/x64/lithium-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.cc?cl=0eca2b4)  
[test/mjsunit/regress/regress-1389.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1389.js?cl=0eca2b4)  
  
---   

## **v8 issue:1383**  
   
**[Issue: Assertion hit in ComputeFlags when called from ComputeKeyedLoadOrStoreExternalArray](https://crbug.com/v8/1383)**  
**[Commit: Allow strict mode flag as extraicstate for keyed external array store ic](https://chromium.googlesource.com/v8/v8/+/7f8a918)**  
  
Date(Commit): Wed May 11 08:53:46 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/7003022](http://codereview.chromium.org/7003022)  
Regress: [mjsunit/regress/regress-1383.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1383.js)  
```javascript
x="";
function foo(){
  "use strict";
  var wxemsx=(4);
  var wxemsx_0=new Float32Array(wxemsx);
  wxemsx_0[0]={};
}

foo()  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7f8a918^!)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=7f8a918)  
[test/mjsunit/regress/regress-1383.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1383.js?cl=7f8a918)  
  
---   

## **v8 issue:1369**  
   
**[Issue: Assertion failure when calling gc function on non-object receiver.](https://crbug.com/v8/1369)**  
**[Commit: Check that receiver is JSObject on API calls.](https://chromium.googlesource.com/v8/v8/+/0961b1a)**  
  
Date(Commit): Fri May 06 14:14:16 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6931056](http://codereview.chromium.org/6931056)  
Regress: [mjsunit/regress/regress-1369.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1369.js)  
```javascript
assertDoesNotThrow('gc.call(1)');
assertDoesNotThrow('gc.call("asdf")');  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0961b1a^!)  
[src/builtins.cc](https://cs.chromium.org/chromium/src/v8/src/builtins.cc?cl=0961b1a)  
[test/cctest/test-api.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-api.cc?cl=0961b1a)  
[test/mjsunit/regress/regress-1369.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1369.js?cl=0961b1a)  
  
---   

## **v8 issue:955**  
   
**[Issue: parseInt('-\t0') should return NaN, not 0](https://crbug.com/v8/955)**  
**[Commit: Don't allow whitespace after sign characters in parseInt.](https://chromium.googlesource.com/v8/v8/+/d141160)**  
  
Date(Commit): Tue May 03 07:11:17 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/6903171](http://codereview.chromium.org/6903171)  
Regress: [mjsunit/regress/regress-955.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-955.js)  
```javascript
assertEquals(-0, parseInt("-0"));
assertEquals(0, parseInt("+0"));


assertEquals(NaN, parseInt("- 0"));
assertEquals(NaN, parseInt("+ 0"));
assertEquals(NaN, parseInt("-\t0"));
assertEquals(NaN, parseInt("+\t0"));


assertEquals(-0, parseInt(" -0"));
assertEquals(0, parseInt(" +0"));
assertEquals(-0, parseInt("\t-0"));
assertEquals(0, parseInt("\t+0"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d141160^!)  
[src/conversions.cc](https://cs.chromium.org/chromium/src/v8/src/conversions.cc?cl=d141160)  
[test/mjsunit/regress/regress-955.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-955.js?cl=d141160)  
  
---   

## **v8 issue:1351**  
   
**[Issue: No Permission](https://crbug.com/v8/1351)**  
**[Commit: Be more discriminating about uses of the arguments object in optimized code.](https://chromium.googlesource.com/v8/v8/+/1af840a)**  
  
Date(Commit): Mon May 02 11:35:51 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6902202](http://codereview.chromium.org/6902202)  
Regress: [mjsunit/regress/regress-1351.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1351.js)  
```javascript
function h() { }

function f() {
  var a = null;
  h(a = arguments);
}

f();
%OptimizeFunctionOnNextCall(f);
f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1af840a^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=1af840a)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=1af840a)  
[test/mjsunit/regress/regress-1351.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1351.js?cl=1af840a)  
  
---   

## **v8 issue:1337**  
   
**[Issue: No Permission](https://crbug.com/v8/1337)**  
**[Commit: Make throw inlineable only if the exception is inlineable.](https://chromium.googlesource.com/v8/v8/+/3b6fe22)**  
  
Date(Commit): Wed Apr 20 09:15:52 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6881079](http://codereview.chromium.org/6881079)  
Regress: [mjsunit/regress/regress-1337.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1337.js)  
```javascript
function bar() { throw {}; }

function foo() { bar(); }

for (var i = 0; i < 5; ++i) {
    try { foo() } catch (e) { }
}
%OptimizeFunctionOnNextCall(foo)
try { foo() } catch (e) { }  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3b6fe22^!)  
[src/ast.cc](https://cs.chromium.org/chromium/src/v8/src/ast.cc?cl=3b6fe22)  
[test/mjsunit/regress/regress-1337.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1337.js?cl=3b6fe22)  
  
---   

## **v8 issue:1323**  
   
**[Issue: Loading/Storing external float arrays broken in Crankshaft on ARM](https://crbug.com/v8/1323)**  
**[Commit: Fix load/store of external float arrays on ARM](https://chromium.googlesource.com/v8/v8/+/1d774ac)**  
  
Date(Commit): Tue Apr 12 15:20:26 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6822054](http://codereview.chromium.org/6822054)  
Regress: [mjsunit/regress/regress-1323.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1323.js)  
```javascript
function get(a, index) {
  return a[index];
}

var a = new Float32Array(2);
a[0] = 2.5;
a[1] = 3.5;
for (var i = 0; i < 5; i++) get(a, 0);
%OptimizeFunctionOnNextCall(get);
assertEquals(2.5, get(a, 0));
assertEquals(3.5, get(a, 1));

function set(a, index, value) {
  a[index] = value;
}
for (var i = 0; i < 5; i++) set(a, 0, 4.5);
%OptimizeFunctionOnNextCall(set);
set(a, 0, 4.5);
assertEquals(4.5, a[0]);
assertEquals(3.5, a[1]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1d774ac^!)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=1d774ac)  
[test/mjsunit/regress/regress-1323.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1323.js?cl=1d774ac)  
  
---   

## **v8 issue:1309**  
   
**[Issue: __proto__ should not be mutable if object is not Extensible](https://crbug.com/v8/1309)**  
**[Commit: 1309 fix](https://chromium.googlesource.com/v8/v8/+/e3d7883)**  
  
Date(Commit): Wed Apr 06 16:22:06 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6800018](http://codereview.chromium.org/6800018)  
Regress: [mjsunit/regress/regress-1309.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1309.js)  
```javascript
var o = Object.preventExtensions({});
assertThrows("o.__proto__ = {}");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e3d7883^!)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=e3d7883)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=e3d7883)  
[test/mjsunit/regress/regress-1309.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1309.js?cl=e3d7883)  
  
---   

## **v8 issue:1278**  
   
**[Issue: ARM: mjsunit test mul-exhaustive fails](https://crbug.com/v8/1278)**  
**[Commit: ARM: Check for minus zero when converting binary operation result to smi](https://chromium.googlesource.com/v8/v8/+/1eb224c)**  
  
Date(Commit): Tue Mar 29 07:43:27 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6755009](http://codereview.chromium.org/6755009)  
Regress: [mjsunit/regress/regress-1278.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1278.js)  
```javascript
function add(x, y) {
  return x + y;
}

function sub(x, y) {
  return x - y;
}

function mul(x, y) {
  return x * y;
}

function div(x, y) {
  return x / y;
}

for (var i = 0; i < 10; i++) {
  assertEquals(0, add(0, 0));
  assertEquals(0, add(0, -0));
  assertEquals(0, add(-0, 0));
  assertEquals(-0, add(-0, -0));

  assertEquals(0, sub(0, 0));
  assertEquals(0, sub(0, -0));
  assertEquals(-0, sub(-0, 0));
  assertEquals(0, sub(-0, -0));

  assertEquals(0, mul(0, 0));
  assertEquals(-0, mul(0, -0));
  assertEquals(-0, mul(-0, 0));
  assertEquals(0, mul(-0, -0));

  assertEquals(0, div(0, 1));
  assertEquals(-0, div(0, -1));
  assertEquals(-0, div(-0, 1));
  assertEquals(0, div(-0, -1));
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1eb224c^!)  
[src/arm/code-stubs-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/code-stubs-arm.cc?cl=1eb224c)  
[test/mjsunit/regress/regress-1278.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1278.js?cl=1eb224c)  
  
---   

## **v8 issue:1257**  
   
**[Issue: Unexpected errors and randomness with large compiled JS script](https://crbug.com/v8/1257)**  
**[Commit: Make HDeoptimize to explicitly use environment values.](https://chromium.googlesource.com/v8/v8/+/c83f0a7)**  
  
Date(Commit): Thu Mar 17 12:22:49 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6672066](http://codereview.chromium.org/6672066)  
Regress: [mjsunit/regress/regress-1257.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1257.js)  
```javascript
function g(y) { assertEquals(y, 12); }

var X = 0;

function foo () {
  var cnt = 0;
  var l = -1;
  var x = 0;
  while (1) switch (l) {
      case -1:
        var y = x + 12;
        l = 0;
        break;
      case 0:
        if (cnt++ == 5) {
          %OptimizeOsr();
          l = 1;
        }
        break;
      case 1:
        
        
        g(y);
        return;
    };
}

foo();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c83f0a7^!)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=c83f0a7)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=c83f0a7)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=c83f0a7)  
[test/mjsunit/regress/regress-1257.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1257.js?cl=c83f0a7)  
  
---   

## **v8 issue:1233**  
   
**[Issue: Can't get descriptor of property whose values doesn't inherit from Object.prototype](https://crbug.com/v8/1233)**  
**[Commit: Fix a problem where Object.getOwnPropertyDescriptor and related functions unintentionally called toString on the values of an object's properties.  Fixes issue 1233.](https://chromium.googlesource.com/v8/v8/+/f6e1b82)**  
  
Date(Commit): Fri Mar 11 13:57:20 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/6677017](http://codereview.chromium.org/6677017)  
Regress: [mjsunit/regress/regress-1233.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1233.js)  
```javascript
var delicate = new Object();
delicate.toString = function(){ throw Error("toString"); };
delicate.valueOf = function(){ throw Error("valueOf"); };

var x = { foo: delicate };

var status = "fail";
try {
  Object.getOwnPropertyDescriptor(x, "foo");
  Object.freeze(x);
  status = "succeed";
} catch (e) {}

assertEquals("succeed", status);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f6e1b82^!)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=f6e1b82)  
[test/mjsunit/regress/regress-1233.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1233.js?cl=f6e1b82)  
  
---   

## **v8 issue:1240**  
   
**[Issue: `Object#__defineSetter__` drops `configurable` to `true` what allows redefine properties with `configurable = false`](https://crbug.com/v8/1240)**  
**[Commit: Change __defineGetter__ and __defineSetter__ to respect non-configurable.](https://chromium.googlesource.com/v8/v8/+/fa9e57e)**  
  
Date(Commit): Fri Mar 11 08:05:59 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6658037](http://codereview.chromium.org/6658037)  
Regress: [mjsunit/regress/regress-1240.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1240.js)  
```javascript
var a = {};
Object.defineProperty(a, 'b',
                      { get: function () { return 42; }, configurable: false });

try {
  a.__defineGetter__('b', function _b(){ return 'foo'; });
} catch (e) {}
assertEquals(42, a.b);
var desc = Object.getOwnPropertyDescriptor(a, 'b');
assertFalse(desc.configurable);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fa9e57e^!)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=fa9e57e)  
[test/mjsunit/accessors-on-global-object.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/accessors-on-global-object.js?cl=fa9e57e)  
[test/mjsunit/regress/regress-1240.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1240.js?cl=fa9e57e)  
[test/mozilla/mozilla.status](https://cs.chromium.org/chromium/src/v8/test/mozilla/mozilla.status?cl=fa9e57e)  
  
---   

## **v8 issue:1236**  
   
**[Issue: No Permission](https://crbug.com/v8/1236)**  
**[Commit: Fix bug in X64 RegExpExec stub.](https://chromium.googlesource.com/v8/v8/+/a8b41a0)**  
  
Date(Commit): Tue Mar 08 14:15:25 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6635041](http://codereview.chromium.org/6635041)  
Regress: [mjsunit/regress/regress-1236.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1236.js)  
```javascript
pattern = RegExp("","");  
string = 'a';             
pattern.exec(string);     
pattern["@"] = 42;        
pattern.exec(string);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a8b41a0^!)  
[src/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/jsregexp.cc?cl=a8b41a0)  
[src/x64/code-stubs-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/code-stubs-x64.cc?cl=a8b41a0)  
[src/x64/macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.cc?cl=a8b41a0)  
[test/mjsunit/regress/regress-1236.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1236.js?cl=a8b41a0)  
  
---   

## **v8 issue:1237**  
   
**[Issue: No Permission](https://crbug.com/v8/1237)**  
**[Commit: Fix a stack-height mismatch during deoptimization.](https://chromium.googlesource.com/v8/v8/+/4a9056c)**  
  
Date(Commit): Mon Mar 07 17:01:12 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6625057](http://codereview.chromium.org/6625057)  
Regress: [mjsunit/regress/regress-1237.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1237.js)  
```javascript
function observe(x, y) { return x; }
function test(x) {
  return observe(1, ((x? observe(observe.prototype.x): 'c'), x + 1));
}

for (var i = 0; i < 5; ++i) test(0);
%OptimizeFunctionOnNextCall(test);
test(0);

test("a");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4a9056c^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=4a9056c)  
[test/mjsunit/regress/regress-1237.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1237.js?cl=4a9056c)  
  
---   

## **v8 issue:1207**  
   
**[Issue: No Permission](https://crbug.com/v8/1207)**  
**[Commit: Add lazy deoptimization environment to instanceof by marking it as a call.](https://chromium.googlesource.com/v8/v8/+/8a72161)**  
  
Date(Commit): Tue Mar 01 15:37:24 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6588083](http://codereview.chromium.org/6588083)  
Regress: [mjsunit/regress/regress-1207.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1207.js)  
```javascript
try {
var object = { };
function fib(n) {
  var f0 = (object instanceof encodeURI)('#2: var x = 1; x <= 1 === true'), f1 = 1;
}
fib(75);
} catch (o) { }  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8a72161^!)  
[src/arm/lithium-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-arm.cc?cl=8a72161)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=8a72161)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=8a72161)  
[src/ia32/lithium-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.cc?cl=8a72161)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=8a72161)  
[src/x64/lithium-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.cc?cl=8a72161)  
[test/mjsunit/regress/regress-1207.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1207.js?cl=8a72161)  
  
---   

## **v8 issue:1210**  
   
**[Issue: No Permission](https://crbug.com/v8/1210)**  
**[Commit: Fix a stack height mismatch when deoptimizing.](https://chromium.googlesource.com/v8/v8/+/6b1530e)**  
  
Date(Commit): Tue Mar 01 09:32:45 2011  
Type: None  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@6981](http://v8.googlecode.com/svn/branches/bleeding_edge@6981)  
Regress: [mjsunit/regress/regress-1210.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1210.js)  
```javascript
var a = 0;

function observe(x, y) { return x; }

function side_effect(x) { a = x; }

function test() {
  
  
  
  return observe(a, arguments[side_effect(a), a + 0]);
}


for (var i = 0; i < 10; ++i) test(0);
%OptimizeFunctionOnNextCall(test);
test(0);

a = "hello";
test(0);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6b1530e^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=6b1530e)  
[test/mjsunit/regress/regress-1210.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1210.js?cl=6b1530e)  
  
---   

## **v8 issue:1213**  
   
**[Issue: No Permission](https://crbug.com/v8/1213)**  
**[Commit: Do not allow non-configurable global properties to be made configurable (fixes issue 1213).](https://chromium.googlesource.com/v8/v8/+/c63d9c9)**  
  
Date(Commit): Tue Mar 01 08:09:17 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6597045](http://codereview.chromium.org/6597045)  
Regress: [mjsunit/regress/regress-1213.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1213.js)  
```javascript
var x = 0;

function TestGlobal() {
  for (var i = 0; i < 2; i++) {
    x = x + 1;
  }
  this.eval('function x() {};');
  delete this['x'];
}

TestGlobal();
TestGlobal();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c63d9c9^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=c63d9c9)  
[test/mjsunit/regress/regress-1213.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1213.js?cl=c63d9c9)  
  
---   

## **v8 issue:1218**  
   
**[Issue: Error.prototype.toString should not have a "prototype" property](https://crbug.com/v8/1218)**  
**[Commit: Remove Error.prototype.toStrings prototype property.](https://chromium.googlesource.com/v8/v8/+/7c561be)**  
  
Date(Commit): Mon Feb 28 13:29:05 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/6588050](http://codereview.chromium.org/6588050)  
Regress: [mjsunit/regress/regress-1218.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1218.js)  
```javascript
assertFalse(Error.prototype.toString.hasOwnProperty("prototype"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7c561be^!)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=7c561be)  
[test/mjsunit/regress/regress-1218.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1218.js?cl=7c561be)  
  
---   

## **v8 issue:1209**  
   
**[Issue: No Permission](https://crbug.com/v8/1209)**  
**[Commit: When checking number of parameters in MakeCrankshaft code don't forget about receiver.](https://chromium.googlesource.com/v8/v8/+/88b70c8)**  
  
Date(Commit): Mon Feb 28 13:20:10 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6591042](http://codereview.chromium.org/6591042)  
Regress: [mjsunit/regress/regress-1209.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1209.js)  
```javascript
function crashMe(n) {
  var nasty = [];
  while (n--)
    nasty.push("a" + 0);
  return Function.apply(null, nasty);
}
crashMe(64 + 1).length;  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/88b70c8^!)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=88b70c8)  
[test/mjsunit/regress/regress-1209.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1209.js?cl=88b70c8)  
  
---   

## **v8 issue:1172**  
   
**[Issue: No Permission](https://crbug.com/v8/1172)**  
**[Commit: Get property may throw an exception thanks to JS accessors.](https://chromium.googlesource.com/v8/v8/+/da463ab)**  
  
Date(Commit): Thu Feb 24 17:42:56 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6580030](http://codereview.chromium.org/6580030)  
Regress: [mjsunit/regress/regress-1172-bis.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1172-bis.js), [mjsunit/regress/regress-1172.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1172.js)  
```javascript
Object.prototype.__defineGetter__(0, function() { throw 42; });
var exception = false;
try {
  Object[0]();
} catch(e) {
  exception = true;
  assertEquals(42, e);
}
assertTrue(exception);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/da463ab^!)  
[src/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic.cc?cl=da463ab)  
[test/mjsunit/regress/regress-1172-bis.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1172-bis.js?cl=da463ab)  
  
---   

## **v8 issue:1181**  
   
**[Issue: Bug on ARM when using OSR](https://crbug.com/v8/1181)**  
**[Commit: ARM: Fix DoubleToI.](https://chromium.googlesource.com/v8/v8/+/5572d24)**  
  
Date(Commit): Thu Feb 24 10:07:35 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/6573004](http://codereview.chromium.org/6573004)  
Regress: [mjsunit/regress/regress-1181.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1181.js)  
```javascript
function test(x) {
    var xp = x  * 1 - 1;
    return xp;
}


function check(count) {
    %DeoptimizeFunction(test);
    var i;
    for(var x=0; x < count; x++){
        for(var y=0; y < count; y++){
            i = test(x / 100);
        }
    }
    assertEquals((count - 1) / 100, i + 1);
}


check(150);
check(200);
check(350);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5572d24^!)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=5572d24)  
[test/mjsunit/regress/regress-1181.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1181.js?cl=5572d24)  
  
---   

## **v8 issue:1184**  
   
**[Issue: No Permission](https://crbug.com/v8/1184)**  
**[Commit: Properly reset external catcher if exception couldn't be externally caught.](https://chromium.googlesource.com/v8/v8/+/ae328e6)**  
  
Date(Commit): Wed Feb 23 06:55:47 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6538081](http://codereview.chromium.org/6538081)  
Regress: [mjsunit/regress/regress-1184.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1184.js)  
```javascript
o = {};
o.__defineGetter__('foo', function() { throw 42; });
function f() {
 try {
   
   throw 42;
 } finally {
   
   
   
   
   try { o.foo; } catch(e) { };
   return;
 }
};
f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ae328e6^!)  
[src/top.cc](https://cs.chromium.org/chromium/src/v8/src/top.cc?cl=ae328e6)  
[test/mjsunit/regress/regress-1184.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1184.js?cl=ae328e6)  
  
---   

## **v8 issue:1176**  
   
**[Issue: No Permission](https://crbug.com/v8/1176)**  
**[Commit: Fix for bug http://code.google.com/p/v8/issues/detail?id=1176.](https://chromium.googlesource.com/v8/v8/+/3ff7aa0)**  
  
Date(Commit): Tue Feb 22 17:20:25 2011  
Type: None  
Code Review: [http://code.google.com/p/v8/issues/detail?id=1176.](http://code.google.com/p/v8/issues/detail?id=1176.)  
Regress: [mjsunit/regress/regress-1176.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1176.js)  
```javascript
"use strict";
function strict_delete_this() {
  
  delete this;
}
strict_delete_this();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3ff7aa0^!)  
[src/arm/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.cc?cl=3ff7aa0)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=3ff7aa0)  
[src/ia32/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.cc?cl=3ff7aa0)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=3ff7aa0)  
[src/x64/codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/codegen-x64.cc?cl=3ff7aa0)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=3ff7aa0)  
[test/mjsunit/regress/regress-1176.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1176.js?cl=3ff7aa0)  
[test/mjsunit/strict-mode.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/strict-mode.js?cl=3ff7aa0)  
  
---   

## **v8 issue:1174**  
   
**[Issue: No Permission](https://crbug.com/v8/1174)**  
**[Commit: Add more generic version of reloc info padding to ensure enough space for reloc patching during deoptimization (fixes issue 1174).](https://chromium.googlesource.com/v8/v8/+/45c63ff)**  
  
Date(Commit): Tue Feb 22 12:28:33 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6541053](http://codereview.chromium.org/6541053)  
Regress: [mjsunit/regress/regress-1174.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1174.js)  
```javascript
function Regular() {
  this[0] >>=  0;
  this[1] ^=  1;
}

function foo() {
  var regular = new Regular();
  %DeoptimizeFunction(Regular);
}

foo();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/45c63ff^!)  
[src/assembler.cc](https://cs.chromium.org/chromium/src/v8/src/assembler.cc?cl=45c63ff)  
[src/assembler.h](https://cs.chromium.org/chromium/src/v8/src/assembler.h?cl=45c63ff)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=45c63ff)  
[src/ia32/lithium-codegen-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.h?cl=45c63ff)  
[test/mjsunit/regress/regress-1174.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1174.js?cl=45c63ff)  
  
---   

## **v8 issue:1167**  
   
**[Issue: [LangFuzz] Assertion CHECK(fixed_size + height_in_bytes == input_frame_size) failed](https://crbug.com/v8/1167)**  
**[Commit: Fix incorrect deoptimization for logical not in an effect context.](https://chromium.googlesource.com/v8/v8/+/b021072)**  
  
Date(Commit): Thu Feb 17 13:05:49 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6537018](http://codereview.chromium.org/6537018)  
Regress: [mjsunit/regress/regress-1167.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1167.js)  
```javascript
function test0(n) {
  var a = new Array(n);
  for (var i = 0; i < n; ++i) {
    
    a[i] = void(!(delete 'object')) % ~(delete 4);
  }
}


for (var i = 0; i < 5; ++i) {
  for (var j = 1; j < 12; ++j) {
    test0(j * 1000);
  }
}



function test1(n) {
  var a = new Array(n);
  for (var i = 0; i < n; ++i) {
    a[i] = void(!(- 'object')) % ~(delete 4);
  }
}

for (i = 0; i < 5; ++i) {
  for (j = 1; j < 12; ++j) {
    test1(j * 1000);
  }
}




function side_effect() { }
function observe(x, y) { return x; }
function test2(x) {
  return observe(this,
                 (((side_effect.observe <= side_effect.side_effect) !== false),
                  x + 1));
}

for (var i = 0; i < 5; ++i) test2(0);
%OptimizeFunctionOnNextCall(test2);
test2(0);
test2(test2);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b021072^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=b021072)  
[test/mjsunit/regress/regress-1167.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1167.js?cl=b021072)  
  
---   

## **v8 issue:1166**  
   
**[Issue: No Permission](https://crbug.com/v8/1166)**  
**[Commit: Fix a bug in deoptimization after logical expressions in an effect context.](https://chromium.googlesource.com/v8/v8/+/82cdd48)**  
  
Date(Commit): Thu Feb 17 11:06:50 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6519046](http://codereview.chromium.org/6519046)  
Regress: [mjsunit/regress/regress-1166.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1166.js)  
```javascript
function observe(x, y) { return x; }

function test(x) { return observe(1, ((false || false), x + 1)); }

for (var i = 0; i < 5; ++i) test(0);
%OptimizeFunctionOnNextCall(test);
test(0);

test("a");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/82cdd48^!)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=82cdd48)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=82cdd48)  
[test/mjsunit/regress/regress-1166.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1166.js?cl=82cdd48)  
  
---   

## **v8 issue:1160**  
   
**[Issue: No Permission](https://crbug.com/v8/1160)**  
**[Commit: Fix issue 1160: check array elements in ArrayJoin.](https://chromium.googlesource.com/v8/v8/+/4143e4c)**  
  
Date(Commit): Tue Feb 15 15:12:51 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6529020](http://codereview.chromium.org/6529020)  
Regress: [mjsunit/regress/regress-1160.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1160.js)  
```javascript
var N = 10;
var array = Array(N);
for (var i = 0; i < N; ++i) {
  array[i] = i;
}
Array.prototype.__defineSetter__(2, function() { });
assertEquals("0,1,2,3,4,5,6,7,8,9", array.join(","));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4143e4c^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=4143e4c)  
[test/mjsunit/regress/regress-1160.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1160.js?cl=4143e4c)  
  
---   

## **v8 issue:1156**  
   
**[Issue: V8 Crash when idling at news.google.com](https://crbug.com/v8/1156)**  
**[Commit: Make sure we always have room for patching the reloc info during lazy deoptimization (fixes issue 1156).](https://chromium.googlesource.com/v8/v8/+/a8d4360)**  
  
Date(Commit): Tue Feb 15 14:36:12 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/6499015](http://codereview.chromium.org/6499015)  
Regress: [mjsunit/regress/regress-1156.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1156.js)  
```javascript
function foo(a) {
  delete a[1];
  delete a[2];
  delete a[3];
  delete a[4];
  delete a[5];
  return void 0;
}

function call_and_deopt() {
  var b = [1,2,3];
  foo(b);
  foo(b);
  %DeoptimizeFunction(foo);
}

call_and_deopt();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a8d4360^!)  
[src/assembler.cc](https://cs.chromium.org/chromium/src/v8/src/assembler.cc?cl=a8d4360)  
[src/assembler.h](https://cs.chromium.org/chromium/src/v8/src/assembler.h?cl=a8d4360)  
[src/ia32/assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/assembler-ia32.cc?cl=a8d4360)  
[src/ia32/assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/assembler-ia32.h?cl=a8d4360)  
[src/ia32/deoptimizer-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/deoptimizer-ia32.cc?cl=a8d4360)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=a8d4360)  
[test/mjsunit/regress/regress-1156.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1156.js?cl=a8d4360)  
  
---   

## **v8 issue:1146**  
   
**[Issue: No Permission](https://crbug.com/v8/1146)**  
**[Commit: Fix a potential crash bug in keyed calls for non-string keys.](https://chromium.googlesource.com/v8/v8/+/ad70b7d)**  
  
Date(Commit): Mon Feb 14 13:13:41 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6517010](http://codereview.chromium.org/6517010)  
Regress: [mjsunit/regress/regress-1146.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1146.js)  
```javascript
function F() {}
var a = new F();
function f(i) { return a[i](); }

a.first = function() { return 11; }
a[0] = function() { return 22; }
var obj = {};
a[obj] = function() { return 33; }


a.foo = 0;
delete a.foo;

var b = "first";
f(b);
f(b);

assertEquals(11, f(b));
assertEquals(22, f(0));
assertEquals(33, f(obj));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ad70b7d^!)  
[src/arm/ic-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/ic-arm.cc?cl=ad70b7d)  
[src/arm/macro-assembler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.cc?cl=ad70b7d)  
[src/arm/macro-assembler-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.h?cl=ad70b7d)  
[src/ia32/ic-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/ic-ia32.cc?cl=ad70b7d)  
[src/x64/ic-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/ic-x64.cc?cl=ad70b7d)  
[src/x64/macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.cc?cl=ad70b7d)  
[src/x64/macro-assembler-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.h?cl=ad70b7d)  
[test/mjsunit/regress/regress-1146.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1146.js?cl=ad70b7d)  
  
---   

## **v8 issue:1149**  
   
**[Issue: No Permission](https://crbug.com/v8/1149)**  
**[Commit: Fix a duplicate AST ID recorded for for/in.](https://chromium.googlesource.com/v8/v8/+/c73ce4f)**  
  
Date(Commit): Mon Feb 14 12:51:25 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6475009](http://codereview.chromium.org/6475009)  
Regress: [mjsunit/regress/regress-1149.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1149.js)  
```javascript
function f(x) {
  for (x in arguments) {
    for (x in arguments) {
    }
  }
}

f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c73ce4f^!)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=c73ce4f)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=c73ce4f)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=c73ce4f)  
[test/mjsunit/regress/regress-1149.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1149.js?cl=c73ce4f)  
  
---   

## **v8 issue:1151**  
   
**[Issue: No Permission](https://crbug.com/v8/1151)**  
**[Commit: Do not allow calls to SetProtoType on functions that should not have a prototype (fixes issue 1151)](https://chromium.googlesource.com/v8/v8/+/6d9fde4)**  
  
Date(Commit): Mon Feb 14 09:37:56 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6518003](http://codereview.chromium.org/6518003)  
Regress: [mjsunit/regress/regress-1151.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1151.js)  
```javascript
__defineSetter__.__proto__ = function() {};
__defineSetter__['prototype']

eval.__proto__ = function () { };
eval['prototype'] = {};




function f() { return 42; }
f.prototype = 43;
__defineGetter__.__proto__ = f;


assertEquals(__defineGetter__.prototype, 43);


__defineGetter__.prototype = "foo";
assertEquals(__defineGetter__.prototype, "foo");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6d9fde4^!)  
[src/accessors.cc](https://cs.chromium.org/chromium/src/v8/src/accessors.cc?cl=6d9fde4)  
[test/mjsunit/regress/regress-1151.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1151.js?cl=6d9fde4)  
  
---   

## **v8 issue:1150**  
   
**[Issue: Object.keys and Object.getOwnPropertyDescriptor disagree for global variables](https://crbug.com/v8/1150)**  
**[Commit: Add support for the global object in Object.keys (fixes issue 1150)](https://chromium.googlesource.com/v8/v8/+/46bde30)**  
  
Date(Commit): Mon Feb 14 07:49:13 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6516008](http://codereview.chromium.org/6516008)  
Regress: [mjsunit/regress/regress-1150.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1150.js)  
```javascript
var a = 10;
var global = (function () { return this; }) ();
var keys = Object.keys(global);
assertTrue(keys.indexOf("a") > 0);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/46bde30^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=46bde30)  
[test/mjsunit/regress/regress-1150.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1150.js?cl=46bde30)  
  
---   

## **v8 issue:1132**  
   
**[Issue: No Permission](https://crbug.com/v8/1132)**  
**[Commit: Properly treat exceptions thrown while compiling.](https://chromium.googlesource.com/v8/v8/+/e96c24b)**  
  
Date(Commit): Fri Feb 11 14:26:56 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6487021](http://codereview.chromium.org/6487021)  
Regress: [mjsunit/regress/regress-1132.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1132.js)  
```javascript
function test() {
  try {
    test(1, test(1));
  } catch(e) {
    assertFalse(delete e, "deleting catch variable");
    assertEquals(42, e);
  }
}

var exception = false;
try {
  test();
} catch (e) {
  exception = true;
}
assertTrue(exception);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e96c24b^!)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=e96c24b)  
[src/execution.cc](https://cs.chromium.org/chromium/src/v8/src/execution.cc?cl=e96c24b)  
[src/execution.h](https://cs.chromium.org/chromium/src/v8/src/execution.h?cl=e96c24b)  
[src/flag-definitions.h](https://cs.chromium.org/chromium/src/v8/src/flag-definitions.h?cl=e96c24b)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=e96c24b)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=e96c24b)  
[test/mjsunit/regress/regress-1132.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1132.js?cl=e96c24b)  
  
---   

## **v8 issue:1129**  
   
**[Issue: No Permission](https://crbug.com/v8/1129)**  
**[Commit: Fix typo in ASSERT in object-verifier for RegExp.](https://chromium.googlesource.com/v8/v8/+/fdfbdfb)**  
  
Date(Commit): Thu Feb 10 16:43:01 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6476027](http://codereview.chromium.org/6476027)  
Regress: [mjsunit/regress/regress-1129.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1129.js)  
```javascript
var source = Array(50000).join("(") + "a" + Array(50000).join(")");
var r = RegExp(source);
try {
  
  r.test("\x80");
  assertUnreachable();
} catch (e) {
}


gc();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fdfbdfb^!)  
[src/objects-debug.cc](https://cs.chromium.org/chromium/src/v8/src/objects-debug.cc?cl=fdfbdfb)  
[test/mjsunit/regress/regress-1129.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1129.js?cl=fdfbdfb)  
  
---   

## **v8 issue:1130**  
   
**[Issue: No Permission](https://crbug.com/v8/1130)**  
**[Commit: Bypass JS accessors when building error array.](https://chromium.googlesource.com/v8/v8/+/ab244857)**  
  
Date(Commit): Thu Feb 10 15:02:13 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6481001](http://codereview.chromium.org/6481001)  
Regress: [mjsunit/regress/regress-1130.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1130.js)  
```javascript
Object.prototype.__defineGetter__(0, function() { throw 42; } );

var exception = false;
try {
  eval("(function() { const x; var x })")();
} catch (e) {
  exception = true;
  assertTrue(e instanceof SyntaxError);
}
assertTrue(exception);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ab244857^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=ab244857)  
[test/mjsunit/regress/regress-1130.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1130.js?cl=ab244857)  
  
---   

## **v8 issue:1131**  
   
**[Issue: No Permission](https://crbug.com/v8/1131)**  
**[Commit: Bailout from PrepareSlowElementsForSort when hiting a key outside of smi-range.](https://chromium.googlesource.com/v8/v8/+/49adfd0)**  
  
Date(Commit): Thu Feb 10 12:33:34 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6469006](http://codereview.chromium.org/6469006)  
Regress: [mjsunit/regress/regress-1131.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1131.js)  
```javascript
var nonArray = { length: 4, 0: 42, 2: 37, 0xf7da5000: undefined, 4: 0 };
Array.prototype.sort.call(nonArray);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/49adfd0^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=49adfd0)  
[test/mjsunit/regress/regress-1131.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1131.js?cl=49adfd0)  
  
---   

## **v8 issue:1106**  
   
**[Issue: No Permission](https://crbug.com/v8/1106)**  
**[Commit: Add a regression test for issue 1106, optimized access to the prototype chain of the global object.](https://chromium.googlesource.com/v8/v8/+/0fb5a1f)**  
  
Date(Commit): Wed Feb 09 15:50:39 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6459023](http://codereview.chromium.org/6459023)  
Regress: [mjsunit/regress/regress-1106.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1106.js)  
```javascript
x = Object.prototype;
x.foo = 3;
x.bar = 4;
delete x.foo;
x.foo = 5;

function f() { return foo; }

for (i=0 ; i < 5; ++i) {
  assertEquals(5, f());
}
%OptimizeFunctionOnNextCall(f);
assertEquals(5, f());


x.gee = function() { return 42; }
function g() { return gee(); }

for (i=0 ; i < 5; ++i) {
  assertEquals(42, g());
}
%OptimizeFunctionOnNextCall(g);
assertEquals(42, g());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0fb5a1f^!)  
[test/mjsunit/regress/regress-1106.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1106.js?cl=0fb5a1f)  
  
---   

## **v8 issue:1126**  
   
**[Issue: No Permission](https://crbug.com/v8/1126)**  
**[Commit: Fix incorrect asserts in scanner.](https://chromium.googlesource.com/v8/v8/+/d358e2e)**  
  
Date(Commit): Wed Feb 09 14:16:25 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6459021](http://codereview.chromium.org/6459021)  
Regress: [mjsunit/regress/regress-1126.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1126.js)  
```javascript
try {
   eval('--');
   assertUnreachable();
} catch (e) {
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d358e2e^!)  
[src/scanner.cc](https://cs.chromium.org/chromium/src/v8/src/scanner.cc?cl=d358e2e)  
[test/mjsunit/regress/regress-1126.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1126.js?cl=d358e2e)  
  
---   

## **v8 issue:1122**  
   
**[Issue: No Permission](https://crbug.com/v8/1122)**  
**[Commit: Fix a bug that occurs when functions are defined with more than 16,382 parameters.](https://chromium.googlesource.com/v8/v8/+/602d5cf)**  
  
Date(Commit): Wed Feb 09 12:46:22 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6447007](http://codereview.chromium.org/6447007)  
Regress: [mjsunit/regress/regress-1122.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1122.js)  
```javascript
function function_with_n_params_and_m_args(n, m) {
  test_prefix = 'prefix ';
  test_suffix = ' suffix';
  var source = 'test_prefix + (function f(';
  for (var arg = 0; arg < n ; arg++) {
    if (arg != 0) source += ',';
    source += 'arg' + arg;
  }
  source += ') { return arg' + (n - n % 2) / 2 + '; })(';
  for (var arg = 0; arg < m ; arg++) {
    if (arg != 0) source += ',';
    source += arg;
  }
  source += ') + test_suffix';
  return eval(source);
}

assertEquals('prefix 4000 suffix',
             function_with_n_params_and_m_args(8000, 8000));
assertEquals('prefix 3000 suffix',
             function_with_n_params_and_m_args(6000, 8000));
assertEquals('prefix 5000 suffix',
             function_with_n_params_and_m_args(10000, 8000));
assertEquals('prefix 9000 suffix',
             function_with_n_params_and_m_args(18000, 18000));
assertEquals('prefix 16000 suffix',
             function_with_n_params_and_m_args(32000, 32000));
assertEquals('prefix undefined suffix',
             function_with_n_params_and_m_args(32000, 10000));

assertThrows("function_with_n_params_and_m_args(66000, 30000)");
assertThrows("function_with_n_params_and_m_args(30000, 66000)");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/602d5cf^!)  
[src/ia32/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.cc?cl=602d5cf)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=602d5cf)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=602d5cf)  
[src/ia32/macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.cc?cl=602d5cf)  
[src/ia32/macro-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.h?cl=602d5cf)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=602d5cf)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=602d5cf)  
[src/parser.h](https://cs.chromium.org/chromium/src/v8/src/parser.h?cl=602d5cf)  
[src/x64/codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/codegen-x64.cc?cl=602d5cf)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=602d5cf)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=602d5cf)  
[src/x64/macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.cc?cl=602d5cf)  
[src/x64/macro-assembler-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.h?cl=602d5cf)  
[test/mjsunit/regress/regress-1122.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1122.js?cl=602d5cf)  
  
---   

## **v8 issue:1118**  
   
**[Issue: No Permission](https://crbug.com/v8/1118)**  
**[Commit: Fix an assertion failure in stack trace construction.](https://chromium.googlesource.com/v8/v8/+/991a1ca)**  
  
Date(Commit): Wed Feb 09 11:45:50 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6465023](http://codereview.chromium.org/6465023)  
Regress: [mjsunit/regress/regress-1118.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1118.js)  
```javascript
function A() { }
A.prototype.f = function() { }

function B() { }

var o = new A();



function g() { try { return o.f(); } finally { }}


function h() {
  for (var i = 0; i < 10; i++) %OptimizeOsr();
  g();
}

h();
o = new B();
assertThrows("h()");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/991a1ca^!)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=991a1ca)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=991a1ca)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=991a1ca)  
[test/mjsunit/regress/regress-1118.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1118.js?cl=991a1ca)  
  
---   

## **v8 issue:1125**  
   
**[Issue: No Permission](https://crbug.com/v8/1125)**  
**[Commit: Use GC-safe version when setting elements.](https://chromium.googlesource.com/v8/v8/+/d724993)**  
  
Date(Commit): Wed Feb 09 11:38:10 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6463001](http://codereview.chromium.org/6463001)  
Regress: [mjsunit/regress/regress-1125.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1125.js)  
```javascript
function f(x, y) {
  with ("abcdefghijxxxxxxxxxx")
    var y = {};
}

function g() {
  f.apply(this, arguments);
}

for (var i = 0; i < 150000; i++) {
  g(i);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d724993^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=d724993)  
[test/mjsunit/regress/regress-1125.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1125.js?cl=d724993)  
  
---   

## **v8 issue:1121**  
   
**[Issue: getOwnPropertyNames can trigger "CHECK(object->IsJSObject()) failed"](https://crbug.com/v8/1121)**  
**[Commit: Check if Array.prototype.__proto__ has been reset to null.](https://chromium.googlesource.com/v8/v8/+/cf30cef)**  
  
Date(Commit): Tue Feb 08 19:56:44 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/6454004](http://codereview.chromium.org/6454004)  
Regress: [mjsunit/regress/regress-1121.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1121.js)  
```javascript
Array.prototype.__proto__ = null;

assertEquals([1, 2, 3], [1, 2, 3].slice());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cf30cef^!)  
[src/builtins.cc](https://cs.chromium.org/chromium/src/v8/src/builtins.cc?cl=cf30cef)  
[test/mjsunit/regress/regress-1121.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1121.js?cl=cf30cef)  
  
---   

## **v8 issue:1107**  
   
**[Issue: No Permission](https://crbug.com/v8/1107)**  
**[Commit: Propagate exceptions thrown when setting elements.](https://chromium.googlesource.com/v8/v8/+/0273e81)**  
  
Date(Commit): Tue Feb 08 19:42:14 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6451004](http://codereview.chromium.org/6451004)  
Regress: [mjsunit/regress/regress-1107.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1107.js)  
```javascript
Object.prototype.__defineGetter__(0, function(){});
assertThrows("x");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0273e81^!)  
[src/handles.cc](https://cs.chromium.org/chromium/src/v8/src/handles.cc?cl=0273e81)  
[src/messages.cc](https://cs.chromium.org/chromium/src/v8/src/messages.cc?cl=0273e81)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=0273e81)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=0273e81)  
[test/mjsunit/getter-in-prototype.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/getter-in-prototype.js?cl=0273e81)  
[test/mjsunit/regress/regress-1107.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1107.js?cl=0273e81)  
  
---   

## **v8 issue:1119**  
   
**[Issue: No Permission](https://crbug.com/v8/1119)**  
**[Commit: 1) Return failure if any of property sets failed;](https://chromium.googlesource.com/v8/v8/+/da8b72f)**  
  
Date(Commit): Tue Feb 08 19:04:17 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6454011](http://codereview.chromium.org/6454011)  
Regress: [mjsunit/regress/regress-1119.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1119.js)  
```javascript
this.__defineSetter__("x", function() { hasBeenInvoked = true; });
this.__defineSetter__("y", function() { throw 'exception'; });

var hasBeenInvoked = false;
eval("try { } catch (e) { var x = false; }");
assertTrue(hasBeenInvoked);


try {
  eval("try { } catch (e) { var y = false; }");
  assertUnreachable();
} catch (e) {
  assertEquals('exception', e);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/da8b72f^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=da8b72f)  
[test/mjsunit/regress/regress-1119.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1119.js?cl=da8b72f)  
  
---   

## **v8 issue:1110**  
   
**[Issue: No Permission](https://crbug.com/v8/1110)**  
**[Commit: Fix wrong assumption in parser that parsing a function literal cannot throw an exception.](https://chromium.googlesource.com/v8/v8/+/096c215)**  
  
Date(Commit): Tue Feb 08 18:46:13 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6453009](http://codereview.chromium.org/6453009)  
Regress: [mjsunit/regress/regress-1110.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1110.js)  
```javascript
try {
  eval("function Crash() { assertUnreachable(); continue;if (Crash) {  } }");
  Crash();
  assertUnreachable();
} catch (e) {
  assertTrue(e instanceof SyntaxError);
  assertTrue(/continue/.test(e.message));
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/096c215^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=096c215)  
[test/mjsunit/regress/regress-1110.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1110.js?cl=096c215)  
  
---   

## **v8 issue:1112**  
   
**[Issue: No Permission](https://crbug.com/v8/1112)**  
**[Commit: Fix issues with using defineProperty on the global proxy object.](https://chromium.googlesource.com/v8/v8/+/8c6c273)**  
  
Date(Commit): Tue Feb 08 16:31:58 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6452004](http://codereview.chromium.org/6452004)  
Regress: [mjsunit/regress/regress-1112.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1112.js)  
```javascript
Object.defineProperty(this,
                      1,
                      { configurable: true, enumerable: true, value: 3 });
assertEquals(3, this[1]);
assertTrue(this.hasOwnProperty("1"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8c6c273^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=8c6c273)  
[test/cctest/test-api.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-api.cc?cl=8c6c273)  
[test/mjsunit/regress/regress-1112.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1112.js?cl=8c6c273)  
  
---   

## **v8 issue:1117**  
   
**[Issue: When crankshaft is enabled we might do wrong integer multiplication when the left operand is constant 0](https://crbug.com/v8/1117)**  
**[Commit: x64: Add MulI and DivI to lithium instructions.](https://chromium.googlesource.com/v8/v8/+/f649660)**  
  
Date(Commit): Tue Feb 08 14:37:50 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6448001](http://codereview.chromium.org/6448001)  
Regress: [mjsunit/regress/regress-1117.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1117.js)  
```javascript
function foo(y) {return 0 * y; }
assertEquals(1/foo(-42), -Infinity);
assertEquals(1/foo(-42), -Infinity);
%OptimizeFunctionOnNextCall(foo);
assertEquals(1/foo(-42), -Infinity);

function bar(x) { return x * 0; }
assertEquals(Infinity, 1/bar(5));
assertEquals(Infinity, 1/bar(5));
%OptimizeFunctionOnNextCall(bar);
assertEquals(-Infinity, 1/bar(-5));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f649660^!)  
[src/arm/lithium-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-arm.cc?cl=f649660)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=f649660)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=f649660)  
[src/ia32/lithium-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.cc?cl=f649660)  
[src/x64/assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/assembler-x64.cc?cl=f649660)  
[src/x64/assembler-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/assembler-x64.h?cl=f649660)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=f649660)  
[src/x64/lithium-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.cc?cl=f649660)  
[src/x64/lithium-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.h?cl=f649660)  
[test/mjsunit/regress/regress-1117.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1117.js?cl=f649660)  
  
---   

## **v8 issue:1170**  
   
**[Issue: No Permission](https://crbug.com/v8/1170)**  
**[Commit: Correct propagation of exceptions from setters.](https://chromium.googlesource.com/v8/v8/+/2f32f27)**  
  
Date(Commit): Tue Feb 08 14:04:27 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6451003](http://codereview.chromium.org/6451003)  
Regress: [mjsunit/regress/regress-1170.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1170.js)  
```javascript
var setter_value = 0;

this.__defineSetter__("a", function(v) { setter_value = v; });
eval("var a = 1");
assertEquals(1, setter_value);
assertFalse("value" in Object.getOwnPropertyDescriptor(this, "a"));

eval("with({}) { eval('var a = 2') }");
assertTrue("get" in Object.getOwnPropertyDescriptor(this, "a"));
assertFalse("value" in Object.getOwnPropertyDescriptor(this, "a"));
assertEquals(2, setter_value);



this.__defineSetter__("a", function(v) { assertUnreachable(); });
eval("function a() {}");
assertTrue("value" in Object.getOwnPropertyDescriptor(this, "a"));

this.__defineSetter__("b", function(v) { setter_value = v; });
try {
  eval("const b = 3");
} catch(e) { }
assertEquals(2, setter_value);

try {
  eval("with({}) { eval('const b = 23') }");
} catch(e) {
  assertInstanceof(e, TypeError);
}

this.__defineSetter__("c", function(v) { throw 42; });
try {
  eval("var c = 1");
  assertUnreachable();
} catch(e) {
  assertEquals(42, e);
  assertFalse("value" in Object.getOwnPropertyDescriptor(this, "c"));
}




__proto__.__defineSetter__("aa", function(v) { assertUnreachable(); });
eval("var aa = 1");
assertTrue(this.hasOwnProperty("aa"));

__proto__.__defineSetter__("bb", function(v) { assertUnreachable(); });
eval("with({}) { eval('var bb = 2') }");
assertTrue(this.hasOwnProperty("bb"));



__proto__.__defineSetter__("cc", function(v) { assertUnreachable(); });
eval("function cc() {}");
assertTrue(this.hasOwnProperty("cc"));

__proto__.__defineSetter__("dd", function(v) { assertUnreachable(); });
try {
  eval("const dd = 23");
} catch(e) {
  assertUnreachable();
}

try {
  eval("with({}) { eval('const dd = 23') }");
} catch(e) {
  assertInstanceof(e, TypeError);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2f32f27^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=2f32f27)  
[test/mjsunit/regress/regress-1105.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1105.js?cl=2f32f27)  
  
---   

## **v8 issue:1104**  
   
**[Issue: No Permission](https://crbug.com/v8/1104)**  
**[Commit: Fix a possible duplicate AST ID for deoptimization.](https://chromium.googlesource.com/v8/v8/+/bf3c3eb)**  
  
Date(Commit): Tue Feb 08 14:00:22 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6453004](http://codereview.chromium.org/6453004)  
Regress: [mjsunit/regress/regress-1104.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1104.js)  
```javascript
function test(f) {
  function f() {}
  function f() {}
  return arguments;
}

test();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/bf3c3eb^!)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=bf3c3eb)  
[test/mjsunit/regress/regress-1104.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1104.js?cl=bf3c3eb)  
  
---   

## **v8 issue:1120**  
   
**[Issue: Object.isExtensible called on the global object when this has been frozen returns true](https://crbug.com/v8/1120)**  
**[Commit: Make sure that we do not call is_extensible on the global proxy.](https://chromium.googlesource.com/v8/v8/+/20f2c1c)**  
  
Date(Commit): Tue Feb 08 13:09:07 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6450003](http://codereview.chromium.org/6450003)  
Regress: [mjsunit/regress/regress-1120.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1120.js)  
```javascript
var obj = this;
Object.freeze(obj);
assertFalse(Object.isExtensible(obj));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/20f2c1c^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=20f2c1c)  
[test/mjsunit/regress/regress-1120.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1120.js?cl=20f2c1c)  
  
---   

## **v8 issue:1103**  
   
**[Issue: No Permission](https://crbug.com/v8/1103)**  
**[Commit: Make sure that we never call prevent extension on the global proxy,](https://chromium.googlesource.com/v8/v8/+/81787f9)**  
  
Date(Commit): Tue Feb 08 12:41:16 2011  
Type: None  
Code Review: [http://codereview.chromium.org/6454001](http://codereview.chromium.org/6454001)  
Regress: [mjsunit/regress/regress-1103.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1103.js)  
```javascript
var obj = this;
obj = Object.freeze(obj);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/81787f9^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=81787f9)  
[test/mjsunit/regress/regress-1103.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1103.js?cl=81787f9)  
  
---   

## **v8 issue:1099**  
   
**[Issue: Crash in JSObject::LocalLookup](https://crbug.com/v8/1099)**  
**[Commit: Restore context after LApplyArguments.](https://chromium.googlesource.com/v8/v8/+/10f715e)**  
  
Date(Commit): Fri Feb 04 15:42:02 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6246106](http://codereview.chromium.org/6246106)  
Regress: [mjsunit/regress/regress-1099.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1099.js)  
```javascript
function X() {
  var slot = "foo"; return function (a) { return slot === a; }
}

function Y(x) {
  var slot = "bar";
  return function (a) {
    x.apply(this, arguments);
    return slot === 'bar';
  };
}

var y = Y(X());

for (var i = 0; i < 5; i++) {
  assertTrue(y("foo"));
}

%OptimizeFunctionOnNextCall(y);
assertTrue(y("foo"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/10f715e^!)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=10f715e)  
[test/mjsunit/regress/regress-1099.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1099.js?cl=10f715e)  
  
---   

## **v8 issue:1092**  
   
**[Issue: More than 3 assignments to 'this' properties at global scope will break Heap invariants.](https://crbug.com/v8/1092)**  
**[Commit: Fix bugs 992, 1083 and 1092](https://chromium.googlesource.com/v8/v8/+/c894b1f)**  
  
Date(Commit): Thu Feb 03 19:29:10 2011  
Type: ----  
Code Review: [http://codereview.chromium.org/6286060](http://codereview.chromium.org/6286060)  
Regress: [mjsunit/regress/regress-1092.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1092.js)  
```javascript
this.w = 0;
this.x = 1;
this.y = 2;
this.z = 3;  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c894b1f^!)  
[.gitignore](https://cs.chromium.org/chromium/src/v8/.gitignore?cl=c894b1f)  
[src/handles.cc](https://cs.chromium.org/chromium/src/v8/src/handles.cc?cl=c894b1f)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=c894b1f)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=c894b1f)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=c894b1f)  
[test/mjsunit/object-define-property.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/object-define-property.js?cl=c894b1f)  
[test/mjsunit/regress/regress-1083.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1083.js?cl=c894b1f)  
[test/mjsunit/regress/regress-1092.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1092.js?cl=c894b1f)  
[test/mjsunit/regress/regress-992.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-992.js?cl=c894b1f)  
  
---   

## **v8 issue:1079**  
   
**[Issue: Handling of optimized frames which have called without deoptimization index is unsafe](https://crbug.com/v8/1079)**  
**[Commit: Partial fix for V8 issue 1079.](https://chromium.googlesource.com/v8/v8/+/f114973)**  
  
Date(Commit): Wed Feb 02 13:55:29 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6250105](http://codereview.chromium.org/6250105)  
Regress: [mjsunit/regress/regress-1079.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1079.js)  
```javascript
function optimized() {
  return unoptimized.apply(null, arguments);
}


function unoptimized() {
  with ({}) {
    return optimized.arguments;
  }
}

for (var i = 0; i < 5; ++i) {
  assertEquals(3, optimized(1, 2, 3).length);
}
%OptimizeFunctionOnNextCall(optimized);
assertEquals(3, optimized(1, 2, 3).length);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f114973^!)  
[src/arm/deoptimizer-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/deoptimizer-arm.cc?cl=f114973)  
[src/arm/lithium-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-arm.cc?cl=f114973)  
[src/arm/lithium-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-arm.h?cl=f114973)  
[src/arm/lithium-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/lithium-codegen-arm.cc?cl=f114973)  
[src/deoptimizer.h](https://cs.chromium.org/chromium/src/v8/src/deoptimizer.h?cl=f114973)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=f114973)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=f114973)  
[src/ia32/deoptimizer-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/deoptimizer-ia32.cc?cl=f114973)  
[src/ia32/lithium-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-codegen-ia32.cc?cl=f114973)  
[src/ia32/lithium-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.cc?cl=f114973)  
[src/ia32/lithium-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/lithium-ia32.h?cl=f114973)  
[src/safepoint-table.cc](https://cs.chromium.org/chromium/src/v8/src/safepoint-table.cc?cl=f114973)  
[src/safepoint-table.h](https://cs.chromium.org/chromium/src/v8/src/safepoint-table.h?cl=f114973)  
[src/x64/deoptimizer-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/deoptimizer-x64.cc?cl=f114973)  
[src/x64/lithium-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-codegen-x64.cc?cl=f114973)  
[src/x64/lithium-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.cc?cl=f114973)  
[src/x64/lithium-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/lithium-x64.h?cl=f114973)  
[test/cctest/cctest.status](https://cs.chromium.org/chromium/src/v8/test/cctest/cctest.status?cl=f114973)  
[test/mjsunit/regress/regress-1079.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1079.js?cl=f114973)  
  
---   

## **v8 issue:1083**  
   
**[Issue: Object.defineProperty(this, "Object", {enumerable:true}); breaks invariant](https://crbug.com/v8/1083)**  
**[Commit: Fix bugs 992 and 1083](https://chromium.googlesource.com/v8/v8/+/9c89aa6)**  
  
Date(Commit): Tue Feb 01 17:08:14 2011  
Type: ----  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@6561](http://v8.googlecode.com/svn/branches/bleeding_edge@6561)  
Regress: [mjsunit/regress/regress-1083.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1083.js)  
```javascript
Object.defineProperty(this, 'Object', {enumerable:true});

var desc = Object.getOwnPropertyDescriptor(this, 'Object');
assertTrue(desc.enumerable);
assertTrue(desc.configurable);
assertFalse(desc.hasOwnProperty('get'));
assertFalse(desc.hasOwnProperty('set'));
assertTrue(desc.hasOwnProperty('value'));
assertTrue(desc.writable);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9c89aa6^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=9c89aa6)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=9c89aa6)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=9c89aa6)  
[test/mjsunit/object-define-property.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/object-define-property.js?cl=9c89aa6)  
[test/mjsunit/regress/regress-1083.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1083.js?cl=9c89aa6)  
[test/mjsunit/regress/regress-992.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-992.js?cl=9c89aa6)  
  
---   

## **v8 issue:992**  
   
**[Issue: Object.defineProperty does not behave correctly when passed a generic descriptor](https://crbug.com/v8/992)**  
**[Commit: Fix bugs 992 and 1083](https://chromium.googlesource.com/v8/v8/+/9c89aa6)**  
  
Date(Commit): Tue Feb 01 17:08:14 2011  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@6561](http://v8.googlecode.com/svn/branches/bleeding_edge@6561)  
Regress: [mjsunit/regress/regress-992.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-992.js)  
```javascript
var obj =  { get p() { return 42; }  };
var desc = Object.getOwnPropertyDescriptor(obj, 'p');
var getter = desc.get;

Object.defineProperty(obj, 'p', {enumerable: false });
assertEquals(obj.p, 42);
desc = Object.getOwnPropertyDescriptor(obj, 'p');
assertFalse(desc.enumerable);
assertTrue(desc.configurable);
assertEquals(desc.get, getter);
assertEquals(desc.set, undefined);
assertFalse(desc.hasOwnProperty('value'));
assertFalse(desc.hasOwnProperty('writable'));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9c89aa6^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=9c89aa6)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=9c89aa6)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=9c89aa6)  
[test/mjsunit/object-define-property.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/object-define-property.js?cl=9c89aa6)  
[test/mjsunit/regress/regress-1083.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1083.js?cl=9c89aa6)  
[test/mjsunit/regress/regress-992.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-992.js?cl=9c89aa6)  
  
---   

## **v8 issue:1085**  
   
**[Issue: Minus infinity treated incorrectly in optimized division.](https://crbug.com/v8/1085)**  
**[Commit: Fix a bug in the placement of minus-zero checks and in GVN.](https://chromium.googlesource.com/v8/v8/+/4e7ddab)**  
  
Date(Commit): Mon Jan 31 12:36:54 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6260035](http://codereview.chromium.org/6260035)  
Regress: [mjsunit/compiler/regress-1085.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/compiler/regress-1085.js)  
```javascript
function f(x) { return 1 / Math.min(1, x); }

for (var i = 0; i < 5; ++i) f(1);
%OptimizeFunctionOnNextCall(f);

assertEquals(-Infinity, f(-0));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4e7ddab^!)  
[src/hydrogen-instructions.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.cc?cl=4e7ddab)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=4e7ddab)  
[src/hydrogen.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen.h?cl=4e7ddab)  
[test/mjsunit/compiler/regress-1085.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/regress-1085.js?cl=4e7ddab)  
  
---   

## **v8 issue:1060**  
   
**[Issue: ASSERT in compiler](https://crbug.com/v8/1060)**  
**[Commit: Fix an assertion failure in the full code generator.](https://chromium.googlesource.com/v8/v8/+/70910af)**  
  
Date(Commit): Wed Jan 19 15:26:54 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6368007](http://codereview.chromium.org/6368007)  
Regress: [mjsunit/regress/regress-1060.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1060.js)  
```javascript
function f(x) { arguments; return x() + x(); }

assertEquals("hesthest", f(function () { return "hest"; }));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/70910af^!)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=70910af)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=70910af)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=70910af)  
[test/mjsunit/regress/regress-1060.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1060.js?cl=70910af)  
  
---   

## **v8 issue:1020**  
   
**[Issue: Optimized instanceof can return 0](https://crbug.com/v8/1020)**  
**[Commit: Fix bug in instanceof stub](https://chromium.googlesource.com/v8/v8/+/9bc3a16)**  
  
Date(Commit): Wed Jan 05 14:19:12 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6014013](http://codereview.chromium.org/6014013)  
Regress: [mjsunit/regress/regress-1020.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1020.js)  
```javascript
function isObject(o) {
  return o instanceof Object;
}

assertTrue(isObject(Object));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9bc3a16^!)  
[src/ia32/code-stubs-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/code-stubs-ia32.cc?cl=9bc3a16)  
[test/mjsunit/regress/regress-1020.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1020.js?cl=9bc3a16)  
  
---   

## **v8 issue:900**  
   
**[Issue: __definegetter__, __definesetter__ and Object.defineProperty does not work correctly on array indices.](https://crbug.com/v8/900)**  
**[Commit: Allow getters and setters on JSArray elements.](https://chromium.googlesource.com/v8/v8/+/aa396c5)**  
  
Date(Commit): Tue Jan 04 13:59:34 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/5959009](http://codereview.chromium.org/5959009)  
Regress: [mjsunit/regress/regress-900.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-900.js)  
```javascript
var a = [];
var b = {}
Object.defineProperty(a, "1", {get: function() {return "foo";}});
Object.defineProperty(
    b, "1", {get: function() {return "bar";}, set: function() {this.x = 42;}});
assertEquals(a[1], 'foo');
assertEquals(b[1], 'bar');


b[1] = 'foobar';
assertEquals(b[1], 'bar');
assertEquals(b.x, 42);

var desc = Object.getOwnPropertyDescriptor(b, "1");
assertEquals(desc['writable'], undefined);
assertFalse(desc['enumerable']);
assertFalse(desc['configurable']);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/aa396c5^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=aa396c5)  
[test/mjsunit/indexed-accessors.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/indexed-accessors.js?cl=aa396c5)  
[test/mjsunit/regress/regress-900.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-900.js?cl=aa396c5)  
[test/mozilla/mozilla.status](https://cs.chromium.org/chromium/src/v8/test/mozilla/mozilla.status?cl=aa396c5)  
  
---   

## **v8 issue:1015**  
   
**[Issue: Object literals incorrectly invoke inherited setters for initialization](https://crbug.com/v8/1015)**  
**[Commit: Don't let JSON parsed objects hit inherited setters.](https://chromium.googlesource.com/v8/v8/+/e7ecb74)**  
  
Date(Commit): Tue Jan 04 12:19:55 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6101001](http://codereview.chromium.org/6101001)  
Regress: [mjsunit/regress/regress-1015.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1015.js)  
```javascript
function mkFail(message) {
  return function () { assertUnreachable(message); }
}

Object.defineProperty(Object.prototype, "foo",
                      {get: mkFail("oget"), set: mkFail("oset")});
Object.defineProperty(Array.prototype, "2",
                      {get: mkFail("aget"), set: mkFail("aset")});

function inFunction() {
  for (var i = 0; i < 10; i++) {
    
    var ja = JSON.parse('[1,2,3,4]');
    var jo = JSON.parse('{"bar": 10, "foo": 20}')
    var jop = JSON.parse('{"bar": 10, "__proto__": { }, "foo": 20}')
    var a = [1,2,3,4];
    var o = { bar: 10, foo: 20 };
    var op = { __proto__: { set bar(v) { assertUnreachable("bset"); } },
               bar: 10 };
  }
}

for (var i = 0; i < 10; i++) {
  
  var ja = JSON.parse('[1,2,3,4]');
  var jo = JSON.parse('{"bar": 10, "foo": 20}')
  var jop = JSON.parse('{"bar": 10, "__proto__": { }, "foo": 20}')
  var a = [1,2,3,4];
  var o = { bar: 10, foo: 20 };
  var op = { __proto__: { set bar(v) { assertUnreachable("bset"); } },
             bar: 10 };
  
  inFunction();
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e7ecb74^!)  
[src/heap-inl.h](https://cs.chromium.org/chromium/src/v8/src/heap-inl.h?cl=e7ecb74)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=e7ecb74)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=e7ecb74)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=e7ecb74)  
[test/mjsunit/bugs/bug-1015.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-1015.js?cl=e7ecb74)  
  
---   

## **v8 issue:1017**  
   
**[Issue: String parsing crash when parsing a uc16 character when current size is exactly 32](https://crbug.com/v8/1017)**  
**[Commit: Fix bug that happens when the first non-ASCII character of a literal is at a power-of-two position.](https://chromium.googlesource.com/v8/v8/+/59aea66)**  
  
Date(Commit): Tue Jan 04 11:25:59 2011  
Type: Bug  
Code Review: [http://codereview.chromium.org/6044009](http://codereview.chromium.org/6044009)  
Regress: [mjsunit/regress/regress-1017.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-1017.js)  
```javascript
assertEquals(33, "12345678901234567890123456789012\u2028".length);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/59aea66^!)  
[src/scanner-base.h](https://cs.chromium.org/chromium/src/v8/src/scanner-base.h?cl=59aea66)  
[test/mjsunit/regress/regress-1017.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-1017.js?cl=59aea66)  
  
---   

## **v8 issue:995**  
   
**[Issue: %_IsArray returns true for string wrapper after %_IsSpecObject call.](https://crbug.com/v8/995)**  
**[Commit: A number of instructions use GVN but do not provide a comparison](https://chromium.googlesource.com/v8/v8/+/6e30a77)**  
  
Date(Commit): Thu Dec 16 15:40:02 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/5898003](http://codereview.chromium.org/5898003)  
Regress: [mjsunit/regress/regress-995.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-995.js)  
```javascript
function f(value) {
  if (%_IsJSReceiver(value)) {
    if ((%_IsArray(value))) assertTrue(false);
  }
}
f(new String("bar"));


function h(value) {
  if (value == null) {
    if (value === null) assertTrue(false);
  }
}
h(undefined);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6e30a77^!)  
[src/hydrogen-instructions.h](https://cs.chromium.org/chromium/src/v8/src/hydrogen-instructions.h?cl=6e30a77)  
[test/mjsunit/regress/regress-995.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-995.js?cl=6e30a77)  
  
---   

## **v8 issue:687**  
   
**[Issue: Object.defineProperty problems with redefining accessor properties in some situations.](https://crbug.com/v8/687)**  
**[Commit: Change Object.defineProperty to accept undefined as getters and setters and to correctly accept overriding an accessor with a data property.](https://chromium.googlesource.com/v8/v8/+/357afa3)**  
  
Date(Commit): Thu Dec 16 12:21:08 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/5861006](http://codereview.chromium.org/5861006)  
Regress: [mjsunit/regress/regress-687.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-687.js)  
```javascript
var obj = { get value() {}, set value (v) { throw "Error";} };
assertDoesNotThrow(
    Object.defineProperty(obj, "value",
                          { value: 5, writable:true, configurable: true }));
var desc = Object.getOwnPropertyDescriptor(obj, "value");
assertEquals(obj.value, 5);
assertTrue(desc.configurable);
assertTrue(desc.enumerable);
assertTrue(desc.writable);
assertEquals(desc.get, undefined);
assertEquals(desc.set, undefined);


var proto = {
  get value() {},
  set value(v) { Object.defineProperty(this, "value", {value: v}); }
};

var create = Object.create(proto);

assertEquals(create.value, undefined);
assertDoesNotThrow(create.value = 4);
assertEquals(create.value, 4);


var obj1 = {};
Object.defineProperty(obj1, 'p', {get: undefined, set: undefined});
assertTrue("p" in obj1);
desc = Object.getOwnPropertyDescriptor(obj1, "p");
assertFalse(desc.configurable);
assertFalse(desc.enumerable);
assertEquals(desc.value, undefined);
assertEquals(desc.get, undefined);
assertEquals(desc.set, undefined);


var obj2 = { get p() {}};
Object.defineProperty(obj2, 'p', {get: undefined})
assertTrue("p" in obj2);
desc = Object.getOwnPropertyDescriptor(obj2, "p");
assertTrue(desc.configurable);
assertTrue(desc.enumerable);
assertEquals(desc.value, undefined);
assertEquals(desc.get, undefined);
assertEquals(desc.set, undefined);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/357afa3^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=357afa3)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=357afa3)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=357afa3)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=357afa3)  
[test/mjsunit/object-define-property.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/object-define-property.js?cl=357afa3)  
[test/mjsunit/regress/regress-687.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-687.js?cl=357afa3)  
  
---   

## **v8 issue:974**  
   
**[Issue: Verify heap assertion found by fuzzing](https://crbug.com/v8/974)**  
**[Commit: Fix issue 974.](https://chromium.googlesource.com/v8/v8/+/ace6290)**  
  
Date(Commit): Wed Dec 15 16:14:29 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/5883003](http://codereview.chromium.org/5883003)  
Regress: [mjsunit/regress/regress-974.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-974.js)  
```javascript
eval("(function(){try {  } catch(x) {  } finally { gc() }})")();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ace6290^!)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=ace6290)  
[src/full-codegen.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen.cc?cl=ace6290)  
[src/full-codegen.h](https://cs.chromium.org/chromium/src/v8/src/full-codegen.h?cl=ace6290)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=ace6290)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=ace6290)  
[test/mjsunit/regress/regress-974.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-974.js?cl=ace6290)  
  
---   

## **v8 issue:982**  
   
**[Issue: Reliability stress test: Crash in generated code on http://tv.sbs.co.kr/drama_main.jsp](https://crbug.com/v8/982)**  
**[Commit: Fix issue 982.](https://chromium.googlesource.com/v8/v8/+/655b308)**  
  
Date(Commit): Wed Dec 15 14:35:46 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/5898001](http://codereview.chromium.org/5898001)  
Regress: [mjsunit/regress/regress-982.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-982.js)  
```javascript
function f(a) {
 return {className: 'xxx'};
};

var x = 1;

function g(active) {
 for (i = 1; i <= 20000; i++) {
   if (i == active) {
     x = i;
     if (f("" + i) != null) { }
   } else {
     if (f("" + i) != null) { }
   }
 }
}

g(0);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/655b308^!)  
[src/lithium-allocator.cc](https://cs.chromium.org/chromium/src/v8/src/lithium-allocator.cc?cl=655b308)  
[test/mjsunit/regress/regress-982.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-982.js?cl=655b308)  
  
---   

## **v8 issue:969**  
   
**[Issue: Assertion failure in deoptimizer-ia32.cc](https://crbug.com/v8/969)**  
**[Commit: Deoptimize to the proper target after assignment side effects.](https://chromium.googlesource.com/v8/v8/+/49f4c39)**  
  
Date(Commit): Mon Dec 13 16:29:47 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/5682010](http://codereview.chromium.org/5682010)  
Regress: [mjsunit/regress/regress-969.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-969.js)  
```javascript
function first(x, y) { return x; }
var y = 0;
var o = {};
o.x = 0;
o[0] = 0;


x0 = 0;
function test0() { return first((y = 1, typeof x0), 2); }

assertEquals('number', test0());

delete x0;
assertEquals('undefined', test0());


x1 = 0;
function test1() { return first((y += 1, typeof x1), 2); }
assertEquals('number', test1(), 'test1 before');
delete x1;
assertEquals('undefined', test1(), 'test1 after');


x2 = 0;
function test2() { return first((++y, typeof x2), 2); }
assertEquals('number', test2(), 'test2 before');
delete x2;
assertEquals('undefined', test2(), 'test2 after');

x3 = 0;
function test3() { return first((y++, typeof x3), 2); }
assertEquals('number', test3(), 'test3 before');
delete x3;
assertEquals('undefined', test3(), 'test3 after');




x4 = 0;
function test4() { return first((o.x = 1, typeof x4), 2); }
assertEquals('number', test4());
delete x4;
assertEquals('undefined', test4());

x5 = 0;
function test5() { return first((o.x += 1, typeof x5), 2); }
assertEquals('number', test5());
delete x5;
assertEquals('undefined', test5());

x6 = 0;
function test6() { return first((++o.x, typeof x6), 2); }
assertEquals('number', test6());
delete x6;
assertEquals('undefined', test6());

x7 = 0;
function test7() { return first((o.x++, typeof x7), 2); }
assertEquals('number', test7());
delete x7;
assertEquals('undefined', test7());




x8 = 0;
function test8(index) { return first((o[index] = 1, typeof x8), 2); }
assertEquals('number', test8());
delete x8;
assertEquals('undefined', test8());

x9 = 0;
function test9(index) { return first((o[index] += 1, typeof x9), 2); }
assertEquals('number', test9());
delete x9;
assertEquals('undefined', test9());

x10 = 0;
function test10(index) { return first((++o[index], typeof x10), 2); }
assertEquals('number', test10());
delete x10;
assertEquals('undefined', test10());

x11 = 0;
function test11(index) { return first((o[index]++, typeof x11), 2); }
assertEquals('number', test11());
delete x11;
assertEquals('undefined', test11());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/49f4c39^!)  
[src/ast-inl.h](https://cs.chromium.org/chromium/src/v8/src/ast-inl.h?cl=49f4c39)  
[src/ast.cc](https://cs.chromium.org/chromium/src/v8/src/ast.cc?cl=49f4c39)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=49f4c39)  
[src/full-codegen.h](https://cs.chromium.org/chromium/src/v8/src/full-codegen.h?cl=49f4c39)  
[src/hydrogen.cc](https://cs.chromium.org/chromium/src/v8/src/hydrogen.cc?cl=49f4c39)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=49f4c39)  
[test/mjsunit/regress/regress-989.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-989.js?cl=49f4c39)  
  
---   

## **v8 issue:962**  
   
**[Issue: Assert failure in debug linux 32-bit Chrome with V8 3.0.0.  In register allocator.](https://crbug.com/v8/962)**  
**[Commit: Fix issue 962.](https://chromium.googlesource.com/v8/v8/+/65f98b1)**  
  
Date(Commit): Fri Dec 10 14:25:10 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/5720001](http://codereview.chromium.org/5720001)  
Regress: [mjsunit/regress/regress-962.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-962.js)  
```javascript
function L(scope) { this.s = new Object(); }

L.prototype.c = function() { return true; }

function F() {
  this.l = [new L, new L];
}

F.prototype.foo = function () {
    var f, d = arguments,
        e, b = this.l,
        g;
    for (e = 0; e < b.length; e++) {
        g = b[e];
        f = g.c.apply(g.s, d);
        if (f === false) {
            break
        }
    }
    return f
}


var ctx = new F;

for (var i = 0; i < 5; i++) ctx.foo();
%OptimizeFunctionOnNextCall(F.prototype.foo);
ctx.foo();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/65f98b1^!)  
[src/lithium-allocator.cc](https://cs.chromium.org/chromium/src/v8/src/lithium-allocator.cc?cl=65f98b1)  
[src/lithium-allocator.h](https://cs.chromium.org/chromium/src/v8/src/lithium-allocator.h?cl=65f98b1)  
[test/mjsunit/regress/regress-962.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-962.js?cl=65f98b1)  
  
---   

## **v8 issue:944**  
   
**[Issue: TimeComposer broken for times with milliseconds values that have only 1 or 2 digits](https://crbug.com/v8/944)**  
**[Commit: make DateParser::TimeComposer handle 1-2 digits millisecond values](https://chromium.googlesource.com/v8/v8/+/7be18f7)**  
  
Date(Commit): Fri Nov 26 11:48:35 2010  
Type: ----  
Code Review: [http://code.google.com/p/v8/issues/detail?id=944](http://code.google.com/p/v8/issues/detail?id=944)  
Regress: [mjsunit/regress/regress-944.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-944.js)  
```javascript
assertEquals(1290722550521, Date.parse("2010-11-25T22:02:30.521Z"));



assertEquals(1290722550500, Date.parse("2010-11-25T22:02:30.5Z"));
assertEquals(1290722550520, Date.parse("2010-11-25T22:02:30.52Z"));
assertFalse(Date.parse("2010-11-25T22:02:30.5Z") === Date.parse("2010-11-25T22:02:30.005Z"));


assertEquals(Date.parse("2010-11-25T22:02:30.1005Z"), Date.parse("2010-11-25T22:02:30.100Z"));


assertEquals(Date.parse("2010-11-25T22:02:30.999Z"), Date.parse("2010-11-25T22:02:30.99999999999999999999999999999999999999999999999999999999999999999999999999999999999999Z"));


assertTrue(isNaN(Date.parse("2010-11-25T22:02:30.Z")));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7be18f7^!)  
[src/dateparser-inl.h](https://cs.chromium.org/chromium/src/v8/src/dateparser-inl.h?cl=7be18f7)  
[src/dateparser.h](https://cs.chromium.org/chromium/src/v8/src/dateparser.h?cl=7be18f7)  
[test/mjsunit/regress/regress-944.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-944.js?cl=7be18f7)  
  
---   

## **v8 issue:931**  
   
**[Issue: Subexpression evaluation for calls is incorrect](https://crbug.com/v8/931)**  
**[Commit: Change the order of evaluation of sub-expressions for keyed call](https://chromium.googlesource.com/v8/v8/+/010f35f)**  
  
Date(Commit): Wed Nov 17 13:59:07 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/5161002](http://codereview.chromium.org/5161002)  
Regress: [mjsunit/regress/regress-931.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-931.js)  
```javascript
var sequence = '';

var o = { f: function (x, y) { return x + y; },
          2: function (x, y) { return x - y} };

function first() { sequence += "1"; return o; }
function second() { sequence += "2"; return "f"; }
function third() { sequence += "3"; return 3; }
function fourth() { sequence += "4"; return 4; }

var result = (first()[second()](third(), fourth()))
assertEquals(7, result);
assertEquals("1234", sequence);

function second_prime() { sequence += "2'"; return 2; }

var result = (first()[second_prime()](third(), fourth()))
assertEquals(-1, result);
assertEquals("123412'34", sequence);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/010f35f^!)  
[src/arm/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.cc?cl=010f35f)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=010f35f)  
[src/ia32/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.cc?cl=010f35f)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=010f35f)  
[src/x64/codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/codegen-x64.cc?cl=010f35f)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=010f35f)  
[test/mjsunit/regress/regress-931.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-931.js?cl=010f35f)  
  
---   

## **v8 issue:918**  
   
**[Issue: Parser accepts parenthesized labels.](https://crbug.com/v8/918)**  
**[Commit: Fix bug in parser that allows "(foo):42" as a labeled statement.](https://chromium.googlesource.com/v8/v8/+/0464b33)**  
  
Date(Commit): Tue Nov 16 12:10:48 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/5044003](http://codereview.chromium.org/5044003)  
Regress: [mjsunit/regress/regress-918.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-918.js)  
```javascript
assertThrows("(label):42;");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0464b33^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=0464b33)  
[test/mjsunit/regress/regress-918.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-918.js?cl=0464b33)  
  
---   

## **v8 issue:927**  
   
**[Issue: V8 prints wrong result for this test case](https://crbug.com/v8/927)**  
**[Commit: Add check for overflow after MUL operations in side-effect free int32 expressions.](https://chromium.googlesource.com/v8/v8/+/20d3aad)**  
  
Date(Commit): Tue Nov 09 19:32:49 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/4746001](http://codereview.chromium.org/4746001)  
Regress: [mjsunit/regress/regress-927.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-927.js)  
```javascript
function a1() {
    var a2 = -1756315459;
    return ((((a2 & a2) ^ 1) * a2) << -10);
}

assertEquals(a1(), -2147483648);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/20d3aad^!)  
[src/ia32/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.cc?cl=20d3aad)  
[test/mjsunit/regress/regress-927.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-927.js?cl=20d3aad)  
  
---   

## **v8 issue:874**  
   
**[Issue: Crash when applying getOwnPropertyDescriptor to array index with getter](https://crbug.com/v8/874)**  
**[Commit: Fix getOwnPropertyDescriptor() support for index properties.](https://chromium.googlesource.com/v8/v8/+/622351f)**  
  
Date(Commit): Thu Sep 23 11:25:01 2010  
Type: Bug  
Code Review: [http://code.google.com/p/v8/issues/detail?id=877](http://code.google.com/p/v8/issues/detail?id=877)  
Regress: [mjsunit/regress/regress-874.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-874.js)  
```javascript
var x = { };

var getter = function(){ return 42; };
var setter = function(value){ };
x.__defineGetter__(0, getter);
x.__defineSetter__(0, setter);

assertEquals (undefined, Object.getOwnPropertyDescriptor(x, 0).value);
assertEquals (getter, Object.getOwnPropertyDescriptor(x, 0).get);
assertEquals (setter, Object.getOwnPropertyDescriptor(x, 0).set);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/622351f^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=622351f)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=622351f)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=622351f)  
[test/cctest/test-api.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-api.cc?cl=622351f)  
[test/mjsunit/regress/regress-874.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-874.js?cl=622351f)  
  
---   

## **v8 issue:857**  
   
**[Issue: Date does not support W3C format](https://crbug.com/v8/857)**  
**[Commit: make Date.parse properly handle TZ offsets](https://chromium.googlesource.com/v8/v8/+/ac2ae05)**  
  
Date(Commit): Fri Sep 10 07:00:28 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/3318017](http://codereview.chromium.org/3318017)  
Regress: [mjsunit/regress/regress-857.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-857.js)  
```javascript
assertEquals(1283326536000, Date.parse("2010-08-31T22:35:36-09:00"));
assertEquals(1283261736000, Date.parse("2010-08-31T22:35:36+09:00"));
assertEquals(1283326536000, Date.parse("2010-08-31T22:35:36.0-09:00"));
assertEquals(1283261736000, Date.parse("2010-08-31T22:35:36.0+09:00"));


assertEquals(1283326536000, Date.parse("2010-08-31T22:35:36-0900"));
assertEquals(1283261736000, Date.parse("2010-08-31T22:35:36+0900"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ac2ae05^!)  
[src/dateparser-inl.h](https://cs.chromium.org/chromium/src/v8/src/dateparser-inl.h?cl=ac2ae05)  
[test/mjsunit/regress/regress-857.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-857.js?cl=ac2ae05)  
  
---   

## **v8 issue:851**  
   
**[Issue: Object.freeze() might cause memory corruption.](https://crbug.com/v8/851)**  
**[Commit: Check result of JSObject::NormalizeElements() in JSObject::PreventExtensions().](https://chromium.googlesource.com/v8/v8/+/f059093)**  
  
Date(Commit): Fri Aug 27 13:06:50 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/3262001](http://codereview.chromium.org/3262001)  
Regress: [mjsunit/regress/regress-851.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-851.js)  
```javascript
var i = 0;
for (var i = 0; i < 10000; i++) {
  Object.freeze({});
  assertNull(JSON.stringify({x: null}).match(/\0/));
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f059093^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=f059093)  
[test/mjsunit/regress/regress-851.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-851.js?cl=f059093)  
  
---   

## **v8 issue:842**  
   
**[Issue: Object.freeze() throws exception is Object or Array has been extended](https://crbug.com/v8/842)**  
**[Commit: Fixes bug in Object.freeze and Object.seal causing them to misbehave when Array.prototype has changed.](https://chromium.googlesource.com/v8/v8/+/7672338)**  
  
Date(Commit): Thu Aug 26 08:35:49 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/3137041](http://codereview.chromium.org/3137041)  
Regress: [mjsunit/regress/regress-842.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-842.js)  
```javascript
Array.prototype.myfunc = function() {};
Array.prototype[10] = 42;
Array.prototype.length = 3000;

var obj = { name: "n1" };

try {
  obj = Object.freeze(obj);
} catch (e) {
  assertUnreachable();
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7672338^!)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=7672338)  
[test/mjsunit/regress/regress-842.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-842.js?cl=7672338)  
  
---   

## **v8 issue:815**  
   
**[Issue: ARM port fails assertion: !SpilledScope::is_spilled() in src/arm/virtual-frame-arm.h, line 168](https://crbug.com/v8/815)**  
**[Commit: ARM: Ensure that we are not in a spilled scope when calling](https://chromium.googlesource.com/v8/v8/+/e18d07b)**  
  
Date(Commit): Mon Aug 16 11:43:30 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/3125011](http://codereview.chromium.org/3125011)  
Regress: [mjsunit/regress/regress-815.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-815.js)  
```javascript
var o = new Object();



for (x in +o) { }


for (a[+o] in o) {}


try {
  o[+o](1,2,3)
} catch(e) {
  
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/e18d07b^!)  
[src/arm/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.cc?cl=e18d07b)  
[test/mjsunit/regress/regress-815.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-815.js?cl=e18d07b)  
  
---   

## **v8 issue:798**  
   
**[Issue: Reading Error.stack in a __defineGetter__ callback causes inf loop or tab crash](https://crbug.com/v8/798)**  
**[Commit: Handle accessors when generating Error.stack](https://chromium.googlesource.com/v8/v8/+/56e0221)**  
  
Date(Commit): Fri Aug 13 08:31:52 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/3082012](http://codereview.chromium.org/3082012)  
Regress: [mjsunit/regress/regress-798.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-798.js)  
```javascript
var x = {};


x.__defineGetter__("a", function() {
  try {
    y.x = 40;
  } catch (e) {
    assertEquals(3, e.stack.split('\n').length);
  }
  return 40;
});

x.__defineSetter__("a", function(val) {
  try {
    y.x = 40;
  } catch(e) {
    assertEquals(3, e.stack.split('\n').length);
  }
});


function getB() {
  try {
    y.x = 30;
  } catch (e) {
    assertEquals(3, e.stack.split('\n').length);
  }
  return 30;
}

function setB(val) {
  try {
    y.x = 30;
  } catch(e) {
    assertEquals(3, e.stack.split('\n').length);
  }
}

x.__defineGetter__("b", getB);
x.__defineSetter__("b", setB);


var descriptor  = {
  get: function() {
    try {
      y.x = 40;
    } catch (e) {
      assertEquals(3, e.stack.split('\n').length);
    }
    return 40;
  },
  set: function(val) {
    try {
      y.x = 40;
    } catch(e) {
      assertEquals(3, e.stack.split('\n').length);
    }
  }
}

Object.defineProperty(x, 'c', descriptor)



x.a;
x.b;
x.c;
x.a = 1;
x.b = 1;
x.c = 1;


xx = {}
xx.__proto__ = x

xx.a;
xx.b;
xx.c;
xx.a = 1;
xx.b = 1;
xx.c = 1;  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/56e0221^!)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=56e0221)  
[test/mjsunit/regress/regress-798.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-798.js?cl=56e0221)  
  
---   

## **v8 issue:760**  
   
**[Issue: [[DefaultValue]] discrepancy](https://crbug.com/v8/760)**  
**[Commit: Handle overwriting valueOf on String objects correctly when adding](https://chromium.googlesource.com/v8/v8/+/8e0cd6d)**  
  
Date(Commit): Thu Aug 12 13:43:08 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/3117006](http://codereview.chromium.org/3117006)  
Regress: [mjsunit/regress/regress-760-1.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-760-1.js), [mjsunit/regress/regress-760-2.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-760-2.js)  
```javascript
String.prototype.valueOf = function() { return 'y' };

function test() {
  var o = Object('x');
  assertEquals('y', o + '');
  assertEquals('y', '' + o);
}

for (var i = 0; i < 10; i++) {
  var o = Object('x');
  assertEquals('y', o + '');
  assertEquals('y', '' + o);
}

for (var i = 0; i < 10; i++) {
  test()
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8e0cd6d^!)  
[src/arm/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.cc?cl=8e0cd6d)  
[src/arm/codegen-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.h?cl=8e0cd6d)  
[src/arm/full-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/full-codegen-arm.cc?cl=8e0cd6d)  
[src/arm/macro-assembler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.cc?cl=8e0cd6d)  
[src/arm/macro-assembler-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/macro-assembler-arm.h?cl=8e0cd6d)  
[src/bootstrapper.cc](https://cs.chromium.org/chromium/src/v8/src/bootstrapper.cc?cl=8e0cd6d)  
[src/codegen.h](https://cs.chromium.org/chromium/src/v8/src/codegen.h?cl=8e0cd6d)  
[src/contexts.h](https://cs.chromium.org/chromium/src/v8/src/contexts.h?cl=8e0cd6d)  
[src/full-codegen.cc](https://cs.chromium.org/chromium/src/v8/src/full-codegen.cc?cl=8e0cd6d)  
[src/full-codegen.h](https://cs.chromium.org/chromium/src/v8/src/full-codegen.h?cl=8e0cd6d)  
[src/ia32/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.cc?cl=8e0cd6d)  
[src/ia32/codegen-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.h?cl=8e0cd6d)  
[src/ia32/full-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/full-codegen-ia32.cc?cl=8e0cd6d)  
[src/ia32/macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/macro-assembler-ia32.cc?cl=8e0cd6d)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=8e0cd6d)  
[src/runtime.js](https://cs.chromium.org/chromium/src/v8/src/runtime.js?cl=8e0cd6d)  
[src/x64/codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/codegen-x64.cc?cl=8e0cd6d)  
[src/x64/codegen-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/codegen-x64.h?cl=8e0cd6d)  
[src/x64/full-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/full-codegen-x64.cc?cl=8e0cd6d)  
[src/x64/macro-assembler-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.cc?cl=8e0cd6d)  
[src/x64/macro-assembler-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/macro-assembler-x64.h?cl=8e0cd6d)  
[test/mjsunit/regress/regress-760-1.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-760-1.js?cl=8e0cd6d)  
[test/mjsunit/regress/regress-760-2.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-760-2.js?cl=8e0cd6d)  
  
---   

## **v8 issue:806**  
   
**[Issue: 64bit os,  v8 crash (unknow reason)](https://crbug.com/v8/806)**  
**[Commit: Fix issue 806.](https://chromium.googlesource.com/v8/v8/+/4a2f05c)**  
  
Date(Commit): Mon Aug 02 09:14:44 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/3081007](http://codereview.chromium.org/3081007)  
Regress: [mjsunit/regress/regress-806.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-806.js)  
```javascript
function foo(a) {
  for (var o = 1; o < 2; o++) {
    for (var n = 1; n < 2; n++) {
      for (var m = 1; m < 2; m++) {
        for (var l = 1; l < 2; l++) {
          for (var i = 1; i < 2; i++) {
            for (var j = 1; j < 2; j++) {
              for (var k = 1; k < 2; k++) {
                var z = a.foo;
                z.foo = i * j * k * m * n * o;
              }
            }
          }
        }
      }
    }
  }
}

foo({foo: {foo: 1}});  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4a2f05c^!)  
[src/x64/codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/codegen-x64.cc?cl=4a2f05c)  
[test/mjsunit/regress/regress-806.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-806.js?cl=4a2f05c)  
  
---   

## **v8 issue:784**  
   
**[Issue: arm v8 throws an exception for now reason when starting node.js](https://crbug.com/v8/784)**  
**[Commit: Fix error in optimized x.apply(y, arguments) code generation on ARM.  Fixes issue 784.  Adds regression test.](https://chromium.googlesource.com/v8/v8/+/3607a9e)**  
  
Date(Commit): Wed Jul 28 12:50:27 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/3048035](http://codereview.chromium.org/3048035)  
Regress: [mjsunit/regress/regress-784.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-784.js)  
```javascript
A = {x:{y:function(i){return i;}}};
B = function(x){return 17;};

foo = function () {
  A.x.y(B.apply(this, arguments));
};

foo();
foo("Hello", "There");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3607a9e^!)  
[src/arm/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.cc?cl=3607a9e)  
[test/mjsunit/regress/regress-784.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-784.js?cl=3607a9e)  
  
---   

## **v8 issue:753**  
   
**[Issue: JSON.stringify does not truncate the space parameter](https://crbug.com/v8/753)**  
**[Commit: Update JSON.stringify to floor the space parameter (fixes issue 753).](https://chromium.googlesource.com/v8/v8/+/eff34b9)**  
  
Date(Commit): Tue Jun 29 07:22:40 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/2877004](http://codereview.chromium.org/2877004)  
Regress: [mjsunit/regress/regress-753.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-753.js)  
```javascript
var obj = {a1: {b1: [1,2,3,4], b2: {c1: 1, c2: 2}},a2: 'a2'};
assertEquals(JSON.stringify(obj, null, 5.99999), JSON.stringify(obj, null, 5));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/eff34b9^!)  
[src/json.js](https://cs.chromium.org/chromium/src/v8/src/json.js?cl=eff34b9)  
[test/es5conform/es5conform.status](https://cs.chromium.org/chromium/src/v8/test/es5conform/es5conform.status?cl=eff34b9)  
[test/mjsunit/regress/regress-753.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-753.js?cl=eff34b9)  
  
---   

## **v8 issue:754**  
   
**[Issue: Array.lastIndexOf does not correctly handle null and undefined values as the fromIndex argument](https://crbug.com/v8/754)**  
**[Commit: Fixes bug in Array.prototype.lastIndexOf when called with null or undefined as fromIndex argument. (fixes issue 754).](https://chromium.googlesource.com/v8/v8/+/faaf524)**  
  
Date(Commit): Fri Jun 25 09:28:38 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/2840021](http://codereview.chromium.org/2840021)  
Regress: [mjsunit/regress/regress-754.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-754.js)  
```javascript
var a = new Array(1,2,1);
assertEquals(1, a.lastIndexOf(2));
assertEquals(2, a.lastIndexOf(1));
assertEquals(0, a.lastIndexOf(1, undefined));
assertEquals(0, a.lastIndexOf(1, null));
assertEquals(-1, a.lastIndexOf(2, undefined));
assertEquals(-1, a.lastIndexOf(2, null));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/faaf524^!)  
[src/array.js](https://cs.chromium.org/chromium/src/v8/src/array.js?cl=faaf524)  
[test/mjsunit/regress/regress-754.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-754.js?cl=faaf524)  
  
---   

## **v8 issue:752**  
   
**[Issue: JSON.stringify returns wrong result with a function given as the replacer argument](https://crbug.com/v8/752)**  
**[Commit: Fix bug in JSON.stringify where Boolean objects are incorrectly unwrapped.](https://chromium.googlesource.com/v8/v8/+/b71fe5b)**  
  
Date(Commit): Fri Jun 25 07:45:52 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/2845023](http://codereview.chromium.org/2845023)  
Regress: [mjsunit/regress/regress-752.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-752.js)  
```javascript
function replacer(key, value) {
  return value === 42 ? new Boolean(false) : value;
}

assertEquals("[false]", JSON.stringify([42], replacer));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b71fe5b^!)  
[src/json.js](https://cs.chromium.org/chromium/src/v8/src/json.js?cl=b71fe5b)  
[test/mjsunit/regress/regress-752.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-752.js?cl=b71fe5b)  
  
---   

## **v8 issue:747**  
   
**[Issue: Code flushing during gc will flush code that has heap allocated locals](https://crbug.com/v8/747)**  
**[Commit: Add regression test for the code flushing in issue 474 (which was](https://chromium.googlesource.com/v8/v8/+/be531ac)**  
  
Date(Commit): Wed Jun 23 08:02:06 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/2829020](http://codereview.chromium.org/2829020)  
Regress: [mjsunit/regress/regress-747.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-747.js)  
```javascript
(function() {
  var x = 42;
  this.callEval = function() {eval('x');};
})();

try {
  callEval();
} catch (e) {
  assertUnreachable();
}

gc();
gc();
gc();
gc();
gc();
gc();

try {
  callEval();
} catch (e) {
  assertUnreachable();
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/be531ac^!)  
[src/flag-definitions.h](https://cs.chromium.org/chromium/src/v8/src/flag-definitions.h?cl=be531ac)  
[test/mjsunit/regress/regress-747.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-747.js?cl=be531ac)  
  
---   

## **v8 issue:732**  
   
**[Issue: Using large numeric strings as hash keys is broken](https://crbug.com/v8/732)**  
**[Commit: Add regression tests for issues 728, 732](https://chromium.googlesource.com/v8/v8/+/1d932dc)**  
  
Date(Commit): Mon Jun 07 10:54:42 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/2698004](http://codereview.chromium.org/2698004)  
Regress: [mjsunit/regress/regress-732.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-732.js)  
```javascript
var idx = 10000000;


var obj = { };
for (var i = 0; i < 100000; i += 100) { obj[i] = "obj" + i; }


obj[idx] = "obj" + idx;


var str = "" + idx;


for (var i = 0; i < 10; i++) { ({})[str]; }



assertEquals(obj[str], obj[idx])  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1d932dc^!)  
[test/mjsunit/regress/regress-728.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-728.js?cl=1d932dc)  
[test/mjsunit/regress/regress-732.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-732.js?cl=1d932dc)  
  
---   

## **v8 issue:728**  
   
**[Issue: Incorrect marking of some strings as array indices.](https://crbug.com/v8/728)**  
**[Commit: Add regression tests for issues 728, 732](https://chromium.googlesource.com/v8/v8/+/1d932dc)**  
  
Date(Commit): Mon Jun 07 10:54:42 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/2698004](http://codereview.chromium.org/2698004)  
Regress: [mjsunit/regress/regress-728.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-728.js)  
```javascript
var obj = { 0: "obj0" };


var k = 16777217;
var h = "" + k;

obj[k] = "obj" + k;


for (var i = 0; i < 10; i++) { ({})[h]; }

function get(idx) { return obj[idx]; }

assertEquals(get(0), "obj0");
assertEquals(get(h), "obj" + h);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1d932dc^!)  
[test/mjsunit/regress/regress-728.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-728.js?cl=1d932dc)  
[test/mjsunit/regress/regress-732.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-732.js?cl=1d932dc)  
  
---   

## **v8 issue:720**  
   
**[Issue: Object.defineProperty overwrites existing writable flag if not provided by descriptor](https://crbug.com/v8/720)**  
**[Commit: Fix issue 720 making Object.defineProperty handle existing writable flags correctly.](https://chromium.googlesource.com/v8/v8/+/95939ad)**  
  
Date(Commit): Wed May 26 08:31:57 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/2271001](http://codereview.chromium.org/2271001)  
Regress: [mjsunit/regress/regress-720.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-720.js)  
```javascript
var o = {x: 10};
Object.defineProperty(o, "x", {value: 5});
var desc = Object.getOwnPropertyDescriptor(o, "x");
assertTrue(desc["writable"]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/95939ad^!)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=95939ad)  
[test/mjsunit/object-define-property.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/object-define-property.js?cl=95939ad)  
[test/mjsunit/regress/regress-720.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-720.js?cl=95939ad)  
  
---   

## **v8 issue:712**  
   
**[Issue: Object.defineProperty allows overriding an accessor with an empty descriptor](https://crbug.com/v8/712)**  
**[Commit: Fixes issue 712 causing non-configurable accessors to be overwritable by using](https://chromium.googlesource.com/v8/v8/+/fb58bc0)**  
  
Date(Commit): Tue May 25 06:25:27 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/2131019](http://codereview.chromium.org/2131019)  
Regress: [mjsunit/regress/regress-712.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-712.js)  
```javascript
var obj = {};
Object.defineProperty(obj, "x", { get: function() { return "42"; },
                                  configurable: false });
assertEquals(obj.x, "42");
Object.defineProperty(obj, 'x', {});
assertEquals(obj.x, "42");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fb58bc0^!)  
[src/runtime.js](https://cs.chromium.org/chromium/src/v8/src/runtime.js?cl=fb58bc0)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=fb58bc0)  
[test/mjsunit/object-define-property.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/object-define-property.js?cl=fb58bc0)  
[test/mjsunit/regress/regress-712.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-712.js?cl=fb58bc0)  
  
---   

## **v8 issue:697**  
   
**[Issue: Object.create does not work when given a function as proto](https://crbug.com/v8/697)**  
**[Commit: Fixed issue 619 allowing Object.create to be called with a function.](https://chromium.googlesource.com/v8/v8/+/8d51195)**  
  
Date(Commit): Sun May 09 08:43:59 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/2051001](http://codereview.chromium.org/2051001)  
Regress: [mjsunit/regress/regress-697.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-697.js)  
```javascript
try {
  Object.create(function(){});
} catch (e) {
  assertTrue(false);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8d51195^!)  
[src/v8natives.js](https://cs.chromium.org/chromium/src/v8/src/v8natives.js?cl=8d51195)  
[test/mjsunit/regress/regress-697.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-697.js?cl=8d51195)  
  
---   

## **v8 issue:696**  
   
**[Issue: Date.parse() does not return NaN for invalid date strings](https://crbug.com/v8/696)**  
**[Commit: Correct issue 696 with Date.parse returning a value when called on a non date string.](https://chromium.googlesource.com/v8/v8/+/fb3e01a)**  
  
Date(Commit): Fri May 07 11:53:20 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/2017005](http://codereview.chromium.org/2017005)  
Regress: [mjsunit/regress/regress-696.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-696.js)  
```javascript
assertTrue(isNaN(Date.parse('x')));
assertTrue(isNaN(Date.parse('1x')));
assertTrue(isNaN(Date.parse('xT10:00:00')));
assertTrue(isNaN(Date.parse('This is a relatively long string')));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/fb3e01a^!)  
[src/dateparser.cc](https://cs.chromium.org/chromium/src/v8/src/dateparser.cc?cl=fb3e01a)  
[test/mjsunit/regress/regress-696.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-696.js?cl=fb3e01a)  
  
---   

## **v8 issue:681**  
   
**[Issue: Crash introduced in r4426](https://crbug.com/v8/681)**  
**[Commit: Add missing smi check in IC for nonexistent properties.](https://chromium.googlesource.com/v8/v8/+/c678e44)**  
  
Date(Commit): Tue Apr 20 10:20:39 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/1673005](http://codereview.chromium.org/1673005)  
Regress: [mjsunit/regress/regress-681.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-681.js)  
```javascript
var x = {};
function f() { return x.y; }


f();
f();


x = 23;


assertEquals(undefined, f());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c678e44^!)  
[src/arm/stub-cache-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/stub-cache-arm.cc?cl=c678e44)  
[src/ia32/stub-cache-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/stub-cache-ia32.cc?cl=c678e44)  
[src/x64/stub-cache-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/stub-cache-x64.cc?cl=c678e44)  
[test/mjsunit/regress/regress-681.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-681.js?cl=c678e44)  
  
---   

## **v8 issue:675**  
   
**[Issue: ICs for nonexistent properties fail for global properties](https://crbug.com/v8/675)**  
**[Commit: Reapply load ICs for nonexistent properties.](https://chromium.googlesource.com/v8/v8/+/afc15bb)**  
  
Date(Commit): Thu Apr 15 11:25:41 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/1559033](http://codereview.chromium.org/1559033)  
Regress: [mjsunit/regress/regress-675.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-675.js)  
```javascript
function f() { return this.x; }


f();
f();


this.x = 23;


assertEquals(23, f());





this.__proto__ = null;
function g() { return this.y; }


g();
g();


this.y = 42;


assertEquals(42, g());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/afc15bb^!)  
[src/arm/stub-cache-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/stub-cache-arm.cc?cl=afc15bb)  
[src/globals.h](https://cs.chromium.org/chromium/src/v8/src/globals.h?cl=afc15bb)  
[src/ia32/stub-cache-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/stub-cache-ia32.cc?cl=afc15bb)  
[src/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic.cc?cl=afc15bb)  
[src/stub-cache.cc](https://cs.chromium.org/chromium/src/v8/src/stub-cache.cc?cl=afc15bb)  
[src/stub-cache.h](https://cs.chromium.org/chromium/src/v8/src/stub-cache.h?cl=afc15bb)  
[src/x64/stub-cache-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/stub-cache-x64.cc?cl=afc15bb)  
[test/mjsunit/regress/regress-675.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-675.js?cl=afc15bb)  
  
---   

## **v8 issue:646**  
   
**[Issue: __proto__ "problem"](https://crbug.com/v8/646)**  
**[Commit: Don't generate inline constructors if this.__proto__ is assigned.](https://chromium.googlesource.com/v8/v8/+/1963ffb)**  
  
Date(Commit): Wed Mar 17 13:23:53 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/1023008](http://codereview.chromium.org/1023008)  
Regress: [mjsunit/regress/regress-646.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-646.js)  
```javascript
function f() { this.__proto__ = 42 }
var count = 0;
for (var x in new f()) count++;
assertEquals(0, count);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1963ffb^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=1963ffb)  
[test/mjsunit/regress/regress-646.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-646.js?cl=1963ffb)  
  
---   

## **v8 issue:643**  
   
**[Issue: Bug in assigned variables analysis.](https://crbug.com/v8/643)**  
**[Commit: Fix bug in assigned variables analysis.](https://chromium.googlesource.com/v8/v8/+/d090867)**  
  
Date(Commit): Fri Mar 12 13:12:08 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/903003](http://codereview.chromium.org/903003)  
Regress: [mjsunit/regress/regress-643.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-643.js)  
```javascript
function f() {
  var test = {x:1};
  var a = test;
  a.x = a = 42;
  return test.x;
}

assertEquals(42, f());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d090867^!)  
[src/data-flow.cc](https://cs.chromium.org/chromium/src/v8/src/data-flow.cc?cl=d090867)  
[test/mjsunit/regress/regress-643.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-643.js?cl=d090867)  
  
---   

## **v8 issue:636**  
   
**[Issue: String handling broken (test case)](https://crbug.com/v8/636)**  
**[Commit: Correct handling of adding a string and a smal integer](https://chromium.googlesource.com/v8/v8/+/800b6df)**  
  
Date(Commit): Tue Mar 09 09:40:35 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/720001](http://codereview.chromium.org/720001)  
Regress: [mjsunit/regress/regress-636.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-636.js)  
```javascript
function test() {
  var i, result = "";
  var value = parseFloat(5.5);
  value = Math.abs(1025);
  for(i = 12; --i; result = ( value % 2 ) + result, value >>= 1);
  return result;
};

assertEquals("10000000001", test());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/800b6df^!)  
[src/ia32/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.cc?cl=800b6df)  
[test/mjsunit/regress/regress-636.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-636.js?cl=800b6df)  
  
---   

## **v8 issue:619**  
   
**[Issue: Object.defineProperty does not behave correctly when trying to define properties on elements.](https://crbug.com/v8/619)**  
**[Commit: Added test for bug 619 - we should move this to object-define-property when the bug has been corrected.](https://chromium.googlesource.com/v8/v8/+/27eaf97)**  
  
Date(Commit): Fri Feb 19 13:27:43 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/651028](http://codereview.chromium.org/651028)  
Regress: [mjsunit/regress/regress-619.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-619.js)  
```javascript
var obj = {};
obj[1] = 42;
assertEquals(42, obj[1]);
Object.defineProperty(obj, '1', {value:10, writable:false});
assertEquals(10, obj[1]);


obj[1] = 5;
assertEquals(10, obj[1]);


for(var i = 0; i < 1024; i++) {
  obj[i] = 42;
}

for(var i = 0; i < 1024; i++) {
  Object.defineProperty(obj, i, {value: i, writable:false});
}

for(var i = 0; i < 1024; i++) {
  assertEquals(i, obj[i]);
}

for(var i = 0; i < 1024; i++) {
  obj[1] = 5;
}

for(var i = 0; i < 1024; i++) {
  assertEquals(i, obj[i]);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/27eaf97^!)  
[test/mjsunit/bugs/bug-619.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-619.js?cl=27eaf97)  
  
---   

## **v8 issue:618**  
   
**[Issue: Simple constructors does not handle adding setters](https://crbug.com/v8/618)**  
**[Commit: Add a test case for issue 618 Review URL: http://codereview.chromium.org/647014](https://chromium.googlesource.com/v8/v8/+/17e80e7)**  
  
Date(Commit): Thu Feb 18 13:01:58 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/647014](http://codereview.chromium.org/647014)  
Regress: [mjsunit/regress/regress-618.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-618.js)  
```javascript
function C1() {
  this.x = 23;
};
var c1 = new C1();
assertEquals(23, c1.x);
assertEquals("undefined", typeof c1.y);



C1.prototype = { set x(value) { this.y = 23; } };
var c1 = new C1();
assertEquals("undefined", typeof c1.x);
assertEquals(23, c1.y);


function C2() {
  this.x = 23;
};
var c2 = new C2();
assertEquals(23, c2.x);
assertEquals("undefined", typeof c2.y);



C2.prototype.__proto__ = { set x(value) { this.y = 23; } };
var c2 = new C2();
assertEquals("undefined", typeof c2.x);
assertEquals(23, c2.y);


function C3() {
  this.x = 23;
};
var c3 = new C3();
assertEquals(23, c3.x);
assertEquals("undefined", typeof c3.y);



C3.prototype.__defineSetter__('x', function(value) { this.y = 23; });
var c3 = new C3();
assertEquals("undefined", typeof c3.x);
assertEquals(23, c3.y);


function C4() {
  this.x = 23;
};
var c4 = new C4();
assertEquals(23, c4.x);
assertEquals("undefined", typeof c4.y);



C4.prototype.__proto__.__defineSetter__('x', function(value) { this.y = 23; });
var c4 = new C4();
assertEquals("undefined", typeof c4.x);
assertEquals(23, c4.y);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/17e80e7^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=17e80e7)  
[test/mjsunit/bugs/618.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/618.js?cl=17e80e7)  
  
---   

## **v8 issue:603**  
   
**[Issue: Function.prototype.call.call(/x/) messes up the stack?](https://crbug.com/v8/603)**  
**[Commit: Fix stack corruption when calling non-function.](https://chromium.googlesource.com/v8/v8/+/3c0d77f)**  
  
Date(Commit): Wed Feb 17 08:26:50 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/604064](http://codereview.chromium.org/604064)  
Regress: [mjsunit/regress/regress-603.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-603.js)  
```javascript
var re = /b../;
assertThrows(function() {
  return re('abcdefghijklm') + 'z';
});

var re1 = /c../;
re1.call = Function.prototype.call;
assertThrows(function() {
  re1.call(null, 'abcdefghijklm') + 'z';
});

var re2 = /d../;
assertThrows(function() {
  Function.prototype.call.call(re2, null, 'abcdefghijklm') + 'z';
});

var re3 = /e../;
assertThrows(function() {
  Function.prototype.call.apply(
      re3, [null, 'abcdefghijklm']) + 'z';
});

var re4 = /f../;
assertThrows(function() {
  Function.prototype.apply.call(
      re4, null, ['abcdefghijklm']) + 'z';
});

var re5 = /g../;
assertThrows(function() {
  Function.prototype.apply.apply(
      re4, [null, ['abcdefghijklm']]) + 'z';
});  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3c0d77f^!)  
[src/arm/builtins-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/builtins-arm.cc?cl=3c0d77f)  
[src/arm/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.cc?cl=3c0d77f)  
[src/ia32/builtins-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/builtins-ia32.cc?cl=3c0d77f)  
[src/ia32/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.cc?cl=3c0d77f)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=3c0d77f)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=3c0d77f)  
[src/runtime.js](https://cs.chromium.org/chromium/src/v8/src/runtime.js?cl=3c0d77f)  
[src/x64/builtins-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/builtins-x64.cc?cl=3c0d77f)  
[src/x64/codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/codegen-x64.cc?cl=3c0d77f)  
[test/mjsunit/regress/regress-603.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-603.js?cl=3c0d77f)  
  
---   

## **v8 issue:612**  
   
**[Issue: Crash when calling runtime DefineAccessor](https://crbug.com/v8/612)**  
**[Commit: Normalize the object before updating getter/setter info.](https://chromium.googlesource.com/v8/v8/+/087fede)**  
  
Date(Commit): Wed Feb 17 06:53:19 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/608014](http://codereview.chromium.org/608014)  
Regress: [mjsunit/regress/regress-612.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-612.js)  
```javascript
obj = {}


obj.__defineGetter__('foobar', function() { return 42; })


obj.a = 1
obj.b = 2;
obj.c = 3;



obj.__defineGetter__('foobar', function() { return 42; })  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/087fede^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=087fede)  
[test/mjsunit/regress/regress-612.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-612.js?cl=087fede)  
  
---   

## **v8 issue:3867**  
   
**[Issue: super in ScriptBody : StatementList should be SyntaxError](https://crbug.com/v8/3867)**  
**[Commit: Handle insertion order for simple constructors](https://chromium.googlesource.com/v8/v8/+/1091039)**  
  
Date(Commit): Tue Feb 02 13:33:29 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/566016](http://codereview.chromium.org/566016)  
Regress: [mjsunit/regress/regress-crbug-3867.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-crbug-3867.js)  
```javascript
function props(x) {
  var result = [];
  for (var p in x) result.push(p);
  return result;
}

function A() {
  this.a1 = 1234;
  this.a2 = "D";
  this.a3 = false;
}

function B() {
  this.b3 = false;
  this.b2 = "D";
  this.b1 = 1234;
}

function C() {
  this.c3 = false;
  this.c1 = 1234;
  this.c2 = "D";
}

assertArrayEquals(["a1", "a2", "a3"], props(new A()));
assertArrayEquals(["b3", "b2", "b1"], props(new B()));
assertArrayEquals(["c3", "c1", "c2"], props(new C()));
assertArrayEquals(["s1", "s2", "s3"], props({s1: 0, s2: 0, s3: 0}));
assertArrayEquals(["s3", "s2", "s1"], props({s3: 0, s2: 0, s1: 0}));
assertArrayEquals(["s3", "s1", "s2"], props({s3: 0, s1: 0, s2: 0}));

var a = new A()
a.a0 = 0;
a.a4 = 0;
assertArrayEquals(["a1", "a2", "a3", "a0", "a4"], props(a));

var b = new B()
b.b4 = 0;
b.b0 = 0;
assertArrayEquals(["b3", "b2", "b1", "b4", "b0"], props(b));

var o1 = {s1: 0, s2: 0, s3: 0}
o1.s0 = 0;
o1.s4 = 0;
assertArrayEquals(["s1", "s2", "s3", "s0", "s4"], props(o1));

var o2 = {s3: 0, s2: 0, s1: 0}
o2.s4 = 0;
o2.s0 = 0;
assertArrayEquals(["s3", "s2", "s1", "s4", "s0"], props(o2));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1091039^!)  
[src/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap.cc?cl=1091039)  
[test/mjsunit/regress/regress-crbug-3867.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-crbug-3867.js?cl=1091039)  
  
---   

## **v8 issue:580**  
   
**[Issue: x64 incorrectly folds numeric constants](https://crbug.com/v8/580)**  
**[Commit: Fix V8 issue 580: Arithmetic on some integer constants gives wrong anwers.](https://chromium.googlesource.com/v8/v8/+/04e9399)**  
  
Date(Commit): Wed Jan 20 17:01:34 2010  
Type: Bug  
Code Review: [http://codereview.chromium.org/545134](http://codereview.chromium.org/545134)  
Regress: [mjsunit/regress/regress-580.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-580.js)  
```javascript
function num_ops() {
  var x;
  var tmp = 0;
  x = (tmp = 1578221999, tmp)+(tmp = 572285336, tmp);
  assertEquals(2150507335, x, "++");
  x = 1578221999 + 572285336;
  assertEquals(2150507335, x);

  x = (tmp = -1500000000, tmp)+(tmp = -2000000000, tmp);
  assertEquals(-3500000000, x, "+-");
  x = -1500000000 + -2000000000;
  assertEquals(-3500000000, x);

  x = (tmp = 1578221999, tmp)-(tmp = -572285336, tmp);
  assertEquals(2150507335, x, "--");
  x = 1578221999 - -572285336;
  assertEquals(2150507335, x);

  x = (tmp = -1500000000, tmp)-(tmp = 2000000000, tmp);
  assertEquals(-3500000000, x, "-+");
  x = -1500000000 - 2000000000;
  assertEquals(-3500000000, x);
}

num_ops();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/04e9399^!)  
[src/x64/codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/codegen-x64.cc?cl=04e9399)  
[test/mjsunit/regress/regress-580.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-580.js?cl=04e9399)  
  
---   

## **v8 issue:3184**  
   
**[Issue: check fail when using --hydrogen_track_positions](https://crbug.com/v8/3184)**  
**[Commit: Ensure correct boxing of values when calling functions on them](https://chromium.googlesource.com/v8/v8/+/562f90d)**  
  
Date(Commit): Fri Jan 15 13:42:32 2010  
Type: ----  
Code Review: [http://codereview.chromium.org/542087](http://codereview.chromium.org/542087)  
Regress: [mjsunit/regress/regress-crbug-3184.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-crbug-3184.js)  
```javascript
Object.extend = function (dest, source) {
  for (property in source) dest[property] = source[property];
  return dest;
};

Object.extend ( Function.prototype,
{
  wrap : function (wrapper) {
    var method = this;
    var bmethod = (function(_method) {
      return function () {
        this.$$$parentMethodStore$$$ = this.$proceed;
        this.$proceed = function() { return _method.apply(this, arguments); };
      };
    })(method);
    var amethod = function () {
      this.$proceed = this.$$$parentMethodStore$$$;
      if (this.$proceed == undefined) delete this.$proceed;
      delete this.$$$parentMethodStore$$$;
    };
    var value = function() { bmethod.call(this); retval = wrapper.apply(this, arguments); amethod.call(this); return retval; };
    return value;
  }
});

String.prototype.cap = function() {
  return this.charAt(0).toUpperCase() + this.substring(1).toLowerCase();
};

String.prototype.cap = String.prototype.cap.wrap(
  function(each) {
    if (each && this.indexOf(" ") != -1) {
      return this.split(" ").map(
        function (value) {
          return value.cap();
        }
      ).join(" ");
    } else {
      return this.$proceed();
  }
});

Object.extend( Array.prototype,
{
  map : function(fun) {
    if (typeof fun != "function") throw new TypeError();
    var len = this.length;
    var res = new Array(len);
    var thisp = arguments[1];
    for (var i = 0; i < len; i++) { if (i in this) res[i] = fun.call(thisp, this[i], i, this); }
    return res;
  }
});
assertEquals("Test1 test1", "test1 test1".cap());
assertEquals("Test2 Test2", "test2 test2".cap(true));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/562f90d^!)  
[src/arm/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.cc?cl=562f90d)  
[src/arm/codegen-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.h?cl=562f90d)  
[src/arm/fast-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/fast-codegen-arm.cc?cl=562f90d)  
[src/arm/stub-cache-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/stub-cache-arm.cc?cl=562f90d)  
[src/codegen.h](https://cs.chromium.org/chromium/src/v8/src/codegen.h?cl=562f90d)  
[src/debug.cc](https://cs.chromium.org/chromium/src/v8/src/debug.cc?cl=562f90d)  
[src/globals.h](https://cs.chromium.org/chromium/src/v8/src/globals.h?cl=562f90d)  
[src/ia32/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.cc?cl=562f90d)  
[src/ia32/codegen-ia32.h](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.h?cl=562f90d)  
[src/ia32/fast-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/fast-codegen-ia32.cc?cl=562f90d)  
[src/ia32/stub-cache-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/stub-cache-ia32.cc?cl=562f90d)  
[src/ic.cc](https://cs.chromium.org/chromium/src/v8/src/ic.cc?cl=562f90d)  
[src/ic.h](https://cs.chromium.org/chromium/src/v8/src/ic.h?cl=562f90d)  
[src/x64/codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/codegen-x64.cc?cl=562f90d)  
[src/x64/codegen-x64.h](https://cs.chromium.org/chromium/src/v8/src/x64/codegen-x64.h?cl=562f90d)  
[src/x64/fast-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/fast-codegen-x64.cc?cl=562f90d)  
[src/x64/stub-cache-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/stub-cache-x64.cc?cl=562f90d)  
[test/mjsunit/bugs/bug-223.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-223.js?cl=562f90d)  
[test/mjsunit/regress/regress-crbug-3184.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-crbug-3184.js?cl=562f90d)  
[test/mjsunit/value-wrapper.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/value-wrapper.js?cl=562f90d)  
  
---   

## **v8 issue:524**  
   
**[Issue: Creating a million live slow-case objects exhausts map space.](https://crbug.com/v8/524)**  
**[Commit: Extend the maximum size map space](https://chromium.googlesource.com/v8/v8/+/44b7c59)**  
  
Date(Commit): Thu Dec 17 08:53:18 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/504026](http://codereview.chromium.org/504026)  
Regress: [mjsunit/regress/regress-524.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-524.js)  
```javascript
var i = 500000
var a = new Array(i)
for (var j = 0; j < i; j++) { var o = {}; o.x = 42; delete o.x; a[j] = o; }  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/44b7c59^!)  
[src/globals.h](https://cs.chromium.org/chromium/src/v8/src/globals.h?cl=44b7c59)  
[src/heap-inl.h](https://cs.chromium.org/chromium/src/v8/src/heap-inl.h?cl=44b7c59)  
[src/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap.cc?cl=44b7c59)  
[src/heap.h](https://cs.chromium.org/chromium/src/v8/src/heap.h?cl=44b7c59)  
[src/mark-compact.cc](https://cs.chromium.org/chromium/src/v8/src/mark-compact.cc?cl=44b7c59)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=44b7c59)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=44b7c59)  
[src/serialize.cc](https://cs.chromium.org/chromium/src/v8/src/serialize.cc?cl=44b7c59)  
[src/spaces.cc](https://cs.chromium.org/chromium/src/v8/src/spaces.cc?cl=44b7c59)  
[src/spaces.h](https://cs.chromium.org/chromium/src/v8/src/spaces.h?cl=44b7c59)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=44b7c59)  
[test/mjsunit/regress/regress-524.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-524.js?cl=44b7c59)  
  
---   

## **v8 issue:545**  
   
**[Issue: Fast compiler crash when using "this" in different contexts.](https://crbug.com/v8/545)**  
**[Commit: Fix for issue 545: don't reuse this VariableProxy.](https://chromium.googlesource.com/v8/v8/+/5bbb1d7)**  
  
Date(Commit): Tue Dec 08 09:43:51 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/464069](http://codereview.chromium.org/464069)  
Regress: [mjsunit/regress/regress-545.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-545.js)  
```javascript
try {
 new IsPrimitive(load())?this.join():String('&#10;').charCodeAt((!this>Math));
} catch (e) {}



this + !this;

this + (this ? 1 : 2);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/5bbb1d7^!)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=5bbb1d7)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=5bbb1d7)  
[src/scopes.h](https://cs.chromium.org/chromium/src/v8/src/scopes.h?cl=5bbb1d7)  
[test/mjsunit/regress/regress-545.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-545.js?cl=5bbb1d7)  
  
---   

## **v8 issue:540**  
   
**[Issue: ASSERT in triggered in DeclareContextSlot](https://crbug.com/v8/540)**  
**[Commit: Fix issue 540 by handling the case that a declaration is in the](https://chromium.googlesource.com/v8/v8/+/7266bd0)**  
  
Date(Commit): Fri Dec 04 11:59:09 2009  
Type: ----  
Code Review: [http://code.google.com/p/v8/issues/detail?id=540](http://code.google.com/p/v8/issues/detail?id=540)  
Regress: [mjsunit/regress/regress-540.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-540.js)  
```javascript
function f(x, y) { eval(x); return y(); }
var result = f("function y() { return 1; }", function () { return 0; })
assertEquals(1, result);

result =
    (function (x) {
      function x() { return 3; }
      return x();
    })(function () { return 2; });
assertEquals(3, result);

result =
    (function (x) {
      function x() { return 5; }
      return arguments[0]();
    })(function () { return 4; });
assertEquals(5, result);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7266bd0^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=7266bd0)  
[test/mjsunit/regress/regress-540.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-540.js?cl=7266bd0)  
  
---   

## **v8 issue:526**  
   
**[Issue: Fast top-level compiler causes DevToolsSanityCheck tests to fail.](https://crbug.com/v8/526)**  
**[Commit: Fix bug in the fast compiler's object literal code](https://chromium.googlesource.com/v8/v8/+/1c90793)**  
  
Date(Commit): Thu Nov 26 21:13:20 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/444001](http://codereview.chromium.org/444001)  
Regress: [mjsunit/regress/regress-526.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-526.js)  
```javascript
var o = { foo: function() { }, get bar() { return {x:42} } };

assertEquals(42, o.bar.x);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1c90793^!)  
[src/arm/fast-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/fast-codegen-arm.cc?cl=1c90793)  
[src/flag-definitions.h](https://cs.chromium.org/chromium/src/v8/src/flag-definitions.h?cl=1c90793)  
[src/ia32/fast-codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/fast-codegen-ia32.cc?cl=1c90793)  
[src/x64/fast-codegen-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/fast-codegen-x64.cc?cl=1c90793)  
[test/mjsunit/compiler/objectliterals.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/compiler/objectliterals.js?cl=1c90793)  
[test/mjsunit/regress/regress-526.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-526.js?cl=1c90793)  
  
---   

## **v8 issue:515**  
   
**[Issue: String replace with regexp crash](https://crbug.com/v8/515)**  
**[Commit: Fix crash in string replace with regexp.  If the suffix of the subject](https://chromium.googlesource.com/v8/v8/+/3cf9ce4)**  
  
Date(Commit): Wed Nov 18 18:48:04 2009  
Type: ----  
Code Review: [http://codereview.chromium.org/402056](http://codereview.chromium.org/402056)  
Regress: [mjsunit/regress/regress-515.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-515.js)  
```javascript
var length = 2048;
var s = "";
for (var i = 0; i < 2048; i++) {
  s += '.';
}

var string = s + 'x' + s + 'x' + s;

string.replace(/x/g, "")  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3cf9ce4^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=3cf9ce4)  
[test/mjsunit/regress/regress-515.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-515.js?cl=3cf9ce4)  
  
---   

## **v8 issue:503**  
   
**[Issue: undefined <= undefined on ARM](https://crbug.com/v8/503)**  
**[Commit: Fix bug 503: undefined <= undefined should return false on ARM.](https://chromium.googlesource.com/v8/v8/+/cc3896d)**  
  
Date(Commit): Mon Nov 16 14:12:27 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/399001](http://codereview.chromium.org/399001)  
Regress: [mjsunit/regress/regress-503.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-503.js)  
```javascript
assertTrue(undefined == undefined, 1);
assertFalse(undefined <= undefined, 2);
assertFalse(undefined >= undefined, 3);
assertFalse(undefined < undefined, 4);
assertFalse(undefined > undefined, 5);

assertTrue(null == null, 6);
assertTrue(null <= null, 7);
assertTrue(null >= null, 8);
assertFalse(null < null, 9);
assertFalse(null > null, 10);

assertTrue(void 0 == void 0, 11);
assertFalse(void 0 <= void 0, 12);
assertFalse(void 0 >= void 0, 13);
assertFalse(void 0 < void 0, 14);
assertFalse(void 0 > void 0, 15);

var x = void 0;

assertTrue(x == x, 16);
assertFalse(x <= x, 17);
assertFalse(x >= x, 18);
assertFalse(x < x, 19);
assertFalse(x > x, 20);

var not_undefined = [null, 0, 1, 1/0, -1/0, "", true, false];
for (var i = 0; i < not_undefined.length; i++) {
  x = not_undefined[i];

  assertTrue(x == x, "" + 21 + x);
  assertTrue(x <= x, "" + 22 + x);
  assertTrue(x >= x, "" + 23 + x);
  assertFalse(x < x, "" + 24 + x);
  assertFalse(x > x, "" + 25 + x);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cc3896d^!)  
[src/arm/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.cc?cl=cc3896d)  
[test/mjsunit/regress/regress-503.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-503.js?cl=cc3896d)  
  
---   

## **v8 issue:502**  
   
**[Issue: Missing bailout in inline constructor code](https://crbug.com/v8/502)**  
**[Commit: Fix inline constructor code bailout.](https://chromium.googlesource.com/v8/v8/+/2252cc1)**  
  
Date(Commit): Wed Nov 11 09:00:09 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/392001](http://codereview.chromium.org/392001)  
Regress: [mjsunit/regress/regress-502.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-502.js)  
```javascript
var X = 'x';
function C() { this[X] = 42; }
var a = new C();
var b = new C();
assertEquals(42, a.x);
assertEquals(42, b.x);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2252cc1^!)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=2252cc1)  
[src/compiler.cc](https://cs.chromium.org/chromium/src/v8/src/compiler.cc?cl=2252cc1)  
[src/objects-debug.cc](https://cs.chromium.org/chromium/src/v8/src/objects-debug.cc?cl=2252cc1)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=2252cc1)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=2252cc1)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=2252cc1)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=2252cc1)  
[test/mjsunit/regress/regress-502.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-502.js?cl=2252cc1)  
  
---   

## **v8 issue:486**  
   
**[Issue: case-insensive regex matching does not work for Cyrillic (and perhaps Greek, either)](https://crbug.com/v8/486)**  
**[Commit: Fix bug 486, Cyrillic character ranges in case independent regexps.](https://chromium.googlesource.com/v8/v8/+/57c919e)**  
  
Date(Commit): Fri Nov 06 11:15:20 2009  
Type: ----  
Code Review: [http://codereview.chromium.org/361033](http://codereview.chromium.org/361033)  
Regress: [mjsunit/regress/regress-486.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-486.js)  
```javascript
var st = "\u0422\u0435\u0441\u0442";  
var cyrillicMatch = /^[\u0430-\u044fa-z]+$/i.test(st);  
assertTrue(cyrillicMatch);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/57c919e^!)  
[src/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/jsregexp.cc?cl=57c919e)  
[test/mjsunit/cyrillic.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/cyrillic.js?cl=57c919e)  
[test/mjsunit/regress/regress-486.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-486.js?cl=57c919e)  
  
---   

## **v8 issue:496**  
   
**[Issue: Unaliased eval call treated as aliased.](https://crbug.com/v8/496)**  
**[Commit: Fix case where we treat an unaliased call to eval as an aliased call to eval.](https://chromium.googlesource.com/v8/v8/+/f39fbb2)**  
  
Date(Commit): Thu Nov 05 11:19:37 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/366027](http://codereview.chromium.org/366027)  
Regress: [mjsunit/regress/regress-496.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-496.js)  
```javascript
function h() {
  function f() { return eval; }
  function g() { var x = 44; return eval("x"); }
  assertEquals(44, g());
}

h();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f39fbb2^!)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=f39fbb2)  
[test/mjsunit/regress/regress-496.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-496.js?cl=f39fbb2)  
  
---   

## **v8 issue:491**  
   
**[Issue: constantpool dump violates ARM debugger assertion for return point](https://crbug.com/v8/491)**  
**[Commit: Fix issue 491: constantpool dump violates ARM debugger assertion for return point](https://chromium.googlesource.com/v8/v8/+/77a71c9)**  
  
Date(Commit): Wed Nov 04 14:45:50 2009  
Type: ----  
Code Review: [http://codereview.chromium.org/362003](http://codereview.chromium.org/362003)  
Regress: [mjsunit/regress/regress-491.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-491.js)  
```javascript
function function_with_n_strings(n) {
  var source = '(function f(){';
  for (var i = 0; i < n; i++) {
    if (i != 0) source += ';';
    source += '"x"';
  }
  source += '})()';
  eval(source);
}

var i;
for (i = 500; i < 600; i++) {
  function_with_n_strings(i);
}
for (i = 1100; i < 1200; i++) {
  function_with_n_strings(i);
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/77a71c9^!)  
[src/arm/assembler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/assembler-arm.cc?cl=77a71c9)  
[src/arm/assembler-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/assembler-arm.h?cl=77a71c9)  
[src/arm/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.cc?cl=77a71c9)  
[src/arm/codegen-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.h?cl=77a71c9)  
[src/arm/debug-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/debug-arm.cc?cl=77a71c9)  
[src/arm/fast-codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/fast-codegen-arm.cc?cl=77a71c9)  
[src/debug.h](https://cs.chromium.org/chromium/src/v8/src/debug.h?cl=77a71c9)  
[test/mjsunit/regress/regress-491.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-491.js?cl=77a71c9)  
  
---   

## **v8 issue:492**  
   
**[Issue: ARM debug crash: mozilla/ecma/FunctionObjects/15.3.1.1-3](https://crbug.com/v8/492)**  
**[Commit: Fix xssue 492: ARM debug crash: mozilla/ecma/FunctionObjects/15.3.1.1-3](https://chromium.googlesource.com/v8/v8/+/54ec6c0)**  
  
Date(Commit): Wed Nov 04 10:04:22 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/354028](http://codereview.chromium.org/354028)  
Regress: [mjsunit/regress/regress-492.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-492.js)  
```javascript
function function_with_n_args(n) {
  var source = '(function f' + n + '(';
  for (var arg = 0; arg < n; arg++) {
    if (arg != 0) source += ',';
    source += 'arg' + arg;
  }
  source += ') { })()';
  eval(source);
}

var args;
for (args = 250; args < 270; args++) {
  function_with_n_args(args);
}

for (args = 500; args < 520; args++) {
  function_with_n_args(args);
}

for (args = 1019; args < 1041; args++) {
  function_with_n_args(args);
}


function foo(
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x,
  x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x
) {}

for (var i = 0; i < 10000; ++i) foo();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/54ec6c0^!)  
[src/arm/assembler-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/assembler-arm.cc?cl=54ec6c0)  
[src/arm/assembler-arm.h](https://cs.chromium.org/chromium/src/v8/src/arm/assembler-arm.h?cl=54ec6c0)  
[src/arm/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.cc?cl=54ec6c0)  
[test/mjsunit/regress/regress-492.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-492.js?cl=54ec6c0)  
  
---   

## **v8 issue:490**  
   
**[Issue: Crash in RegExp with change in rr3153](https://crbug.com/v8/490)**  
**[Commit: Don't use string slices when processing RexExp replace (re-apply r3153)](https://chromium.googlesource.com/v8/v8/+/b4c11d0)**  
  
Date(Commit): Mon Nov 02 12:21:43 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/342015.](http://codereview.chromium.org/342015.)  
Regress: [mjsunit/regress/regress-490.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-490.js)  
```javascript
var kXXX = 11



var a = '';
while (a.length < (2 << 11)) { a+= 'x'; }


a.replace(/^(.*)/, '$1$1$1');


for (var i = 0; i < 10; i++) {
  var  b = '';
  for (var j = 0; j < 10; j++) {
    b += '$1';

    
    
    a.replace(/^(.*)/, b);
  }
  a += a;
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b4c11d0^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=b4c11d0)  
[src/string.js](https://cs.chromium.org/chromium/src/v8/src/string.js?cl=b4c11d0)  
[test/mjsunit/regress/regress-490.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-490.js?cl=b4c11d0)  
  
---   

## **v8 issue:485**  
   
**[Issue: Function.prototype.call leaks builtins object.](https://crbug.com/v8/485)**  
**[Commit: Issue 485: Fix leak of builtins object through call and apply functions.](https://chromium.googlesource.com/v8/v8/+/0aecc29)**  
  
Date(Commit): Wed Oct 28 13:51:30 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/345007](http://codereview.chromium.org/345007)  
Regress: [mjsunit/regress/regress-485.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-485.js)  
```javascript
var global = this;
var global2 = (function(){return this;})();
assertEquals(global, global2, "direct call to local function returns global");


var builtin2 = Object.prototype.toString;



assertTrue("[object builtins]" != builtin2(), "Direct call to toString");
assertTrue("[object builtins]" != builtin2.call(), "call() to toString");
assertTrue("[object builtins]" != builtin2.apply(), "call() to toString");
assertTrue("[object builtins]" != builtin2.call.call(builtin2),
           "call.call() to toString");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0aecc29^!)  
[src/arm/builtins-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/builtins-arm.cc?cl=0aecc29)  
[src/ia32/builtins-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/builtins-ia32.cc?cl=0aecc29)  
[src/x64/builtins-x64.cc](https://cs.chromium.org/chromium/src/v8/src/x64/builtins-x64.cc?cl=0aecc29)  
[test/mjsunit/regress/regress-485.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-485.js?cl=0aecc29)  
  
---   

## **v8 issue:483**  
   
**[Issue: Failure running some constructors with only this.x = ... assignments](https://crbug.com/v8/483)**  
**[Commit: Fix issue with running some constructors having only this.x = ... assignments.](https://chromium.googlesource.com/v8/v8/+/7a509f2)**  
  
Date(Commit): Fri Oct 23 12:18:47 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/332007](http://codereview.chromium.org/332007)  
Regress: [mjsunit/regress/regress-483.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-483.js)  
```javascript
function X() {
  this.x = this.x.x;
}

X.prototype.x = {x:1}

new X()  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7a509f2^!)  
[src/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap.cc?cl=7a509f2)  
[test/mjsunit/regress/regress-483.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-483.js?cl=7a509f2)  
  
---   

## **v8 issue:475**  
   
**[Issue: Crash is IC after revision 3041](https://crbug.com/v8/475)**  
**[Commit: Fix issue 475](https://chromium.googlesource.com/v8/v8/+/a637f45)**  
  
Date(Commit): Tue Oct 20 12:13:31 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/307002](http://codereview.chromium.org/307002)  
Regress: [mjsunit/regress/regress-475.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-475.js)  
```javascript
assertEquals(1, (function (){return 1|-1%1})());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a637f45^!)  
[src/ia32/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.cc?cl=a637f45)  
[test/mjsunit/regress/regress-475.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-475.js?cl=a637f45)  
  
---   

## **v8 issue:416**  
   
**[Issue: CHECK(!( sizeof (time) == sizeof(float ) ? __inline_isnanf((float)(time)) : sizeof (time) == sizeof(double) ? __inline_isnand((double)(time)) : __inline_isnan ((long double)(time)))) failed](https://crbug.com/v8/416)**  
**[Commit: Add safe handling of NaN to Posix platform-dependent time functions.](https://chromium.googlesource.com/v8/v8/+/3703231)**  
  
Date(Commit): Tue Aug 04 09:41:18 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/160580](http://codereview.chromium.org/160580)  
Regress: [mjsunit/regress/regress-416.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-416.js)  
```javascript
assertTrue(isNaN(new Date(1e81).getTime()), "new Date(1e81)");
assertTrue(isNaN(new Date(-1e81).getTime()), "new Date(-1e81)");
assertTrue(isNaN(new Date(1e81, "").getTime()), "new Date(1e81, \"\")");
assertTrue(isNaN(new Date(-1e81, "").getTime()), "new Date(-1e81, \"\")");
assertTrue(isNaN(new Date(Number.NaN).getTime()), "new Date(Number.NaN)");
assertTrue(isNaN(new Date(Number.NaN, "").getTime()),
           "new Date(Number.NaN, \"\")");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3703231^!)  
[src/date-delay.js](https://cs.chromium.org/chromium/src/v8/src/date-delay.js?cl=3703231)  
[src/platform-posix.cc](https://cs.chromium.org/chromium/src/v8/src/platform-posix.cc?cl=3703231)  
[test/mjsunit/regress/regress-416.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-416.js?cl=3703231)  
  
---   

## **v8 issue:406**  
   
**[Issue: (ARM) Constant folding crashes short-circuit boolean expressions](https://crbug.com/v8/406)**  
**[Commit: Fix ARM compiler crash in short-circuited boolean expressions.](https://chromium.googlesource.com/v8/v8/+/1ca19c3)**  
  
Date(Commit): Thu Jul 23 11:40:14 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/160006](http://codereview.chromium.org/160006)  
Regress: [mjsunit/regress/regress-406.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-406.js)  
```javascript
assertFalse(typeof(0) == "zero");
assertTrue(typeof(0) != "zero");


assertFalse(typeof(0) == "zero" && typeof(0) == "zero");
assertFalse(typeof(0) == "zero" && typeof(0) != "zero");
assertFalse(typeof(0) != "zero" && typeof(0) == "zero");
assertTrue(typeof(0) != "zero" && typeof(0) != "zero");

assertFalse(typeof(0) == "zero" || typeof(0) == "zero");
assertTrue(typeof(0) == "zero" || typeof(0) != "zero");
assertTrue(typeof(0) != "zero" || typeof(0) == "zero");
assertTrue(typeof(0) != "zero" || typeof(0) != "zero");



function one() { return 1; }

assertFalse(typeof(0) == "zero" && one() < 0);
assertFalse(typeof(0) == "zero" && one() > 0);
assertFalse(typeof(0) != "zero" && one() < 0);
assertTrue(typeof(0) != "zero" && one() > 0);

assertFalse(typeof(0) == "zero" || one() < 0);
assertTrue(typeof(0) == "zero" || one() > 0);
assertTrue(typeof(0) != "zero" || one() < 0);
assertTrue(typeof(0) != "zero" || one() > 0);


assertFalse(one() < 0 && typeof(0) == "zero");
assertFalse(one() < 0 && typeof(0) != "zero");
assertFalse(one() > 0 && typeof(0) == "zero");
assertTrue(one() > 0 && typeof(0) != "zero");

assertFalse(one() < 0 || typeof(0) == "zero");
assertTrue(one() < 0 || typeof(0) != "zero");
assertTrue(one() > 0 || typeof(0) == "zero");
assertTrue(one() > 0 || typeof(0) != "zero");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1ca19c3^!)  
[src/arm/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/arm/codegen-arm.cc?cl=1ca19c3)  
[test/mjsunit/regress/regress-406.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-406.js?cl=1ca19c3)  
  
---   

## **v8 issue:345**  
   
**[Issue: CHECK(count >= 0) failed](https://crbug.com/v8/345)**  
**[Commit: Fix issue 345 by avoiding duplicates in the list of escaping labels](https://chromium.googlesource.com/v8/v8/+/6443cb9)**  
  
Date(Commit): Wed Jul 15 08:57:25 2009  
Type: ----  
Code Review: [http://codereview.chromium.org/149670](http://codereview.chromium.org/149670)  
Regress: [mjsunit/regress/regress-345.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-345.js)  
```javascript
do {
  try {
    continue;
  } catch (e) {
    continue;
  } finally {
  }
} while (false);


L: {
  try {
    break L;
  } catch (e) {
    break L;
  } finally {
  }
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6443cb9^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=6443cb9)  
[test/mjsunit/regress/regress-345.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-345.js?cl=6443cb9)  
  
---   

## **v8 issue:399**  
   
**[Issue: Wrong year calculated for Antipodean time zones near New Year's Day.](https://crbug.com/v8/399)**  
**[Commit: Fix issue 397 and issue 399. Review URL: http://codereview.chromium.org/149247](https://chromium.googlesource.com/v8/v8/+/b0f411c)**  
  
Date(Commit): Tue Jul 07 11:57:09 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/149247](http://codereview.chromium.org/149247)  
Regress: [mjsunit/regress/regress-399.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-399.js)  
```javascript
var date = new Date(1.009804e12);
var year = Number(String(date).match(/.*(200\d)/)[1]);
assertEquals(year, date.getFullYear());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b0f411c^!)  
[src/date-delay.js](https://cs.chromium.org/chromium/src/v8/src/date-delay.js?cl=b0f411c)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=b0f411c)  
[test/mjsunit/regress/regress-397.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-397.js?cl=b0f411c)  
[test/mjsunit/regress/regress-399.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-399.js?cl=b0f411c)  
  
---   

## **v8 issue:397**  
   
**[Issue: Math.pow(-Infinity, 0.5) gives NaN, not Infinity.](https://crbug.com/v8/397)**  
**[Commit: Fix issue 397 and issue 399. Review URL: http://codereview.chromium.org/149247](https://chromium.googlesource.com/v8/v8/+/b0f411c)**  
  
Date(Commit): Tue Jul 07 11:57:09 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/149247](http://codereview.chromium.org/149247)  
Regress: [mjsunit/regress/regress-397.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-397.js)  
```javascript
function test() {
  assertEquals("Infinity", String(Math.pow(Infinity, 0.5)));
  assertEquals(0, Math.pow(Infinity, -0.5));

  assertEquals("Infinity", String(Math.pow(-Infinity, 0.5)));
  assertEquals(0, Math.pow(-Infinity, -0.5));
}

test();
test();
%OptimizeFunctionOnNextCall(test);
test();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b0f411c^!)  
[src/date-delay.js](https://cs.chromium.org/chromium/src/v8/src/date-delay.js?cl=b0f411c)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=b0f411c)  
[test/mjsunit/regress/regress-397.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-397.js?cl=b0f411c)  
[test/mjsunit/regress/regress-399.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-399.js?cl=b0f411c)  
  
---   

## **v8 issue:396**  
   
**[Issue: REGRESSION: Illegal access exception](https://crbug.com/v8/396)**  
**[Commit: Add regression test case for issue 396.](https://chromium.googlesource.com/v8/v8/+/f0053e8)**  
  
Date(Commit): Thu Jul 02 09:08:15 2009  
Type: ----  
Code Review: [http://codereview.chromium.org/150215](http://codereview.chromium.org/150215)  
Regress: [mjsunit/regress/regress-396.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-396.js)  
```javascript
function DateYear(date) {
  var string = date.getYear() + '';
  if (string.length < 4) {
    string = '' + (string - 0 + 1900);
  }
  return string;
}

assertEquals('1995', DateYear(new Date('Dec 25, 1995')));
assertEquals('2005', DateYear(new Date('Dec 25, 2005')));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f0053e8^!)  
[test/mjsunit/regress/regress-396.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-396.js?cl=f0053e8)  
  
---   

## **v8 issue:394**  
   
**[Issue: Assessors on global object not handled correctly](https://crbug.com/v8/394)**  
**[Commit: Handle JavaScript accessors on the global object.](https://chromium.googlesource.com/v8/v8/+/25405dd)**  
  
Date(Commit): Wed Jul 01 11:20:33 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/150162](http://codereview.chromium.org/150162)  
Regress: [mjsunit/regress/regress-394.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-394.js)  
```javascript
function setx(){
  x=1;
}

function getx(){
  return x;
}

setx()
setx()
this.__defineSetter__('x',function(){});
this.__defineGetter__('x',function(){return 2;});
setx()
assertEquals(2, x);

assertEquals(2, getx());
assertEquals(2, getx());
assertEquals(2, getx());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/25405dd^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=25405dd)  
[test/mjsunit/regress/regress-394.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-394.js?cl=25405dd)  
  
---   

## **v8 issue:392**  
   
**[Issue: Crash [@ v8::internal::JSObject::LocalLookup] and CHECK(object->IsString() || object->IsNumber() || object->IsBoolean()) failed](https://crbug.com/v8/392)**  
**[Commit: Fix issue 392 by disabling the TakeValue optimization for](https://chromium.googlesource.com/v8/v8/+/3ae01ab)**  
  
Date(Commit): Mon Jun 29 06:20:52 2009  
Type: ----  
Code Review: [http://codereview.chromium.org/150016](http://codereview.chromium.org/150016)  
Regress: [mjsunit/regress/regress-392.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-392.js)  
```javascript
assertTrue(isNaN((function(){return arguments++})()));
assertTrue(isNaN((function(){return ++arguments})()));
assertTrue(isNaN((function(){return arguments--})()));
assertTrue(isNaN((function(){return --arguments})()));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3ae01ab^!)  
[src/ia32/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.cc?cl=3ae01ab)  
[test/mjsunit/regress/regress-392.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-392.js?cl=3ae01ab)  
  
---   

## **v8 issue:386**  
   
**[Issue: Assertion failed: t != INTERCEPTOR](https://crbug.com/v8/386)**  
**[Commit: Fix issue 386, a bug in JSObject::ReplaceSlowProperty with constant transitions.](https://chromium.googlesource.com/v8/v8/+/74ddab9)**  
  
Date(Commit): Mon Jun 22 07:41:15 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/141031](http://codereview.chromium.org/141031)  
Regress: [mjsunit/regress/regress-386.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-386.js)  
```javascript
function A() {
 for (var i = 0; i < 13; i++) {
   this['a' + i] = i;
 }
 this.i = function(){};
};

new A();
new A();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/74ddab9^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=74ddab9)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=74ddab9)  
[test/mjsunit/regress/regress-386.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-386.js?cl=74ddab9)  
  
---   

## **v8 issue:351**  
   
**[Issue: String#lastIndexOf should return 0 for negative position values.](https://crbug.com/v8/351)**  
**[Commit: Fix for issue 351 - lastIndexOf.](https://chromium.googlesource.com/v8/v8/+/9452453)**  
  
Date(Commit): Tue May 26 15:42:06 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/113838](http://codereview.chromium.org/113838)  
Regress: [mjsunit/regress/regress-351.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-351.js)  
```javascript
assertEquals(0, "test".lastIndexOf("test", -1));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/9452453^!)  
[src/string.js](https://cs.chromium.org/chromium/src/v8/src/string.js?cl=9452453)  
[test/mjsunit/regress/regress-351.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-351.js?cl=9452453)  
[test/mjsunit/string-lastindexof.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/string-lastindexof.js?cl=9452453)  
  
---   

## **v8 issue:349**  
   
**[Issue: String search hits assert in debug mode](https://crbug.com/v8/349)**  
**[Commit: Fix for issue 349: Make initial boundary check for BM text search.](https://chromium.googlesource.com/v8/v8/+/2ff3901)**  
  
Date(Commit): Tue May 19 09:01:03 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/113575](http://codereview.chromium.org/113575)  
Regress: [mjsunit/regress/regress-349.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-349.js)  
```javascript
var str = "bbaabbbbbbbbabbaaaabbaaabbbaaaabbaaabbabaaabb";
assertEquals(str, str.replace(/aabab/g, "foo"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2ff3901^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=2ff3901)  
[test/mjsunit/regress/regress-349.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-349.js?cl=2ff3901)  
  
---   

## **v8 issue:341**  
   
**[Issue: CRASH when running LayoutTests/fast/js/instance-of-immediates.html](https://crbug.com/v8/341)**  
**[Commit: Fix for issue 341.  In the stub for instanceof, we could try to read](https://chromium.googlesource.com/v8/v8/+/18f69a7)**  
  
Date(Commit): Tue May 12 11:40:14 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/115236](http://codereview.chromium.org/115236)  
Regress: [mjsunit/regress/regress-341.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-341.js)  
```javascript
function F() {}

F.prototype = 1;
var o = {};

assertThrows("o instanceof F");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/18f69a7^!)  
[src/ia32/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/ia32/codegen-ia32.cc?cl=18f69a7)  
[test/mjsunit/regress/regress-341.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-341.js?cl=18f69a7)  
  
---   

## **v8 issue:334**  
   
**[Issue: Setting a property resets attributes.](https://crbug.com/v8/334)**  
**[Commit: Added test for issue 334.](https://chromium.googlesource.com/v8/v8/+/b11b61c)**  
  
Date(Commit): Tue May 05 11:52:37 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/109009](http://codereview.chromium.org/109009)  
Regress: [mjsunit/regress/regress-334.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-334.js)  
```javascript
var READ_ONLY   = 1;
var DONT_ENUM   = 2;
var DONT_DELETE = 4;

function AddNamedProperty(object, name, value, attrs) {
  Object.defineProperty(object, name, {
      value,
      configurable: (attrs & DONT_DELETE) === 0,
      enumerable: (attrs & DONT_ENUM) === 0,
      writable: (attrs & READ_ONLY) === 0
  });
}

function func1(){}
function func2(){}

var object = {__proto__:{}};
AddNamedProperty(object, "foo", func1, DONT_ENUM | DONT_DELETE);
AddNamedProperty(object, "bar", func1, DONT_ENUM | READ_ONLY);
AddNamedProperty(object, "baz", func1, DONT_DELETE | READ_ONLY);
AddNamedProperty(object.__proto__, "bif", func1, DONT_ENUM | DONT_DELETE);
object.bif = func2;

function enumerable(obj) {
  var res = [];
  for (var i in obj) {
    res.push(i);
  }
  res.sort();
  return res;
}


assertArrayEquals(["baz", "bif"], enumerable(object), "enum0");
assertFalse(delete object.foo, "delete foo");
assertFalse(delete object.baz, "delete baz");
assertEquals(func1, object.foo, "read foo");
assertEquals(func1, object.bar, "read bar");
assertEquals(func1, object.baz, "read baz");
assertEquals(func2, object.bif, "read bif");


object.bar = "NO WAY";
assertEquals(func1, object.bar, "read bar 2");
assertArrayEquals(["baz", "bif"], enumerable(object), "enum1");


object.foo = func2;
assertArrayEquals(["baz", "bif"], enumerable(object), "enum2");
assertFalse(delete object.foo, "delete foo 2");


assertTrue(delete object.bar, "delete bar");
assertFalse("bar" in object, "has bar");
object.bar = func2;
assertTrue("bar" in object, "has bar 2");
assertEquals(func2, object.bar, "read bar 3");

assertArrayEquals(["bar", "baz", "bif"], enumerable(object), "enum3");


assertTrue(delete object.bif, "delete bif");
assertArrayEquals(["bar", "baz"], enumerable(object), "enum4");
assertEquals(func1, object.bif, "read bif 2");

assertTrue(delete object.bif, "delete bif 2");
assertArrayEquals(["bar", "baz"], enumerable(object), "enum5");
assertEquals(func1, object.bif, "read bif3");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b11b61c^!)  
[test/mjsunit/bugs/bug-334.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-334.js?cl=b11b61c)  
  
---   

## **v8 issue:326**  
   
**[Issue: Array sort on non-array objects doesn't preserve missing elements](https://crbug.com/v8/326)**  
**[Commit: Fix Issue 326. Handle sorting of non-array objects correctly.](https://chromium.googlesource.com/v8/v8/+/889eac7)**  
  
Date(Commit): Mon Apr 27 11:16:59 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/92123](http://codereview.chromium.org/92123)  
Regress: [mjsunit/regress/regress-326.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-326.js)  
```javascript
var nonArray = { length: 4, 0: 42, 2: 37, 3: undefined, 4: 0 };
Array.prototype.sort.call(nonArray);

assertEquals(4, nonArray.length, "preserve length");
assertEquals(37, nonArray[0], "sort smallest first");
assertEquals(42, nonArray[1], "sort largest last");
assertTrue(2 in nonArray, "don't delete undefined");
assertEquals(undefined, nonArray[2], "sort undefined after largest");
assertFalse(3 in nonArray, "don't create non-existing");
assertEquals(0, nonArray[4], "don't affect after length.");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/889eac7^!)  
[src/array.js](https://cs.chromium.org/chromium/src/v8/src/array.js?cl=889eac7)  
[src/globals.h](https://cs.chromium.org/chromium/src/v8/src/globals.h?cl=889eac7)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=889eac7)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=889eac7)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=889eac7)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=889eac7)  
[test/mjsunit/array-sort.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/array-sort.js?cl=889eac7)  
[test/mjsunit/regress/regress-326.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-326.js?cl=889eac7)  
  
---   

## **v8 issue:318**  
   
**[Issue: Inferred static type of elements is not safely set when merge code is not generated](https://crbug.com/v8/318)**  
**[Commit: When merging a frame to an expected on at block entry, the static type](https://chromium.googlesource.com/v8/v8/+/b39f438)**  
  
Date(Commit): Wed Apr 22 13:19:38 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/92009](http://codereview.chromium.org/92009)  
Regress: [mjsunit/regress/regress-318.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-318.js)  
```javascript
function test(value) {
  if (typeof(value) == 'boolean') value = value + '';
  if (typeof(value) == 'number') value = value + '';
}

assertDoesNotThrow('test(0)');  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b39f438^!)  
[src/virtual-frame-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/virtual-frame-ia32.cc?cl=b39f438)  
[src/virtual-frame.cc](https://cs.chromium.org/chromium/src/v8/src/virtual-frame.cc?cl=b39f438)  
[test/mjsunit/regress/regress-318.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-318.js?cl=b39f438)  
  
---   

## **v8 issue:317**  
   
**[Issue: String replace of string doesn't allow dollars in replace string.](https://crbug.com/v8/317)**  
**[Commit: Fix for Issue 317 - bug in string.replace(string, "$foo").](https://chromium.googlesource.com/v8/v8/+/bfb33b1)**  
  
Date(Commit): Wed Apr 22 11:43:05 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/94002](http://codereview.chromium.org/94002)  
Regress: [mjsunit/regress/regress-317.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-317.js)  
```javascript
assertEquals("a$ec", "abc".replace("b", "$e"), "$e isn't meaningful");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/bfb33b1^!)  
[src/string.js](https://cs.chromium.org/chromium/src/v8/src/string.js?cl=bfb33b1)  
[test/mjsunit/regress/regress-317.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-317.js?cl=bfb33b1)  
[test/mjsunit/string-replace.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/string-replace.js?cl=bfb33b1)  
  
---   

## **v8 issue:312**  
   
**[Issue: Function name collector triggers ASSERT when expressions contain multiple anonymous functions.](https://crbug.com/v8/312)**  
**[Commit: Change the function name collector to tolerate expressions that contain](https://chromium.googlesource.com/v8/v8/+/22896c8)**  
  
Date(Commit): Wed Apr 15 13:14:23 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/67165](http://codereview.chromium.org/67165)  
Regress: [mjsunit/regress/regress-312.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-312.js)  
```javascript
var o = { f: "x" ? function () {} : function () {} };  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/22896c8^!)  
[src/func-name-inferrer.h](https://cs.chromium.org/chromium/src/v8/src/func-name-inferrer.h?cl=22896c8)  
[test/mjsunit/regress/regress-312.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-312.js?cl=22896c8)  
  
---   

## **v8 issue:294**  
   
**[Issue: Failure to preserve is_copied flag on virtual frame elements](https://crbug.com/v8/294)**  
**[Commit: Fix issue 294 by ensuring that we don't lose the copy flag on memory](https://chromium.googlesource.com/v8/v8/+/c80b013)**  
  
Date(Commit): Tue Mar 31 14:01:25 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/57053](http://codereview.chromium.org/57053)  
Regress: [mjsunit/regress/regress-294.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-294.js)  
```javascript
function f() { return false; }

function test(x) {
  var y = x;
  if (x == "kat") x = "kat";
  else {
    x = "hund";
    var z = f();
    if (!z) x = "kat";
  }
}

test("hund");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c80b013^!)  
[src/virtual-frame-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/virtual-frame-ia32.cc?cl=c80b013)  
[test/mjsunit/regress/regress-294.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-294.js?cl=c80b013)  
  
---   

## **v8 issue:286**  
   
**[Issue: Compound assignments to variables in registers do not work](https://crbug.com/v8/286)**  
**[Commit: Fix issue 286.  Ensure frame elements are invalidated by InvalidateFrameSlotAt.](https://chromium.googlesource.com/v8/v8/+/1ba34bf)**  
  
Date(Commit): Tue Mar 24 12:42:28 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/53008](http://codereview.chromium.org/53008)  
Regress: [mjsunit/regress/regress-286.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-286.js)  
```javascript
function test() {
  var o = [1];
  var a = o[o ^= 1];
  return a;
};

assertEquals(1, test());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/1ba34bf^!)  
[src/virtual-frame-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/virtual-frame-ia32.cc?cl=1ba34bf)  
[test/mjsunit/regress/regress-286.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-286.js?cl=1ba34bf)  
  
---   

## **v8 issue:284**  
   
**[Issue: Assigning and continuing within a for-in loop behaves unexpectedly](https://crbug.com/v8/284)**  
**[Commit: Added test case for issue 284.](https://chromium.googlesource.com/v8/v8/+/cff1d27)**  
  
Date(Commit): Mon Mar 23 23:49:58 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/52031](http://codereview.chromium.org/52031)  
Regress: [mjsunit/regress/regress-284.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-284.js)  
```javascript
function continueWithinLoop() {
  var result;
  for (var key in [0]) {
    result = "hopla";
    continue;
  }
  return result;
};

assertEquals("hopla", continueWithinLoop());

function breakWithinLoop() {
  var result;
  for (var key in [0]) {
    result = "hopla";
    break;
  }
  return result;
};

assertEquals("hopla", continueWithinLoop());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cff1d27^!)  
[test/mjsunit/bugs/bug-284.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-284.js?cl=cff1d27)  
  
---   

## **v8 issue:279**  
   
**[Issue: new array literals inside object literals returned from body of a function are recycled](https://crbug.com/v8/279)**  
**[Commit: Revert 1432, 1433, 1469 and 1472 due to a bug with literal objects.](https://chromium.googlesource.com/v8/v8/+/3aa57f7)**  
  
Date(Commit): Sun Mar 15 16:18:20 2009  
Type: ----  
Code Review: [http://codereview.chromium.org/46088](http://codereview.chromium.org/46088)  
Regress: [mjsunit/regress/regress-279.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-279.js)  
```javascript
function makeArrayInObject() {
  return { foo: [] };
}

var a = makeArrayInObject();
a.foo.push(5);
var b = makeArrayInObject();
assertEquals(0, b.foo.length, "Array in object");

function makeObjectInObject() {
  return { foo: {} };
}

a = makeObjectInObject();
a.foo.bar = 1;
b = makeObjectInObject();
assertEquals('undefined', typeof(b.foo.bar), "Object in object");

function makeObjectInArray() {
  return [ {} ];
}

a = makeObjectInArray();
a[0].bar = 1;
b = makeObjectInArray();
assertEquals('undefined', typeof(b[0].bar), "Object in array");

function makeArrayInArray() {
  return [ [] ];
}

a = makeArrayInArray();
a[0].push(5);
b = makeArrayInArray();
assertEquals(0, b[0].length, "Array in array");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/3aa57f7^!)  
[src/ast.cc](https://cs.chromium.org/chromium/src/v8/src/ast.cc?cl=3aa57f7)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=3aa57f7)  
[src/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-arm.cc?cl=3aa57f7)  
[src/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-ia32.cc?cl=3aa57f7)  
[src/heap.h](https://cs.chromium.org/chromium/src/v8/src/heap.h?cl=3aa57f7)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=3aa57f7)  
[src/parser.h](https://cs.chromium.org/chromium/src/v8/src/parser.h?cl=3aa57f7)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=3aa57f7)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=3aa57f7)  
[test/mjsunit/fuzz-natives.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/fuzz-natives.js?cl=3aa57f7)  
[test/mjsunit/regress/regress-279.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-279.js?cl=3aa57f7)  
  
---   

## **v8 issue:267**  
   
**[Issue: Indirect eval fails in eval-tainted scope.](https://crbug.com/v8/267)**  
**[Commit: Issue 267: Calls to arguments in eval-tainted function scope uses global object as receiver.](https://chromium.googlesource.com/v8/v8/+/34db0ff)**  
  
Date(Commit): Tue Mar 10 12:28:34 2009  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@1476](http://v8.googlecode.com/svn/branches/bleeding_edge@1476)  
Regress: [mjsunit/regress/regress-267.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-267.js)  
```javascript
var global = (function(){ return this; })();
function taint(fn){var v = fn(); eval("taint"); return v; }
function getThis(){ return this; }
var obj = taint(getThis);

assertEquals(global, obj, "Should be the global object.");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/34db0ff^!)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=34db0ff)  
[src/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-arm.cc?cl=34db0ff)  
[src/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-ia32.cc?cl=34db0ff)  
[src/scopes.cc](https://cs.chromium.org/chromium/src/v8/src/scopes.cc?cl=34db0ff)  
[test/mjsunit/regress/regress-267.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-267.js?cl=34db0ff)  
  
---   

## **v8 issue:244**  
   
**[Issue: Uri encode/decode don't handle malformed sequences correctly](https://crbug.com/v8/244)**  
**[Commit: Implemented invalid UTF8 detection in decodeURI.  That is, detection](https://chromium.googlesource.com/v8/v8/+/782b537)**  
  
Date(Commit): Tue Mar 10 09:08:05 2009  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@1471](http://v8.googlecode.com/svn/branches/bleeding_edge@1471)  
Regress: [mjsunit/regress/regress-244.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-244.js)  
```javascript
var kLegalPairs = [
  [0x00, '%00'],
  [0x01, '%01'],
  [0x7f, '%7F'],
  [0x80, '%C2%80'],
  [0x81, '%C2%81'],
  [0x7ff, '%DF%BF'],
  [0x800, '%E0%A0%80'],
  [0x801, '%E0%A0%81'],
  [0xd7ff, '%ED%9F%BF'],
  [0xffff, '%EF%BF%BF']
];

var kIllegalEncoded = [
  '%80', '%BF', '%80%BF', '%80%BF%80', '%C0%22', '%DF',
  '%EF%BF', '%F7BFBF', '%FE', '%FF', '%FE%FE%FF%FF',
  '%C0%AF', '%E0%9F%BF', '%F0%8F%BF%BF', '%C0%80',
  '%E0%80%80'
];

function run() {
  for (var i = 0; i < kLegalPairs.length; i++) {
    var decoded = String.fromCharCode(kLegalPairs[i][0]);
    var encoded = kLegalPairs[i][1];
    assertEquals(decodeURI(encoded), decoded);
    assertEquals(encodeURI(decoded), encoded);
  }
  for (var i = 0; i < kIllegalEncoded.length; i++) {
    var value = kIllegalEncoded[i];
    var exception = false;
    try {
      decodeURI(value);
    } catch (e) {
      exception = true;
      assertInstanceof(e, URIError);
    }
    assertTrue(exception);
  }
}

run();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/782b537^!)  
[src/regexp-delay.js](https://cs.chromium.org/chromium/src/v8/src/regexp-delay.js?cl=782b537)  
[src/uri.js](https://cs.chromium.org/chromium/src/v8/src/uri.js?cl=782b537)  
[test/mjsunit/regress/regress-244.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-244.js?cl=782b537)  
  
---   

## **v8 issue:265**  
   
**[Issue: Assertion failure: CHECK(0 <= i && i < length_) failed](https://crbug.com/v8/265)**  
**[Commit: Add a failing test case for issue 265:](https://chromium.googlesource.com/v8/v8/+/8eea2af)**  
  
Date(Commit): Mon Mar 09 17:21:28 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/39349](http://codereview.chromium.org/39349)  
Regress: [mjsunit/regress/regress-265.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-265.js)  
```javascript
function test0() {
  try {
    try {
      return 0;
    } finally {
      try {
        return 0;
      } finally {
      }
    }
  } finally {
  }
}

test0();

function test1() {
L0:
  try {
    try {
      break L0;
    } finally {
      try {
        break L0;
      } finally {
      }
    }
  } finally {
  }
}

test1();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8eea2af^!)  
[test/mjsunit/bugs/bug-265.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-265.js?cl=8eea2af)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=8eea2af)  
  
---   

## **v8 issue:260**  
   
**[Issue: Assertion failure: CHECK(cgen_ == __null) failed](https://crbug.com/v8/260)**  
**[Commit: Work around issue 260 for now by disabling duplication of the loop](https://chromium.googlesource.com/v8/v8/+/34af9f2)**  
  
Date(Commit): Mon Mar 09 14:12:20 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/40294](http://codereview.chromium.org/40294)  
Regress: [mjsunit/regress/regress-260.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-260.js)  
```javascript
function test() { eval("while(!function () { var x; });"); }
test();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/34af9f2^!)  
[src/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-ia32.cc?cl=34af9f2)  
[test/mjsunit/regress/regress-260.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-260.js?cl=34af9f2)  
  
---   

## **v8 issue:263**  
   
**[Issue: Properly adjust stack height when returning out of for/in and try/finally](https://crbug.com/v8/263)**  
**[Commit: Fix issue 263:](https://chromium.googlesource.com/v8/v8/+/ece2c03)**  
  
Date(Commit): Mon Mar 09 10:51:57 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/39331](http://codereview.chromium.org/39331)  
Regress: [mjsunit/regress/regress-263.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-263.js)  
```javascript
function test0() { with({}) for(var x in {}) return; }
test0();


function test1() { with({}) try { } finally { with({}) return; } }
test1();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/ece2c03^!)  
[src/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-arm.cc?cl=ece2c03)  
[src/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-ia32.cc?cl=ece2c03)  
[test/mjsunit/regress/regress-263.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-263.js?cl=ece2c03)  
  
---   

## **v8 issue:259**  
   
**[Issue: Assertion failure: CHECK(0 <= i && i < length_) failed](https://crbug.com/v8/259)**  
**[Commit: Fix issue 259.](https://chromium.googlesource.com/v8/v8/+/b638d5c)**  
  
Date(Commit): Fri Mar 06 10:18:33 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/39251](http://codereview.chromium.org/39251)  
Regress: [mjsunit/regress/regress-259.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-259.js)  
```javascript
assertThrows("try { while (true) { throw 0; }} finally {}");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b638d5c^!)  
[src/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-ia32.cc?cl=b638d5c)  
[test/mjsunit/regress/regress-259.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-259.js?cl=b638d5c)  
  
---   

## **v8 issue:254**  
   
**[Issue: RegExp.prototype.test doesn't update lastIndex on a global regexp correctly.](https://crbug.com/v8/254)**  
**[Commit: Issue 254 - now correctly updates lastIndexof when using the test method.](https://chromium.googlesource.com/v8/v8/+/21fb24e)**  
  
Date(Commit): Wed Mar 04 12:29:37 2009  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@1418](http://v8.googlecode.com/svn/branches/bleeding_edge@1418)  
Regress: [mjsunit/regress/regress-254.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-254.js)  
```javascript
var re = /x/g;

assertEquals(0, re.lastIndex, "Global, initial lastIndex");

assertTrue(re.test("x"), "Global, test 1");
assertEquals(1, re.lastIndex, "Global, lastIndex after test 1");
assertFalse(re.test("x"), "Global, test 2");
assertEquals(0, re.lastIndex, "Global, lastIndex after test 2");

assertEquals(["x"], re.exec("x"), "Global, exec 1");
assertEquals(1, re.lastIndex, "Global, lastIndex after exec 1");
assertEquals(null, re.exec("x"), "Global, exec 2");
assertEquals(0, re.lastIndex, "Global, lastIndex after exec 2");


var re2 = /x/;

assertEquals(0, re2.lastIndex, "Non-global, initial lastIndex");

assertTrue(re2.test("x"), "Non-global, test 1");
assertEquals(0, re2.lastIndex, "Non-global, lastIndex after test 1");
assertTrue(re2.test("x"), "Non-global, test 2");
assertEquals(0, re2.lastIndex, "Non-global, lastIndex after test 2");

assertEquals(["x"], re2.exec("x"), "Non-global, exec 1");
assertEquals(0, re2.lastIndex, "Non-global, lastIndex after exec 1");
assertEquals(["x"], re2.exec("x"), "Non-global, exec 2");
assertEquals(0, re2.lastIndex, "Non-global, lastIndex after exec 2");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/21fb24e^!)  
[src/regexp-delay.js](https://cs.chromium.org/chromium/src/v8/src/regexp-delay.js?cl=21fb24e)  
[test/mjsunit/regress/regress-254.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-254.js?cl=21fb24e)  
  
---   

## **v8 issue:253**  
   
**[Issue: Illegal access when toring multiple elements on heap numbers.](https://crbug.com/v8/253)**  
**[Commit: Fixed issue 253. No longer assuming that the target of a property lookup is a JSObject.](https://chromium.googlesource.com/v8/v8/+/7bd50d0)**  
  
Date(Commit): Wed Mar 04 11:57:24 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/39126](http://codereview.chromium.org/39126)  
Regress: [mjsunit/regress/regress-253.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-253.js)  
```javascript
var x = 0;
x[0] = 0;
x[0] = 1;
x[0] = 2;  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/7bd50d0^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=7bd50d0)  
[test/mjsunit/regress/regress-253.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-253.js?cl=7bd50d0)  
  
---   

## **v8 issue:246**  
   
**[Issue: Matching deeply parenthesized regexps fails](https://crbug.com/v8/246)**  
**[Commit: Issue 246 - wait until regexp is parsed to detect whether it's simple.](https://chromium.googlesource.com/v8/v8/+/4852bef)**  
  
Date(Commit): Wed Mar 04 09:52:01 2009  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@1412](http://v8.googlecode.com/svn/branches/bleeding_edge@1412)  
Regress: [mjsunit/regress/regress-246.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-246.js)  
```javascript
assertTrue(/(?:text)/.test("text"));
assertEquals(["text"], /(?:text)/.exec("text"));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4852bef^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=4852bef)  
[test/mjsunit/regress/regress-246.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-246.js?cl=4852bef)  
  
---   

## **v8 issue:233**  
   
**[Issue: Unhandled empty handle in glboal regexp.](https://crbug.com/v8/233)**  
**[Commit: Missing handle check. Triggers bug if the runtime stack overflows and it is detected by a global regexp.](https://chromium.googlesource.com/v8/v8/+/80bb2cc)**  
  
Date(Commit): Fri Feb 13 09:40:15 2009  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@1263](http://v8.googlecode.com/svn/branches/bleeding_edge@1263)  
Regress: [mjsunit/regress/regress-233.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-233.js)  
```javascript
function loop(s) {
  loop(s.replace(/\s/g, ""));
}
try {
  loop("No");
} catch(e) {
  
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/80bb2cc^!)  
[src/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/jsregexp.cc?cl=80bb2cc)  
[src/jsregexp.h](https://cs.chromium.org/chromium/src/v8/src/jsregexp.h?cl=80bb2cc)  
[test/mjsunit/regress/regress-233.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-233.js?cl=80bb2cc)  
  
---   

## **v8 issue:231**  
   
**[Issue: RegExp look-ahead restores bad stack-pointer after stack growth.](https://crbug.com/v8/231)**  
**[Commit: Issue 231 - Irregexp backtracking stack pointer could become corrupted.](https://chromium.googlesource.com/v8/v8/+/0b1f3f2)**  
  
Date(Commit): Thu Feb 12 13:07:58 2009  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@1257](http://v8.googlecode.com/svn/branches/bleeding_edge@1257)  
Regress: [mjsunit/regress/regress-231.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-231.js)  
```javascript
var re = /Ggcy\b[^D]*D((?:(?=([^G]+))\2|G(?!gcy\b[^D]*D))*?)GIgcyD/;

var str = 'GgcyDGgcy.saaaa.aDGaaa.aynaaaaaaaaacaaaaagcaaaaaaaancaDGgnayr' +
    '.aryycnaaaataaaa.aryyacnaaataaaa.aaaaraaaaa.aaagaaaaaaaaDGgaaaaDGga' +
    '.aaagaaaaaaaaDGga.nyataaaaragraa.anyataaagaca.agayraaarataga.aaacaa' +
    '.aaagaa.aaacaaaDGaaa.aynaaaaaaaaacaaaaagcaaaaaacaagaa.agayraaaGgaaa' +
    '.trgaaaaaagaatGanyara.caagaaGaD.araaaa_aat_aayDDaaDGaaa.aynaaaaaaaa' +
    'acaaaaagcaaaaaacaaaaa.agayraaaGgaaa.trgaaaaaaatGanyaraDDaaDGacna.ay' +
    'naaaaaaaaacaaaaagcaaaaaacaaaraGgaaa.naaaaagaaaaaaraynaaGanyaraDDaaD' +
    'aGgaaa.saaangaaaaraaaGgaaa.trgaaaragaaaarGanyaraDDDaGIacnaDGIaaaDGI' +
    'aaaDGIgaDGga.anyataaagaca.agayraaaaagaa.aaaaa.cnaaaata.aca.aca.aca.' +
    'acaaaDGgnayr.aaaaraaaaa.aaagaaaaaaaaDGgaaaaDGgaDGga.aayacnaaaaa.ayn' +
    'aaaaaaaaacaaaaagcaaaaaanaraDGaDacaaaaag_anaraGIaDGIgaDGIgaDGgaDGga.' +
    'aayacnaaaaa.aaagaaaaaaaaDGaa.aaagaaaaaaaa.aaaraaaa.aaaanaraaaa.IDGI' +
    'gaDGIgaDGgaDGga.aynaaaaaaaaacaaaaagcaaaaaaaraaaa.anyataaagacaDaGgaa' +
    'a.trgGragaaaacgGaaaaaaaG_aaaaa_Gaaaaaaaaa,.aGanar.anaraDDaaGIgaDGga' +
    '.aynaaaaaaaaacaaaaagcaaaaaaanyara.anyataaagacaDGaDaaaaag_caaaaag_an' +
    'araGIaDGIgaDGIgaDGgaDGga.aynaaaaaaaaacaaaaagcaaaaaaaraaaa.anyataaag' +
    'acaDaGgaaa.trgGragaaaacgGaaaaaaaG_aaaaa_aaaaaa,.aaaaacaDDaaGIgaDGga' +
    '.aynaaaaaaaaacaaaaagcaaaaaaanyara.anyataaagacaDGaDataaac_araaaaGIaD' +
    'GIgaDGIgaDaagcyaaGgaDGga.aayacnaaaaa.aaagaaaaaaaaDGaa.aaagaaaaaaaa.' +
    'aaaraaaa.aaaanaraaaa.IDGIgaDGIgaDGgcy.asaadanyaga.aa.aaaDGgaDGga.ay' +
    'naaaaaaaaacaaaaagcaaaaaaaraaaa.anyataaagacaDaGgaaa.trgGragaaaacgGaa' +
    'aaaaaG_aaaaa_DaaaaGaa,.aDanyagaaDDaaGIgaDGga.aynaaaaaaaaacaaaaagcaa' +
    'aaaaanyara.anyataaagacaDGaDadanyagaaGIaDGIgaDGIgaDGIgcyDGgcy.asaaga' +
    'cras.agra_yratga.aa.aaaarsaaraa.aa.agra_yratga.aa.aaaDGgaDGga.aynaa' +
    'aaaaaaacaaaaagcaaaaaaaraaaa.anyataaagacaDaGgaaa.trgGragaaaacgGaaaaa' +
    'aaG_aaaaa_aGaaaaaaGaa,.aaratgaaDDaaGIgaDGga.aynaaaaaaaaacaaaaagcaaa' +
    'aaaanyara.anyataaagacaDGaDaagra_yratgaaGIaDGIgaDGIgaDGIgcyDGgcy.asa' +
    'agacras.aratag.aa.aaaarsaaraa.aa.aratag.aa.aaaDGgaDGga.aynaaaaaaaaa' +
    'caaaaagcaaaaaaaraaaa.anyataaagacaDaGgaaa.trgGragaaaacgGaaaaaaaG_aaa' +
    'aa_aaaaaGa,.aaratagaDDaaGIgaDGga.aynaaaaaaaaacaaaaagcaaaaaaanyara.a' +
    'nyataaagacaDGaDaaratagaGIaDGIgaDGIgaDGIgcyDGgcy.asaagacras.gaaax_ar' +
    'atag.aa.aaaarsaaraa.aa.gaaax_aratag.aa.aaaDGgaDGga.aynaaaaaaaaacaaa' +
    'aagcaaaaaaaraaaa.anyataaagacaDaGgaaa.trgGragaaaacgGaaaaaaaG_aaaaa_G' +
    'aaaaaaaaaGa,.aaratagaDDaaGIgaDGga.aynaaaaaaaaacaaaaagcaaaaaaanyara.' +
    'anyataaagacaDGaDagaaax_aratagaGIaDGIgaDGIgaDGIgcyDGgcy.asaagacras.c' +
    'ag_aaar.aa.aaaarsaaraa.aa.cag_aaar.aa.aaaDGgaDGga.aynaaaaaaaaacaaaa' +
    'agcaaaaaaaraaaa.anyataaagacaDaGgaaa.trgGragaaaacgGaaaaaaaG_aaaaa_aa' +
    'Gaaaaa,.aaagaaaraDDaaGIgaDGga.aynaaaaaaaaacaaaaagcaaaaaaanyara.anya' +
    'taaagacaDGaDacag_aaaraGIaDGIgaDGIgaDGIgcyDGgcy.asaagacras.aaggaata_' +
    'aa_cynaga_cc.aa.aaaarsaaraa.aa.aaggaata_aa_cynaga_cc.aa.aaaDGgaDGga' +
    '.aynaaaaaaaaacaaaaagcaaaaaaaraaaa.anyataaagacaDaGgaaa.trgGragaaaacg' +
    'GaaaaaaaG_aaaaa_aaGGaaaa_aa_aaaaGa_aaa,.aaynagaIcagaDDaaGIgaDGga.ay' +
    'naaaaaaaaacaaaaagcaaaaaaanyara.anyataaagacaDGaDaaaggaata_aa_cynaga_' +
    'ccaGIaDGIgaDGIgaDGIgcyDGgcy.asaagacras.syaara_aanargra.aa.aaaarsaar' +
    'aa.aa.syaara_aanargra.aa.aaaDGgaDGga.aynaaaaaaaaacaaaaagcaaaaaaaraa' +
    'aa.anyataaagacaDaGgaaa.trgGragaaaacgGaaaaaaaG_aaaaa_aaaaaaaaaaaGaaa' +
    ',.aaanargraaDDaaGIgaDGga.aynaaaaaaaaacaaaaagcaaaaaaanyara.anyataaag' +
    'acaDGaDasyaara_aanargraaGIaDGIgaDGIgaDGIgcyDGgcy.asaagacras.cynag_a' +
    'anargra.aa.aaaarsaaraa.aa.cynag_aanargra.aa.aaaDGgaDGga.aynaaaaaaaa' +
    'acaaaaagcaaaaaaaraaaa.anyataaagacaDaGgaaa.trgGragaaaacgGaaaaaaaG_aa' +
    'aaa_aaaaGaaaaaGaaa,.aaanargraaDDaaGIgaDGga.aynaaaaaaaaacaaaaagcaaaa' +
    'aaanyara.anyataaagacaDGaDacynag_aanargraaGIaDGIgaDGIgaDGIgcyDGgaDGg' +
    'a.aynaaaaaaaaacaaaaagcaaaaaaaraaaa.anyataaagacaDaGgaaa.trgGragaaaac' +
    'gGaaaaaaaG';



var res = re.test(str);
assertTrue(res);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0b1f3f2^!)  
[src/regexp-macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-ia32.cc?cl=0b1f3f2)  
[src/regexp-macro-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-ia32.h?cl=0b1f3f2)  
[test/mjsunit/regress/regress-231.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-231.js?cl=0b1f3f2)  
  
---   

## **v8 issue:87**  
   
**[Issue: We should handle character escapes used as regexp flags](https://crbug.com/v8/87)**  
**[Commit: Regular Expression literal flags may contain unicode escapes. If these escape any of the](https://chromium.googlesource.com/v8/v8/+/396fa22)**  
  
Date(Commit): Thu Feb 12 09:09:28 2009  
Type: Defect  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@1253](http://v8.googlecode.com/svn/branches/bleeding_edge@1253)  
Regress: [mjsunit/regress/regress-87.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-87.js)  
```javascript
assertThrows("/x/\\u0067");
assertThrows("/x/\\u0069");
assertThrows("/x/\\u006d");

assertThrows("/x/\\u0067i");
assertThrows("/x/\\u0069m");
assertThrows("/x/\\u006dg");

assertThrows("/x/m\\u0067");
assertThrows("/x/g\\u0069");
assertThrows("/x/i\\u006d");

assertThrows("/x/m\\u0067i");
assertThrows("/x/g\\u0069m");
assertThrows("/x/i\\u006dg");

assertThrows("/x/\\u0068");
assertThrows("/x/\\u0020");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/396fa22^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=396fa22)  
[src/scanner.cc](https://cs.chromium.org/chromium/src/v8/src/scanner.cc?cl=396fa22)  
[test/mjsunit/regress/regress-87.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-87.js?cl=396fa22)  
  
---   

## **v8 issue:227**  
   
**[Issue: Irregexp ignores high bits in choice nodes on ASCII strings](https://crbug.com/v8/227)**  
**[Commit: Issue 227 Fixed. Properly handles non-ASCII characters in quick-check on ASCII strings.](https://chromium.googlesource.com/v8/v8/+/c621bbb)**  
  
Date(Commit): Wed Feb 11 11:54:30 2009  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@1248](http://v8.googlecode.com/svn/branches/bleeding_edge@1248)  
Regress: [mjsunit/regress/regress-227.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-227.js)  
```javascript
var re = /\u23a1|x/;
var res = re.exec("!");
assertEquals(null, res, "Throwing away high bits on ASCII string");

res = re.exec("!x");
assertEquals(["x"], res, "Throwing away high bits on ASCII string");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c621bbb^!)  
[src/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/jsregexp.cc?cl=c621bbb)  
[test/mjsunit/regress/regress-227.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-227.js?cl=c621bbb)  
  
---   

## **v8 issue:225**  
   
**[Issue: Search and replace with zero length match where replaceValue is a function.](https://crbug.com/v8/225)**  
**[Commit: Fix bug 225 in regexp replace with function.](https://chromium.googlesource.com/v8/v8/+/b0e3ee6)**  
  
Date(Commit): Thu Feb 05 13:24:13 2009  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@1232](http://v8.googlecode.com/svn/branches/bleeding_edge@1232)  
Regress: [mjsunit/regress/regress-225.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-225.js)  
```javascript
assertEquals("foo", "foo".replace(/(?:)/g, function() { return ""; }));

assertEquals("foo", "foo".replace(/(?:)/g, ""));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b0e3ee6^!)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=b0e3ee6)  
[src/string.js](https://cs.chromium.org/chromium/src/v8/src/string.js?cl=b0e3ee6)  
[test/mjsunit/regress/regress-225.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-225.js?cl=b0e3ee6)  
  
---   

## **v8 issue:219**  
   
**[Issue: Ignore dupes in regexp flags](https://crbug.com/v8/219)**  
**[Commit: Allow duplicate flags in regexps to match other browsers.](https://chromium.googlesource.com/v8/v8/+/0730ada)**  
  
Date(Commit): Fri Jan 30 12:36:40 2009  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@1193](http://v8.googlecode.com/svn/branches/bleeding_edge@1193)  
Regress: [mjsunit/regress/regress-219.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-219.js)  
```javascript
function assertFlags(re, global, multiline, ignoreCase) {
  var name = re + " flag: ";
  (global ? assertTrue : assertFalse)(re.global, name + "g");
  (multiline ? assertTrue : assertFalse)(re.multiline, name + "m");
  (ignoreCase ? assertTrue : assertFalse)(re.ignoreCase, name + "i");
}

var re = /a/;
assertFlags(re, false, false, false)

re = /a/gim;
assertFlags(re, true, true, true)

re = RegExp("a","");
assertFlags(re, false, false, false)

re = RegExp("a", "gim");
assertFlags(re, true, true, true)



assertThrows("/a/ii");

assertThrows("/a/gii");

assertThrows("/a/igi");

assertThrows("/a/iig");

assertThrows("/a/gimi");

assertThrows("/a/giim");

assertThrows("/a/igim");

assertThrows(function(){ return RegExp("a", "ii"); })

assertThrows(function(){ return RegExp("a", "gii"); })

assertThrows(function(){ return RegExp("a", "igi"); })

assertThrows(function(){ return RegExp("a", "iig"); })

assertThrows(function(){ return RegExp("a", "gimi"); })

assertThrows(function(){ return RegExp("a", "giim"); })

assertThrows(function(){ return RegExp("a", "igim"); })



assertThrows("/a/iii");

assertThrows("/a/giii");

assertThrows("/a/igii");

assertThrows("/a/iigi");

assertThrows("/a/iiig");

assertThrows("/a/miiig");

assertThrows(function(){ return RegExp("a", "iii"); })

assertThrows(function(){ return RegExp("a", "giii"); })

assertThrows(function(){ return RegExp("a", "igii"); })

assertThrows(function(){ return RegExp("a", "iigi"); })

assertThrows(function(){ return RegExp("a", "iiig"); })

assertThrows(function(){ return RegExp("a", "miiig"); })



assertThrows("/a/arglebargleglopglyf");

assertThrows("/a/arglebargleglopglif");

assertThrows("/a/arglebargleglopglym");

assertThrows("/a/arglebargleglopglim");



var re = /a/gmi;
assertFlags(re, true, true, true)

assertThrows("/a/Gmi");

assertThrows("/a/gMi");

assertThrows("/a/gmI");

assertThrows("/a/GMi");

assertThrows("/a/GmI");

assertThrows("/a/gMI");

assertThrows("/a/GMI");



assertThrows("/a/\\u0067");
assertThrows("/a/\\u0069");
assertThrows("/a/\\u006d");
assertThrows("/a/\\u006D");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/0730ada^!)  
[src/regexp-delay.js](https://cs.chromium.org/chromium/src/v8/src/regexp-delay.js?cl=0730ada)  
[test/mjsunit/regress/regress-219.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-219.js?cl=0730ada)  
  
---   

## **v8 issue:192**  
   
**[Issue: CHECK(result != Top::has_pending_exception()) failed](https://crbug.com/v8/192)**  
**[Commit: Fix issue 192 by propagating out exceptions from object literal](https://chromium.googlesource.com/v8/v8/+/524e34b)**  
  
Date(Commit): Mon Jan 26 13:10:26 2009  
Type: ----  
Code Review: [http://codereview.chromium.org/18749](http://codereview.chromium.org/18749)  
Regress: [mjsunit/regress/regress-192.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-192.js)  
```javascript
Object.prototype.__defineGetter__("x", function() {});
Object.prototype.__defineSetter__("y",
                                  function() { assertUnreachable("setter"); });



var x = ({ x: 42, y: 37 });
assertEquals(42, x.x);
assertEquals(37, x.y);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/524e34b^!)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=524e34b)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=524e34b)  
[test/mjsunit/regress/regress-192.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-192.js?cl=524e34b)  
  
---   

## **v8 issue:201**  
   
**[Issue: array.sort() crash](https://crbug.com/v8/201)**  
**[Commit: Do not violate the assumption that fast-case arrays have Smi length](https://chromium.googlesource.com/v8/v8/+/39842ba)**  
  
Date(Commit): Fri Jan 23 13:08:29 2009  
Type: Bug  
Code Review: [http://code.google.com/p/v8/issues/detail?id=201](http://code.google.com/p/v8/issues/detail?id=201)  
Regress: [mjsunit/regress/regress-201.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-201.js)  
```javascript
function testsort(n) {
  n=1*n;
  var numbers=new Array(n);
  for (var i=0;i<n;i++) numbers[i]=i;
  numbers.sort();
}

testsort("5001")  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/39842ba^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=39842ba)  
[test/mjsunit/regress/regress-201.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-201.js?cl=39842ba)  
  
---   

## **v8 issue:193**  
   
**[Issue: Fatal error in src/builtins.cc, line 127 - unreachable code](https://crbug.com/v8/193)**  
**[Commit: Make sure that eval and try-catch introduced context extension objects](https://chromium.googlesource.com/v8/v8/+/8a73135)**  
  
Date(Commit): Fri Jan 23 12:16:03 2009  
Type: ----  
Code Review: [http://code.google.com/p/v8/issues/detail?id=193.](http://code.google.com/p/v8/issues/detail?id=193.)  
Regress: [mjsunit/regress/regress-193.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-193.js)  
```javascript
function f() {
  return eval("var x; constructor");
}


f()();



assertEquals(constructor, f());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/8a73135^!)  
[src/contexts.cc](https://cs.chromium.org/chromium/src/v8/src/contexts.cc?cl=8a73135)  
[test/mjsunit/regress/regress-193.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-193.js?cl=8a73135)  
  
---   

## **v8 issue:189**  
   
**[Issue: Crash [@ v8::internal::Runtime_InitializeConstContextSlot] and CHECK(attributes != ABSENT && (attributes & READ_ONLY) != 0) failed](https://crbug.com/v8/189)**  
**[Commit: Fix handling of const initialization.  We did not handle the fact that](https://chromium.googlesource.com/v8/v8/+/c23dbc1)**  
  
Date(Commit): Thu Jan 22 13:53:06 2009  
Type: ----  
Code Review: [http://code.google.com/p/v8/issues/detail?id=189](http://code.google.com/p/v8/issues/detail?id=189)  
Regress: [mjsunit/regress/regress-189.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-189.js)  
```javascript
function f() {
  eval("delete x; const x = 32");
}

f();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c23dbc1^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=c23dbc1)  
[test/mjsunit/const-eval-init.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/const-eval-init.js?cl=c23dbc1)  
[test/mjsunit/const.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/const.js?cl=c23dbc1)  
[test/mjsunit/regress/regress-189.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-189.js?cl=c23dbc1)  
  
---   

## **v8 issue:74**  
   
**[Issue: Caught variables should be DontDelete](https://crbug.com/v8/74)**  
**[Commit: Change the handling of catch blocks to use context extension objects](https://chromium.googlesource.com/v8/v8/+/47d1298)**  
  
Date(Commit): Fri Jan 16 09:42:08 2009  
Type: Defect  
Code Review: [http://codereview.chromium.org/18143](http://codereview.chromium.org/18143)  
Regress: [mjsunit/regress/regress-74.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-74.js)  
```javascript
function test() {
  try {
    throw 42;
  } catch(e) {
    assertFalse(delete e, "deleting catch variable");
    assertEquals(42, e);
  }
}

test();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/47d1298^!)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=47d1298)  
[src/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-arm.cc?cl=47d1298)  
[src/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-ia32.cc?cl=47d1298)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=47d1298)  
[src/prettyprinter.cc](https://cs.chromium.org/chromium/src/v8/src/prettyprinter.cc?cl=47d1298)  
[src/rewriter.cc](https://cs.chromium.org/chromium/src/v8/src/rewriter.cc?cl=47d1298)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=47d1298)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=47d1298)  
[src/usage-analyzer.cc](https://cs.chromium.org/chromium/src/v8/src/usage-analyzer.cc?cl=47d1298)  
[test/cctest/test-debug.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-debug.cc?cl=47d1298)  
[test/mjsunit/regress/regress-74.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-74.js?cl=47d1298)  
[test/mjsunit/try-catch-extension-object.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/try-catch-extension-object.js?cl=47d1298)  
  
---   

## **v8 issue:191**  
   
**[Issue: CHECK(context_ext->GetLocalPropertyAttribute(*name) == mode) failed](https://crbug.com/v8/191)**  
**[Commit: Fix issue 191:](https://chromium.googlesource.com/v8/v8/+/384b0a54)**  
  
Date(Commit): Thu Jan 15 11:31:08 2009  
Type: ----  
Code Review: [http://code.google.com/p/v8/issues/detail?id=191](http://code.google.com/p/v8/issues/detail?id=191)  
Regress: [mjsunit/regress/regress-191.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-191.js)  
```javascript
var setterCalled = false;

Object.prototype.__defineSetter__("x", function() { setterCalled = true; });

function test() {
  eval("var x = 42");
  assertFalse(setterCalled, "accessor setter call on context object");
  assertEquals(42, eval("x"));
}

test();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/384b0a54^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=384b0a54)  
[test/mjsunit/regress/regress-191.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-191.js?cl=384b0a54)  
  
---   

## **v8 issue:187**  
   
**[Issue: Captures made in regexp lookahead should be cleared on match failure](https://crbug.com/v8/187)**  
**[Commit: Added clearing of captures before entering the body of a loop.  This](https://chromium.googlesource.com/v8/v8/+/d6e6508)**  
  
Date(Commit): Wed Jan 14 11:32:23 2009  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@1070](http://v8.googlecode.com/svn/branches/bleeding_edge@1070)  
Regress: [mjsunit/regress/regress-187.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-187.js)  
```javascript
assertEquals(["f", undefined], "foo".match(/(?:(?=(f)o)fx|)./));  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/d6e6508^!)  
[src/ast.cc](https://cs.chromium.org/chromium/src/v8/src/ast.cc?cl=d6e6508)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=d6e6508)  
[src/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/jsregexp.cc?cl=d6e6508)  
[src/jsregexp.h](https://cs.chromium.org/chromium/src/v8/src/jsregexp.h?cl=d6e6508)  
[src/regexp-macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-ia32.cc?cl=d6e6508)  
[src/regexp-macro-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-ia32.h?cl=d6e6508)  
[src/regexp-macro-assembler-irregexp.cc](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-irregexp.cc?cl=d6e6508)  
[src/regexp-macro-assembler-irregexp.h](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-irregexp.h?cl=d6e6508)  
[src/regexp-macro-assembler-tracer.cc](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-tracer.cc?cl=d6e6508)  
[src/regexp-macro-assembler-tracer.h](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-tracer.h?cl=d6e6508)  
[src/regexp-macro-assembler.h](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler.h?cl=d6e6508)  
[test/cctest/test-regexp.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-regexp.cc?cl=d6e6508)  
[test/mjsunit/bugs/bug-187.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-187.js?cl=d6e6508)  
[test/mjsunit/mjsunit.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.js?cl=d6e6508)  
[test/mjsunit/mjsunit.status](https://cs.chromium.org/chromium/src/v8/test/mjsunit/mjsunit.status?cl=d6e6508)  
[test/mjsunit/regexp-loop-capture.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regexp-loop-capture.js?cl=d6e6508)  
[test/mjsunit/regress/regress-176.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-176.js?cl=d6e6508)  
  
---   

## **v8 issue:186**  
   
**[Issue: CHECK(!context_ext->HasLocalProperty(*name)) failed](https://crbug.com/v8/186)**  
**[Commit: Add failing test for issue 186:](https://chromium.googlesource.com/v8/v8/+/cd1afea)**  
  
Date(Commit): Wed Jan 14 09:20:13 2009  
Type: ----  
Code Review: [http://code.google.com/p/v8/issues/detail?id=186](http://code.google.com/p/v8/issues/detail?id=186)  
Regress: [mjsunit/regress/regress-186.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-186.js)  
```javascript
var setterCalled = false;

var o = {};
o.__defineSetter__("x", function() { setterCalled = true; });

function runTest(test) {
  setterCalled = false;
  test();
}

function testLocal() {
  
  eval("var __proto__ = o");
  
  eval("var x = 27");
  assertFalse(setterCalled, "prototype of extension object changed");
  assertEquals(o, eval("__proto__"));
}

function testGlobal() {
  
  eval("__proto__ = o");
  
  eval("x = 27");
  assertTrue(setterCalled, "prototype of global object did not change");
  setterCalled = false;
  assertEquals(o, eval("__proto__"));
}

runTest(testLocal);
runTest(testGlobal);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/cd1afea^!)  
[test/mjsunit/bugs/bug-186.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-186.js?cl=cd1afea)  
  
---   

## **v8 issue:171**  
   
**[Issue: ARM function call with string value and then string object fails.](https://crbug.com/v8/171)**  
**[Commit: Fix for issue 171:](https://chromium.googlesource.com/v8/v8/+/f3da5ff)**  
  
Date(Commit): Wed Jan 07 23:26:31 2009  
Type: Bug  
Code Review: [http://codereview.chromium.org/16594](http://codereview.chromium.org/16594)  
Regress: [mjsunit/regress/regress-171.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-171.js)  
```javascript
function f(s) { return s.length; }
function g(s, key) { return s[key]; }

assertEquals(f(new String("a")), 1);
assertEquals(f(new String("a")), 1);
assertEquals(f(new String("a")), 1);
assertEquals(f("a"), 1);
assertEquals(f(new String("a")), 1);

assertEquals(g(new String("a"), "length"), 1);
assertEquals(g(new String("a"), "length"), 1);
assertEquals(g(new String("a"), "length"), 1);
assertEquals(g("a", "length"), 1);
assertEquals(g(new String("a"), "length"), 1);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/f3da5ff^!)  
[src/stub-cache-arm.cc](https://cs.chromium.org/chromium/src/v8/src/stub-cache-arm.cc?cl=f3da5ff)  
[test/mjsunit/regress/regress-171.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-171.js?cl=f3da5ff)  
  
---   

## **v8 issue:91**  
   
**[Issue: WebKit test for nan dates fails](https://crbug.com/v8/91)**  
**[Commit: Fix for issue 91 (http://code.google.com/p/v8/issues/detail?id=91)](https://chromium.googlesource.com/v8/v8/+/726aa85)**  
  
Date(Commit): Wed Jan 07 09:58:58 2009  
Type: ----  
Code Review: [http://codereview.chromium.org/17232](http://codereview.chromium.org/17232)  
Regress: [mjsunit/regress/regress-91.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-91.js)  
```javascript
var date = new Date();
var year = date.getYear();
date.setMilliseconds(Number.NaN);
date.setYear(1900 + year);
assertEquals(year, date.getYear());
assertEquals(0, date.getMonth());
assertEquals(1, date.getDate());
assertEquals(0, date.getHours());
assertEquals(0, date.getMinutes());
assertEquals(0, date.getSeconds());
assertEquals(0, date.getMilliseconds());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/726aa85^!)  
[src/date-delay.js](https://cs.chromium.org/chromium/src/v8/src/date-delay.js?cl=726aa85)  
[test/mjsunit/regress/regress-91.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-91.js?cl=726aa85)  
  
---   

## **v8 issue:176**  
   
**[Issue: Regexp: ? should be implemented as {0,1}](https://crbug.com/v8/176)**  
**[Commit: Added test for bug 176 (zero length matches should fail in quantifiers).](https://chromium.googlesource.com/v8/v8/+/4ede982)**  
  
Date(Commit): Thu Dec 11 09:01:55 2008  
Type: Bug  
Code Review: [http://codereview.chromium.org/13381](http://codereview.chromium.org/13381)  
Regress: [mjsunit/regress/regress-176.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-176.js)  
```javascript
assertArrayEquals(["f", undefined],
                  "foo".match(/(?:(?=(f)o))?f/),
                  "zero length match in (?:) with capture in lookahead");
assertArrayEquals(["f", undefined],
                  "foo".match(/(?=(f)o)?f/),
                  "zero length match in (?=) with capture in lookahead");
assertArrayEquals(["fo", "f"],
                  "foo".match(/(?:(?=(f)o)f)?o/),
                  "non-zero length match with capture in lookahead");
assertArrayEquals(["fo", "f"],
                  "foo".match(/(?:(?=(f)o)f?)?o/),
                  "non-zero length match with greedy ? in (?:)");
assertArrayEquals(["fo", "f"],
                  "foo".match(/(?:(?=(f)o)f??)?o/),
                  "non-zero length match with non-greedy ? in (?:), o forces backtrack");
assertArrayEquals(["fo", "f"],
                  "foo".match(/(?:(?=(f)o)f??)?./),
                  "non-zero length match with non-greedy ? in (?:), zero length match causes backtrack");
assertArrayEquals(["f", undefined],
                  "foo".match(/(?:(?=(f)o)fx)?./),
                  "x causes backtrack inside (?:)");  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4ede982^!)  
[test/mjsunit/bugs/bug-176.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-176.js?cl=4ede982)  
  
---   

## **v8 issue:149**  
   
**[Issue: Some upper/lower case mappings are performed incorrectly](https://crbug.com/v8/149)**  
**[Commit: Merge regexp2000 back into bleeding_edge](https://chromium.googlesource.com/v8/v8/+/b57b4a1)**  
  
Date(Commit): Tue Nov 25 11:07:48 2008  
Type: Bug  
Code Review: [http://codereview.chromium.org/12427](http://codereview.chromium.org/12427)  
Regress: [mjsunit/regress/regress-149.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-149.js)  
```javascript
assertEquals(String.fromCharCode(0x26B), String.fromCharCode(0x2C62).toLowerCase());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/b57b4a1^!)  
[src/SConscript](https://cs.chromium.org/chromium/src/v8/src/SConscript?cl=b57b4a1)  
[src/assembler-ia32-inl.h](https://cs.chromium.org/chromium/src/v8/src/assembler-ia32-inl.h?cl=b57b4a1)  
[src/assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/assembler-ia32.cc?cl=b57b4a1)  
[src/assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/assembler-ia32.h?cl=b57b4a1)  
[src/assembler-irregexp-inl.h](https://cs.chromium.org/chromium/src/v8/src/assembler-irregexp-inl.h?cl=b57b4a1)  
[src/assembler-irregexp.cc](https://cs.chromium.org/chromium/src/v8/src/assembler-irregexp.cc?cl=b57b4a1)  
[src/assembler-irregexp.h](https://cs.chromium.org/chromium/src/v8/src/assembler-irregexp.h?cl=b57b4a1)  
[src/assembler.h](https://cs.chromium.org/chromium/src/v8/src/assembler.h?cl=b57b4a1)  
[src/ast.cc](https://cs.chromium.org/chromium/src/v8/src/ast.cc?cl=b57b4a1)  
[src/ast.h](https://cs.chromium.org/chromium/src/v8/src/ast.h?cl=b57b4a1)  
[src/builtins.cc](https://cs.chromium.org/chromium/src/v8/src/builtins.cc?cl=b57b4a1)  
[src/bytecodes-irregexp.h](https://cs.chromium.org/chromium/src/v8/src/bytecodes-irregexp.h?cl=b57b4a1)  
[src/checks.h](https://cs.chromium.org/chromium/src/v8/src/checks.h?cl=b57b4a1)  
[src/constants-arm.h](https://cs.chromium.org/chromium/src/v8/src/constants-arm.h?cl=b57b4a1)  
[src/factory.cc](https://cs.chromium.org/chromium/src/v8/src/factory.cc?cl=b57b4a1)  
[src/factory.h](https://cs.chromium.org/chromium/src/v8/src/factory.h?cl=b57b4a1)  
[src/flag-definitions.h](https://cs.chromium.org/chromium/src/v8/src/flag-definitions.h?cl=b57b4a1)  
[src/globals.h](https://cs.chromium.org/chromium/src/v8/src/globals.h?cl=b57b4a1)  
[src/heap.cc](https://cs.chromium.org/chromium/src/v8/src/heap.cc?cl=b57b4a1)  
[src/heap.h](https://cs.chromium.org/chromium/src/v8/src/heap.h?cl=b57b4a1)  
[src/interpreter-irregexp.cc](https://cs.chromium.org/chromium/src/v8/src/interpreter-irregexp.cc?cl=b57b4a1)  
[src/interpreter-irregexp.h](https://cs.chromium.org/chromium/src/v8/src/interpreter-irregexp.h?cl=b57b4a1)  
[src/jsregexp-inl.h](https://cs.chromium.org/chromium/src/v8/src/jsregexp-inl.h?cl=b57b4a1)  
[src/jsregexp.cc](https://cs.chromium.org/chromium/src/v8/src/jsregexp.cc?cl=b57b4a1)  
[src/jsregexp.h](https://cs.chromium.org/chromium/src/v8/src/jsregexp.h?cl=b57b4a1)  
[src/list-inl.h](https://cs.chromium.org/chromium/src/v8/src/list-inl.h?cl=b57b4a1)  
[src/list.h](https://cs.chromium.org/chromium/src/v8/src/list.h?cl=b57b4a1)  
[src/objects-debug.cc](https://cs.chromium.org/chromium/src/v8/src/objects-debug.cc?cl=b57b4a1)  
[src/objects-inl.h](https://cs.chromium.org/chromium/src/v8/src/objects-inl.h?cl=b57b4a1)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=b57b4a1)  
[src/objects.h](https://cs.chromium.org/chromium/src/v8/src/objects.h?cl=b57b4a1)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=b57b4a1)  
[src/parser.h](https://cs.chromium.org/chromium/src/v8/src/parser.h?cl=b57b4a1)  
[src/regexp-macro-assembler-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-ia32.cc?cl=b57b4a1)  
[src/regexp-macro-assembler-ia32.h](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-ia32.h?cl=b57b4a1)  
[src/regexp-macro-assembler-irregexp.cc](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-irregexp.cc?cl=b57b4a1)  
[src/regexp-macro-assembler-irregexp.h](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler-irregexp.h?cl=b57b4a1)  
[src/regexp-macro-assembler.cc](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler.cc?cl=b57b4a1)  
[src/regexp-macro-assembler.h](https://cs.chromium.org/chromium/src/v8/src/regexp-macro-assembler.h?cl=b57b4a1)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=b57b4a1)  
[src/string-stream.cc](https://cs.chromium.org/chromium/src/v8/src/string-stream.cc?cl=b57b4a1)  
[src/string-stream.h](https://cs.chromium.org/chromium/src/v8/src/string-stream.h?cl=b57b4a1)  
[src/stub-cache.cc](https://cs.chromium.org/chromium/src/v8/src/stub-cache.cc?cl=b57b4a1)  
[src/unicode.cc](https://cs.chromium.org/chromium/src/v8/src/unicode.cc?cl=b57b4a1)  
[src/unicode.h](https://cs.chromium.org/chromium/src/v8/src/unicode.h?cl=b57b4a1)  
[src/utils.h](https://cs.chromium.org/chromium/src/v8/src/utils.h?cl=b57b4a1)  
[test/cctest/SConscript](https://cs.chromium.org/chromium/src/v8/test/cctest/SConscript?cl=b57b4a1)  
[test/cctest/test-regexp.cc](https://cs.chromium.org/chromium/src/v8/test/cctest/test-regexp.cc?cl=b57b4a1)  
[test/mjsunit/non-ascii-replace.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/non-ascii-replace.js?cl=b57b4a1)  
[test/mjsunit/regexp.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regexp.js?cl=b57b4a1)  
[test/mjsunit/regress/regress-149.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-149.js?cl=b57b4a1)  
[test/mjsunit/unicode-test.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/unicode-test.js?cl=b57b4a1)  
[test/mozilla/mozilla.status](https://cs.chromium.org/chromium/src/v8/test/mozilla/mozilla.status?cl=b57b4a1)  
  
---   

## **v8 issue:137**  
   
**[Issue: division-> switch problem (it works correctly in previous chrome, in FF, Safari and IE)](https://crbug.com/v8/137)**  
**[Commit: If a HeapNumber is the incoming value, it must be converted to Smi before](https://chromium.googlesource.com/v8/v8/+/4e3bbd8)**  
  
Date(Commit): Mon Nov 03 13:33:13 2008  
Type: ----  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@679](http://v8.googlecode.com/svn/branches/bleeding_edge@679)  
Regress: [mjsunit/regress/regress-137.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-137.js)  
```javascript
(function () {
  var strNum = 170;
  var base = strNum / 16;
  var rem = strNum % 16;
  var base = base - (rem / 16);  

  switch(base) {
    case 10: return "A";  
    case 11: return "B";
    case 12: return "C";
    case 13: return "D";
    case 14: return "E";
    case 15: return "F";  
  };
  fail("case 10", "Default case", "Heap number not recognized as Smi value");
})();  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/4e3bbd8^!)  
[src/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-arm.cc?cl=4e3bbd8)  
[src/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-ia32.cc?cl=4e3bbd8)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=4e3bbd8)  
[src/runtime.h](https://cs.chromium.org/chromium/src/v8/src/runtime.h?cl=4e3bbd8)  
[test/mjsunit/regress/regress-137.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-137.js?cl=4e3bbd8)  
[test/mjsunit/switch.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/switch.js?cl=4e3bbd8)  
  
---   

## **v8 issue:124**  
   
**[Issue: implicit 'this' is not as expected in an eval statement inside a function](https://crbug.com/v8/124)**  
**[Commit: Added failing test case for bug 124.](https://chromium.googlesource.com/v8/v8/+/96733af)**  
  
Date(Commit): Thu Oct 23 05:49:05 2008  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@558](http://v8.googlecode.com/svn/branches/bleeding_edge@558)  
Regress: [mjsunit/regress/regress-124.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-124.js)  
```javascript
assertEquals("[object global]", this.toString());
assertEquals("[object Undefined]", toString());

assertEquals("[object global]", eval("this.toString()"));
assertEquals("[object Undefined]", eval("toString()"));

assertEquals("[object global]", eval("var f; this.toString()"));
assertEquals("[object Undefined]", eval("var f; toString()"));


function F(f) {
  assertEquals("[object global]", this.toString());
  assertEquals("[object Undefined]", toString());

  assertEquals("[object global]", eval("this.toString()"));
  assertEquals("[object Undefined]", eval("toString()"));

  assertEquals("[object global]", eval("var f; this.toString()"));
  assertEquals("[object Undefined]", eval("var f; toString()"));

  assertEquals("[object Undefined]", eval("f()"));

  
  assertEquals("[object Arguments]", eval("arguments[0]()"));
  with (arguments) {
    assertEquals("[object Arguments]", toString());
  }
}

F(Object.prototype.toString);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/96733af^!)  
[test/mjsunit/bugs/bug-124.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-124.js?cl=96733af)  
  
---   

## **v8 issue:116**  
   
**[Issue: function return value when accessing/setting array is not consistent with other JS engines](https://crbug.com/v8/116)**  
**[Commit: Fix issue 116 by returning the value from SetFastElement.](https://chromium.googlesource.com/v8/v8/+/c63477d)**  
  
Date(Commit): Fri Oct 17 06:36:35 2008  
Type: ----  
Code Review: [http://codereview.chromium.org/7615](http://codereview.chromium.org/7615)  
Regress: [mjsunit/regress/regress-116.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-116.js)  
```javascript
var testCache = {};
var doLookup = function(id) {
  return testCache[id] = 'foo';
};

var r2 = doLookup(0);
var r1 = doLookup([0]);

assertFalse(r1 === testCache);
assertEquals('foo', r1);
assertEquals('f', r1[0]);
assertEquals('foo', r2);
assertEquals('f', r2[0]);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/c63477d^!)  
[src/objects.cc](https://cs.chromium.org/chromium/src/v8/src/objects.cc?cl=c63477d)  
[test/mjsunit/regress/regress-116.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-116.js?cl=c63477d)  
  
---   

## **v8 issue:114**  
   
**[Issue: Incorrect loop in "runtime.cc"](https://crbug.com/v8/114)**  
**[Commit: Fixed bug 114](https://chromium.googlesource.com/v8/v8/+/a601594)**  
  
Date(Commit): Tue Oct 14 09:13:23 2008  
Type: ----  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@493](http://v8.googlecode.com/svn/branches/bleeding_edge@493)  
Regress: [mjsunit/regress/regress-114.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-114.js)  
```javascript
assertEquals("FRIEDRICHSTRASSE 14", "friedrichstra\xDFe 14".toUpperCase());
assertEquals("XXSSSSSSXX", "xx\xDF\xDF\xDFxx".toUpperCase());
assertEquals("(SS)", "(\xDF)".toUpperCase());
assertEquals("SS", "\xDF".toUpperCase());


assertEquals("i\u0307", "\u0130".toLowerCase());
assertEquals("(i\u0307)", "(\u0130)".toLowerCase());
assertEquals("xxi\u0307xx", "XX\u0130XX".toLowerCase());



assertEquals("\u03A5\u0308\u0301", "\u03B0".toUpperCase());
assertEquals("(\u03A5\u0308\u0301)", "(\u03B0)".toUpperCase());
assertEquals("XX\u03A5\u0308\u0301XX", "xx\u03B0xx".toUpperCase());  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/a601594^!)  
[src/runtime.cc](https://cs.chromium.org/chromium/src/v8/src/runtime.cc?cl=a601594)  
[test/mjsunit/regress/regress-114.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-114.js?cl=a601594)  
  
---   

## **v8 issue:86**  
   
**[Issue: Continuing a for-each loop in a finally clause exits the loop](https://crbug.com/v8/86)**  
**[Commit: - Added support for warnings on unused test rules.](https://chromium.googlesource.com/v8/v8/+/2d0c43a)**  
  
Date(Commit): Thu Sep 25 12:38:34 2008  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@375](http://v8.googlecode.com/svn/branches/bleeding_edge@375)  
Regress: [mjsunit/regress/regress-86.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-86.js)  
```javascript
var aList = [1, 2, 3];
var loopCount = 0;
var leftThroughFinally = false;
var enteredFinally = false;
for (x in aList) {
  leftThroughFinally = true;
  try {
    throw "ex1";
  } catch(er1) {
    loopCount += 1;
  } finally {
    enteredFinally = true;
    continue;
  }
  leftThroughFinally = false;
}
assertEquals(3, loopCount);
assertTrue(enteredFinally);
assertTrue(leftThroughFinally);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2d0c43a^!)  
[samples/shell.cc](https://cs.chromium.org/chromium/src/v8/samples/shell.cc?cl=2d0c43a)  
[test/mjsunit/bugs/bug-86.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-86.js?cl=2d0c43a)  
[test/mjsunit/bugs/bug-87.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/bugs/bug-87.js?cl=2d0c43a)  
[tools/test.py](https://cs.chromium.org/chromium/src/v8/tools/test.py?cl=2d0c43a)  
  
---   

## **v8 issue:69**  
   
**[Issue: Crash on http://www.steev.net](https://crbug.com/v8/69)**  
**[Commit: Fix http://code.google.com/p/v8/issues/detail?id=69 :](https://chromium.googlesource.com/v8/v8/+/88192fc)**  
  
Date(Commit): Tue Sep 16 11:23:02 2008  
Type: Bug  
Code Review: [http://code.google.com/p/v8/issues/detail?id=69](http://code.google.com/p/v8/issues/detail?id=69)  
Regress: [mjsunit/regress/regress-69.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-69.js)  
```javascript
function unbalanced_switch(a) {
  try {
    switch (a) {
      default: break;
    }
  } catch (e) {}
  gc();
}

unbalanced_switch(1);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/88192fc^!)  
[src/codegen-arm.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-arm.cc?cl=88192fc)  
[src/codegen-ia32.cc](https://cs.chromium.org/chromium/src/v8/src/codegen-ia32.cc?cl=88192fc)  
[test/mjsunit/regress/regress-69.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-69.js?cl=88192fc)  
  
---   

## **v8 issue:57**  
   
**[Issue: Crash when deleting prototype[0]](https://crbug.com/v8/57)**  
**[Commit: Fixed bug #57.  Introduced String::Utf8Value and replaced a bunch of](https://chromium.googlesource.com/v8/v8/+/6974e4b)**  
  
Date(Commit): Wed Sep 10 11:41:48 2008  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@254](http://v8.googlecode.com/svn/branches/bleeding_edge@254)  
Regress: [mjsunit/regress/regress-57.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-57.js)  
```javascript
try {
  delete (void 0).x;
} catch (e) {
  print(e.toString());
}  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/6974e4b^!)  
[include/v8.h](https://cs.chromium.org/chromium/src/v8/include/v8.h?cl=6974e4b)  
[samples/process.cc](https://cs.chromium.org/chromium/src/v8/samples/process.cc?cl=6974e4b)  
[samples/shell.cc](https://cs.chromium.org/chromium/src/v8/samples/shell.cc?cl=6974e4b)  
[src/api.cc](https://cs.chromium.org/chromium/src/v8/src/api.cc?cl=6974e4b)  
[src/checks.cc](https://cs.chromium.org/chromium/src/v8/src/checks.cc?cl=6974e4b)  
[src/messages.js](https://cs.chromium.org/chromium/src/v8/src/messages.js?cl=6974e4b)  
[src/runtime.js](https://cs.chromium.org/chromium/src/v8/src/runtime.js?cl=6974e4b)  
[test/mjsunit/regress/regress-57.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-57.js?cl=6974e4b)  
  
---   

## **v8 issue:35**  
   
**[Issue: Need to check for end of string when parsing break or continue.](https://crbug.com/v8/35)**  
**[Commit: Fix issue 35 by applying patch by Daniel James.](https://chromium.googlesource.com/v8/v8/+/2f0c910)**  
  
Date(Commit): Mon Sep 08 07:58:54 2008  
Type: Bug  
Code Review: [http://v8.googlecode.com/svn/branches/bleeding_edge@195](http://v8.googlecode.com/svn/branches/bleeding_edge@195)  
Regress: [mjsunit/regress/regress-35.js](https://chromium.googlesource.com/v8/v8/+/master/test/mjsunit/regress/regress-35.js)  
```javascript
var result;
eval("result = 42; while(true)break");
assertEquals(42, result);

eval("result = 87; while(false)continue");
assertEquals(87, result);  
```  
  
[[Diff]](https://chromium.googlesource.com/v8/v8/+/2f0c910^!)  
[AUTHORS](https://cs.chromium.org/chromium/src/v8/AUTHORS?cl=2f0c910)  
[src/parser.cc](https://cs.chromium.org/chromium/src/v8/src/parser.cc?cl=2f0c910)  
[test/mjsunit/regress/regress-35.js](https://cs.chromium.org/chromium/src/v8/test/mjsunit/regress/regress-35.js?cl=2f0c910)  
  
---   
